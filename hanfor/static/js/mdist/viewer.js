/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./lib/animation/Animation.js":
/*!************************************!*\
  !*** ./lib/animation/Animation.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Animation)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/dist/index.js\");\n/* harmony import */ var tiny_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-svg */ \"./node_modules/tiny-svg/dist/index.esm.js\");\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/EventHelper */ \"./lib/util/EventHelper.js\");\n\n\n\n\n\n\nconst STYLE = getComputedStyle(document.documentElement);\n\nconst DEFAULT_PRIMARY_COLOR = STYLE.getPropertyValue('--token-simulation-green-base-44');\nconst DEFAULT_AUXILIARY_COLOR = STYLE.getPropertyValue('--token-simulation-white');\n\nfunction noop() {}\n\nfunction getSegmentEasing(index, waypoints) {\n\n  // only a single segment\n  if (waypoints.length === 2) {\n    return EASE_IN_OUT;\n  }\n\n  // first segment\n  if (index === 1) {\n    return EASE_IN;\n  }\n\n  // last segment\n  if (index === waypoints.length - 1) {\n    return EASE_OUT;\n  }\n\n  return EASE_LINEAR;\n}\n\nconst EASE_LINEAR = function(pos) {\n  return pos;\n};\nconst EASE_IN = function(pos) {\n  return -Math.cos(pos * Math.PI / 2) + 1;\n};\nconst EASE_OUT = function(pos) {\n  return Math.sin(pos * Math.PI / 2);\n};\nconst EASE_IN_OUT = function(pos) {\n  return -Math.cos(pos * Math.PI) / 2 + 0.5;\n};\n\nconst TOKEN_SIZE = 20;\n\n\nfunction Animation(config, canvas, eventBus, scopeFilter) {\n  this._eventBus = eventBus;\n  this._scopeFilter = scopeFilter;\n  this._canvas = canvas;\n\n  this._randomize = config && config.randomize !== false;\n\n  this._animations = new Set();\n  this._speed = 1;\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.RESET_SIMULATION_EVENT, () => {\n    this.clearAnimations();\n  });\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.PAUSE_SIMULATION_EVENT, () => {\n    this.pause();\n  });\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.PLAY_SIMULATION_EVENT, () => {\n    this.play();\n  });\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.SCOPE_FILTER_CHANGED_EVENT, event => {\n\n    this.each(animation => {\n      if (this._scopeFilter.isShown(animation.scope)) {\n        animation.show();\n      } else {\n        animation.hide();\n      }\n    });\n  });\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.SCOPE_DESTROYED_EVENT, event => {\n    const {\n      scope\n    } = event;\n\n    this.clearAnimations(scope);\n  });\n}\n\nAnimation.prototype.animate = function(connection, scope, done) {\n  this.createAnimation(connection, scope, done);\n};\n\nAnimation.prototype.pause = function() {\n  this.each(animation => animation.pause());\n};\n\nAnimation.prototype.play = function() {\n  this.each(animation => animation.play());\n};\n\nAnimation.prototype.each = function(fn) {\n  this._animations.forEach(fn);\n};\n\nAnimation.prototype.createAnimation = function(connection, scope, done = noop) {\n  const group = this._getGroup(scope);\n\n  if (!group) {\n    return;\n  }\n\n  const tokenGfx = this._createTokenGfx(group, scope);\n\n  const animation = new TokenAnimation(tokenGfx, connection.waypoints, this._randomize, () => {\n    this._animations.delete(animation);\n\n    done();\n  });\n\n  animation.setSpeed(this.getAnimationSpeed());\n\n  if (!this._scopeFilter.isShown(scope)) {\n    animation.hide();\n  }\n\n  animation.scope = scope;\n  animation.element = connection;\n\n  this._animations.add(animation);\n\n  this._eventBus.fire(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.ANIMATION_CREATED_EVENT, {\n    animation\n  });\n\n  animation.play();\n\n  return animation;\n};\n\nAnimation.prototype.setAnimationSpeed = function(speed) {\n  this._speed = speed;\n\n  this.each(animation => animation.setSpeed(speed));\n\n  this._eventBus.fire(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.ANIMATION_SPEED_CHANGED_EVENT, {\n    speed\n  });\n};\n\nAnimation.prototype.getAnimationSpeed = function() {\n  return this._speed;\n};\n\nAnimation.prototype.clearAnimations = function(scope) {\n  this.each(animation => {\n    if (!scope || animation.scope === scope) {\n      animation.remove();\n    }\n  });\n};\n\nAnimation.prototype._createTokenGfx = function(group, scope) {\n  const parent = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)(this._getTokenSVG(scope).trim());\n\n  return (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.appendTo)(parent, group);\n};\n\nAnimation.prototype._getTokenSVG = function(scope) {\n\n  const colors = scope.colors || {\n    primary: DEFAULT_PRIMARY_COLOR,\n    auxiliary: DEFAULT_AUXILIARY_COLOR\n  };\n\n  return `\n    <g class=\"bts-token\">\n      <circle\n        class=\"bts-circle\"\n        r=\"${TOKEN_SIZE / 2}\"\n        cx=\"${TOKEN_SIZE / 2}\"\n        cy=\"${TOKEN_SIZE / 2}\"\n        fill=\"${ colors.primary }\"\n      />\n      <text\n        class=\"bts-text\"\n        transform=\"translate(10, 14)\"\n        text-anchor=\"middle\"\n        fill=\"${ colors.auxiliary }\"\n      >1</text>\n    </g>\n  `;\n};\n\nAnimation.prototype._getGroup = function(scope) {\n\n  var canvas = this._canvas;\n\n  var layer, root;\n\n  // bpmn-js@9 compatibility:\n  // show animation tokens on plane layers\n  if ('findRoot' in canvas) {\n    root = canvas.findRoot(scope.element);\n    layer = canvas._findPlaneForRoot(root).layer;\n  } else {\n    layer = (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.query)('.viewport', canvas._svg);\n  }\n\n  var group = (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.query)('.bts-animation-tokens', layer);\n\n  if (!group) {\n    group = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)('<g class=\"bts-animation-tokens\" />');\n\n    (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.appendTo)(\n      group,\n      layer\n    );\n  }\n\n  return group;\n};\n\nAnimation.$inject = [\n  'config.animation',\n  'canvas',\n  'eventBus',\n  'scopeFilter'\n];\n\n\nfunction TokenAnimation(gfx, waypoints, randomize, done) {\n  this.gfx = gfx;\n  this.waypoints = waypoints;\n  this.done = done;\n  this.randomize = randomize;\n\n  this._paused = true;\n  this._t = 0;\n  this._parts = [];\n\n  this.create();\n}\n\nTokenAnimation.prototype.pause = function() {\n  this._paused = true;\n};\n\nTokenAnimation.prototype.play = function() {\n\n  if (this._paused) {\n    this._paused = false;\n\n    this.tick(0);\n  }\n\n  this.schedule();\n};\n\nTokenAnimation.prototype.schedule = function() {\n\n  if (this._paused) {\n    return;\n  }\n\n  if (this._scheduled) {\n    return;\n  }\n\n  const last = Date.now();\n\n  this._scheduled = true;\n\n  requestAnimationFrame(() => {\n    this._scheduled = false;\n\n    if (this._paused) {\n      return;\n    }\n\n    this.tick((Date.now() - last) * this._speed);\n    this.schedule();\n  });\n};\n\n\nTokenAnimation.prototype.tick = function(tElapsed) {\n\n  const t = this._t = this._t + tElapsed;\n\n  const part = this._parts.find(\n    p => p.startTime <= t && p.endTime > t\n  );\n\n  // completed\n  if (!part) {\n    return this.remove();\n  }\n\n  const segmentTime = t - part.startTime;\n  const segmentLength = part.length * part.easing(segmentTime / part.duration);\n\n  const currentLength = part.startLength + segmentLength;\n\n  const point = this._path.getPointAtLength(currentLength);\n\n  this.move(point.x, point.y);\n};\n\nTokenAnimation.prototype.move = function(x, y) {\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(this.gfx, 'transform', `translate(${x}, ${y})`);\n};\n\nTokenAnimation.prototype.create = function() {\n  const waypoints = this.waypoints;\n\n  const parts = waypoints.reduce((parts, point, index) => {\n\n    const lastPoint = waypoints[index - 1];\n\n    if (lastPoint) {\n      const lastPart = parts[parts.length - 1];\n\n      const startLength = lastPart && lastPart.endLength || 0;\n      const length = distance(lastPoint, point);\n\n      parts.push({\n        startLength,\n        endLength: startLength + length,\n        length,\n        easing: getSegmentEasing(index, waypoints)\n      });\n    }\n\n    return parts;\n  }, []);\n\n  const totalLength = parts.reduce(function(length, part) {\n    return length + part.length;\n  }, 0);\n\n  const d = waypoints.reduce((d, waypoint, index) => {\n\n    const x = waypoint.x - TOKEN_SIZE / 2,\n          y = waypoint.y - TOKEN_SIZE / 2;\n\n    d.push([ index > 0 ? 'L' : 'M', x, y ]);\n\n    return d;\n  }, []).flat().join(' ');\n\n  const totalDuration = getAnimationDuration(totalLength, this._randomize);\n\n  this._parts = parts.reduce((parts, part, index) => {\n    const duration = totalDuration / totalLength * part.length;\n    const startTime = index > 0 ? parts[index - 1].endTime : 0;\n    const endTime = startTime + duration;\n\n    return [\n      ...parts,\n      {\n        ...part,\n        startTime,\n        endTime,\n        duration\n      }\n    ];\n  }, []);\n\n  this._path = (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.create)(`<path d=\"${d}\" />`);\n  this._t = 0;\n};\n\nTokenAnimation.prototype.show = function() {\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(this.gfx, 'display', '');\n};\n\nTokenAnimation.prototype.hide = function() {\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.attr)(this.gfx, 'display', 'none');\n};\n\nTokenAnimation.prototype.remove = function() {\n  this.pause();\n\n  (0,tiny_svg__WEBPACK_IMPORTED_MODULE_1__.remove)(this.gfx);\n\n  this.done();\n};\n\nTokenAnimation.prototype.setSpeed = function(speed) {\n  this._speed = speed;\n};\n\nfunction getAnimationDuration(length, randomize = false) {\n  return Math.log(length) * (randomize ? randomBetween(250, 300) : 250);\n}\n\nfunction randomBetween(min, max) {\n  return min + Math.floor(Math.random() * (max - min));\n}\n\nfunction distance(a, b) {\n  return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvYW5pbWF0aW9uL0FuaW1hdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRWlCOztBQU9DOztBQVVXOztBQUU3Qjs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGNBQWMscUVBQXNCO0FBQ3BDO0FBQ0EsR0FBRzs7QUFFSCxjQUFjLHFFQUFzQjtBQUNwQztBQUNBLEdBQUc7O0FBRUgsY0FBYyxvRUFBcUI7QUFDbkM7QUFDQSxHQUFHOztBQUVILGNBQWMseUVBQTBCOztBQUV4QztBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVILGNBQWMsb0VBQXFCO0FBQ25DO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxzQkFBc0Isc0VBQXVCO0FBQzdDO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsc0JBQXNCLDRFQUE2QjtBQUNuRDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLGlCQUFpQixnREFBUzs7QUFFMUIsU0FBUyxrREFBVztBQUNwQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZUFBZTtBQUM1QixjQUFjLGVBQWU7QUFDN0IsY0FBYyxlQUFlO0FBQzdCLGlCQUFpQixnQkFBZ0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrQkFBa0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixZQUFZLDhDQUFRO0FBQ3BCOztBQUVBLGNBQWMsOENBQVE7O0FBRXRCO0FBQ0EsWUFBWSxnREFBUzs7QUFFckIsSUFBSSxrREFBVztBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLDhDQUFPLHFDQUFxQyxFQUFFLElBQUksRUFBRTtBQUN0RDs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILGVBQWUsZ0RBQVMsYUFBYSxFQUFFO0FBQ3ZDO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLDhDQUFPO0FBQ1Q7O0FBRUE7QUFDQSxFQUFFLDhDQUFPO0FBQ1Q7O0FBRUE7QUFDQTs7QUFFQSxFQUFFLGdEQUFTOztBQUVYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2FuaW1hdGlvbi9BbmltYXRpb24uanM/Y2ZmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBxdWVyeSBhcyBkb21RdWVyeVxufSBmcm9tICdtaW4tZG9tJztcblxuaW1wb3J0IHtcbiAgYXBwZW5kVG8gYXMgc3ZnQXBwZW5kVG8sXG4gIGNyZWF0ZSBhcyBzdmdDcmVhdGUsXG4gIGF0dHIgYXMgc3ZnQXR0cixcbiAgcmVtb3ZlIGFzIHN2Z1JlbW92ZVxufSBmcm9tICd0aW55LXN2Zyc7XG5cbmltcG9ydCB7XG4gIFJFU0VUX1NJTVVMQVRJT05fRVZFTlQsXG4gIFBMQVlfU0lNVUxBVElPTl9FVkVOVCxcbiAgUEFVU0VfU0lNVUxBVElPTl9FVkVOVCxcbiAgQU5JTUFUSU9OX0NSRUFURURfRVZFTlQsXG4gIEFOSU1BVElPTl9TUEVFRF9DSEFOR0VEX0VWRU5ULFxuICBTQ09QRV9ERVNUUk9ZRURfRVZFTlQsXG4gIFNDT1BFX0ZJTFRFUl9DSEFOR0VEX0VWRU5UXG59IGZyb20gJy4uL3V0aWwvRXZlbnRIZWxwZXInO1xuXG5jb25zdCBTVFlMRSA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcblxuY29uc3QgREVGQVVMVF9QUklNQVJZX0NPTE9SID0gU1RZTEUuZ2V0UHJvcGVydHlWYWx1ZSgnLS10b2tlbi1zaW11bGF0aW9uLWdyZWVuLWJhc2UtNDQnKTtcbmNvbnN0IERFRkFVTFRfQVVYSUxJQVJZX0NPTE9SID0gU1RZTEUuZ2V0UHJvcGVydHlWYWx1ZSgnLS10b2tlbi1zaW11bGF0aW9uLXdoaXRlJyk7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiBnZXRTZWdtZW50RWFzaW5nKGluZGV4LCB3YXlwb2ludHMpIHtcblxuICAvLyBvbmx5IGEgc2luZ2xlIHNlZ21lbnRcbiAgaWYgKHdheXBvaW50cy5sZW5ndGggPT09IDIpIHtcbiAgICByZXR1cm4gRUFTRV9JTl9PVVQ7XG4gIH1cblxuICAvLyBmaXJzdCBzZWdtZW50XG4gIGlmIChpbmRleCA9PT0gMSkge1xuICAgIHJldHVybiBFQVNFX0lOO1xuICB9XG5cbiAgLy8gbGFzdCBzZWdtZW50XG4gIGlmIChpbmRleCA9PT0gd2F5cG9pbnRzLmxlbmd0aCAtIDEpIHtcbiAgICByZXR1cm4gRUFTRV9PVVQ7XG4gIH1cblxuICByZXR1cm4gRUFTRV9MSU5FQVI7XG59XG5cbmNvbnN0IEVBU0VfTElORUFSID0gZnVuY3Rpb24ocG9zKSB7XG4gIHJldHVybiBwb3M7XG59O1xuY29uc3QgRUFTRV9JTiA9IGZ1bmN0aW9uKHBvcykge1xuICByZXR1cm4gLU1hdGguY29zKHBvcyAqIE1hdGguUEkgLyAyKSArIDE7XG59O1xuY29uc3QgRUFTRV9PVVQgPSBmdW5jdGlvbihwb3MpIHtcbiAgcmV0dXJuIE1hdGguc2luKHBvcyAqIE1hdGguUEkgLyAyKTtcbn07XG5jb25zdCBFQVNFX0lOX09VVCA9IGZ1bmN0aW9uKHBvcykge1xuICByZXR1cm4gLU1hdGguY29zKHBvcyAqIE1hdGguUEkpIC8gMiArIDAuNTtcbn07XG5cbmNvbnN0IFRPS0VOX1NJWkUgPSAyMDtcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBbmltYXRpb24oY29uZmlnLCBjYW52YXMsIGV2ZW50QnVzLCBzY29wZUZpbHRlcikge1xuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9zY29wZUZpbHRlciA9IHNjb3BlRmlsdGVyO1xuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG5cbiAgdGhpcy5fcmFuZG9taXplID0gY29uZmlnICYmIGNvbmZpZy5yYW5kb21pemUgIT09IGZhbHNlO1xuXG4gIHRoaXMuX2FuaW1hdGlvbnMgPSBuZXcgU2V0KCk7XG4gIHRoaXMuX3NwZWVkID0gMTtcblxuICBldmVudEJ1cy5vbihSRVNFVF9TSU1VTEFUSU9OX0VWRU5ULCAoKSA9PiB7XG4gICAgdGhpcy5jbGVhckFuaW1hdGlvbnMoKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oUEFVU0VfU0lNVUxBVElPTl9FVkVOVCwgKCkgPT4ge1xuICAgIHRoaXMucGF1c2UoKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oUExBWV9TSU1VTEFUSU9OX0VWRU5ULCAoKSA9PiB7XG4gICAgdGhpcy5wbGF5KCk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFNDT1BFX0ZJTFRFUl9DSEFOR0VEX0VWRU5ULCBldmVudCA9PiB7XG5cbiAgICB0aGlzLmVhY2goYW5pbWF0aW9uID0+IHtcbiAgICAgIGlmICh0aGlzLl9zY29wZUZpbHRlci5pc1Nob3duKGFuaW1hdGlvbi5zY29wZSkpIHtcbiAgICAgICAgYW5pbWF0aW9uLnNob3coKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFuaW1hdGlvbi5oaWRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFNDT1BFX0RFU1RST1lFRF9FVkVOVCwgZXZlbnQgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHNjb3BlXG4gICAgfSA9IGV2ZW50O1xuXG4gICAgdGhpcy5jbGVhckFuaW1hdGlvbnMoc2NvcGUpO1xuICB9KTtcbn1cblxuQW5pbWF0aW9uLnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24oY29ubmVjdGlvbiwgc2NvcGUsIGRvbmUpIHtcbiAgdGhpcy5jcmVhdGVBbmltYXRpb24oY29ubmVjdGlvbiwgc2NvcGUsIGRvbmUpO1xufTtcblxuQW5pbWF0aW9uLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVhY2goYW5pbWF0aW9uID0+IGFuaW1hdGlvbi5wYXVzZSgpKTtcbn07XG5cbkFuaW1hdGlvbi5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVhY2goYW5pbWF0aW9uID0+IGFuaW1hdGlvbi5wbGF5KCkpO1xufTtcblxuQW5pbWF0aW9uLnByb3RvdHlwZS5lYWNoID0gZnVuY3Rpb24oZm4pIHtcbiAgdGhpcy5fYW5pbWF0aW9ucy5mb3JFYWNoKGZuKTtcbn07XG5cbkFuaW1hdGlvbi5wcm90b3R5cGUuY3JlYXRlQW5pbWF0aW9uID0gZnVuY3Rpb24oY29ubmVjdGlvbiwgc2NvcGUsIGRvbmUgPSBub29wKSB7XG4gIGNvbnN0IGdyb3VwID0gdGhpcy5fZ2V0R3JvdXAoc2NvcGUpO1xuXG4gIGlmICghZ3JvdXApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB0b2tlbkdmeCA9IHRoaXMuX2NyZWF0ZVRva2VuR2Z4KGdyb3VwLCBzY29wZSk7XG5cbiAgY29uc3QgYW5pbWF0aW9uID0gbmV3IFRva2VuQW5pbWF0aW9uKHRva2VuR2Z4LCBjb25uZWN0aW9uLndheXBvaW50cywgdGhpcy5fcmFuZG9taXplLCAoKSA9PiB7XG4gICAgdGhpcy5fYW5pbWF0aW9ucy5kZWxldGUoYW5pbWF0aW9uKTtcblxuICAgIGRvbmUoKTtcbiAgfSk7XG5cbiAgYW5pbWF0aW9uLnNldFNwZWVkKHRoaXMuZ2V0QW5pbWF0aW9uU3BlZWQoKSk7XG5cbiAgaWYgKCF0aGlzLl9zY29wZUZpbHRlci5pc1Nob3duKHNjb3BlKSkge1xuICAgIGFuaW1hdGlvbi5oaWRlKCk7XG4gIH1cblxuICBhbmltYXRpb24uc2NvcGUgPSBzY29wZTtcbiAgYW5pbWF0aW9uLmVsZW1lbnQgPSBjb25uZWN0aW9uO1xuXG4gIHRoaXMuX2FuaW1hdGlvbnMuYWRkKGFuaW1hdGlvbik7XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZShBTklNQVRJT05fQ1JFQVRFRF9FVkVOVCwge1xuICAgIGFuaW1hdGlvblxuICB9KTtcblxuICBhbmltYXRpb24ucGxheSgpO1xuXG4gIHJldHVybiBhbmltYXRpb247XG59O1xuXG5BbmltYXRpb24ucHJvdG90eXBlLnNldEFuaW1hdGlvblNwZWVkID0gZnVuY3Rpb24oc3BlZWQpIHtcbiAgdGhpcy5fc3BlZWQgPSBzcGVlZDtcblxuICB0aGlzLmVhY2goYW5pbWF0aW9uID0+IGFuaW1hdGlvbi5zZXRTcGVlZChzcGVlZCkpO1xuXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoQU5JTUFUSU9OX1NQRUVEX0NIQU5HRURfRVZFTlQsIHtcbiAgICBzcGVlZFxuICB9KTtcbn07XG5cbkFuaW1hdGlvbi5wcm90b3R5cGUuZ2V0QW5pbWF0aW9uU3BlZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX3NwZWVkO1xufTtcblxuQW5pbWF0aW9uLnByb3RvdHlwZS5jbGVhckFuaW1hdGlvbnMgPSBmdW5jdGlvbihzY29wZSkge1xuICB0aGlzLmVhY2goYW5pbWF0aW9uID0+IHtcbiAgICBpZiAoIXNjb3BlIHx8IGFuaW1hdGlvbi5zY29wZSA9PT0gc2NvcGUpIHtcbiAgICAgIGFuaW1hdGlvbi5yZW1vdmUoKTtcbiAgICB9XG4gIH0pO1xufTtcblxuQW5pbWF0aW9uLnByb3RvdHlwZS5fY3JlYXRlVG9rZW5HZnggPSBmdW5jdGlvbihncm91cCwgc2NvcGUpIHtcbiAgY29uc3QgcGFyZW50ID0gc3ZnQ3JlYXRlKHRoaXMuX2dldFRva2VuU1ZHKHNjb3BlKS50cmltKCkpO1xuXG4gIHJldHVybiBzdmdBcHBlbmRUbyhwYXJlbnQsIGdyb3VwKTtcbn07XG5cbkFuaW1hdGlvbi5wcm90b3R5cGUuX2dldFRva2VuU1ZHID0gZnVuY3Rpb24oc2NvcGUpIHtcblxuICBjb25zdCBjb2xvcnMgPSBzY29wZS5jb2xvcnMgfHwge1xuICAgIHByaW1hcnk6IERFRkFVTFRfUFJJTUFSWV9DT0xPUixcbiAgICBhdXhpbGlhcnk6IERFRkFVTFRfQVVYSUxJQVJZX0NPTE9SXG4gIH07XG5cbiAgcmV0dXJuIGBcbiAgICA8ZyBjbGFzcz1cImJ0cy10b2tlblwiPlxuICAgICAgPGNpcmNsZVxuICAgICAgICBjbGFzcz1cImJ0cy1jaXJjbGVcIlxuICAgICAgICByPVwiJHtUT0tFTl9TSVpFIC8gMn1cIlxuICAgICAgICBjeD1cIiR7VE9LRU5fU0laRSAvIDJ9XCJcbiAgICAgICAgY3k9XCIke1RPS0VOX1NJWkUgLyAyfVwiXG4gICAgICAgIGZpbGw9XCIkeyBjb2xvcnMucHJpbWFyeSB9XCJcbiAgICAgIC8+XG4gICAgICA8dGV4dFxuICAgICAgICBjbGFzcz1cImJ0cy10ZXh0XCJcbiAgICAgICAgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDEwLCAxNClcIlxuICAgICAgICB0ZXh0LWFuY2hvcj1cIm1pZGRsZVwiXG4gICAgICAgIGZpbGw9XCIkeyBjb2xvcnMuYXV4aWxpYXJ5IH1cIlxuICAgICAgPjE8L3RleHQ+XG4gICAgPC9nPlxuICBgO1xufTtcblxuQW5pbWF0aW9uLnByb3RvdHlwZS5fZ2V0R3JvdXAgPSBmdW5jdGlvbihzY29wZSkge1xuXG4gIHZhciBjYW52YXMgPSB0aGlzLl9jYW52YXM7XG5cbiAgdmFyIGxheWVyLCByb290O1xuXG4gIC8vIGJwbW4tanNAOSBjb21wYXRpYmlsaXR5OlxuICAvLyBzaG93IGFuaW1hdGlvbiB0b2tlbnMgb24gcGxhbmUgbGF5ZXJzXG4gIGlmICgnZmluZFJvb3QnIGluIGNhbnZhcykge1xuICAgIHJvb3QgPSBjYW52YXMuZmluZFJvb3Qoc2NvcGUuZWxlbWVudCk7XG4gICAgbGF5ZXIgPSBjYW52YXMuX2ZpbmRQbGFuZUZvclJvb3Qocm9vdCkubGF5ZXI7XG4gIH0gZWxzZSB7XG4gICAgbGF5ZXIgPSBkb21RdWVyeSgnLnZpZXdwb3J0JywgY2FudmFzLl9zdmcpO1xuICB9XG5cbiAgdmFyIGdyb3VwID0gZG9tUXVlcnkoJy5idHMtYW5pbWF0aW9uLXRva2VucycsIGxheWVyKTtcblxuICBpZiAoIWdyb3VwKSB7XG4gICAgZ3JvdXAgPSBzdmdDcmVhdGUoJzxnIGNsYXNzPVwiYnRzLWFuaW1hdGlvbi10b2tlbnNcIiAvPicpO1xuXG4gICAgc3ZnQXBwZW5kVG8oXG4gICAgICBncm91cCxcbiAgICAgIGxheWVyXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBncm91cDtcbn07XG5cbkFuaW1hdGlvbi4kaW5qZWN0ID0gW1xuICAnY29uZmlnLmFuaW1hdGlvbicsXG4gICdjYW52YXMnLFxuICAnZXZlbnRCdXMnLFxuICAnc2NvcGVGaWx0ZXInXG5dO1xuXG5cbmZ1bmN0aW9uIFRva2VuQW5pbWF0aW9uKGdmeCwgd2F5cG9pbnRzLCByYW5kb21pemUsIGRvbmUpIHtcbiAgdGhpcy5nZnggPSBnZng7XG4gIHRoaXMud2F5cG9pbnRzID0gd2F5cG9pbnRzO1xuICB0aGlzLmRvbmUgPSBkb25lO1xuICB0aGlzLnJhbmRvbWl6ZSA9IHJhbmRvbWl6ZTtcblxuICB0aGlzLl9wYXVzZWQgPSB0cnVlO1xuICB0aGlzLl90ID0gMDtcbiAgdGhpcy5fcGFydHMgPSBbXTtcblxuICB0aGlzLmNyZWF0ZSgpO1xufVxuXG5Ub2tlbkFuaW1hdGlvbi5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcGF1c2VkID0gdHJ1ZTtcbn07XG5cblRva2VuQW5pbWF0aW9uLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX3BhdXNlZCkge1xuICAgIHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy50aWNrKDApO1xuICB9XG5cbiAgdGhpcy5zY2hlZHVsZSgpO1xufTtcblxuVG9rZW5BbmltYXRpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX3BhdXNlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0aGlzLl9zY2hlZHVsZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBsYXN0ID0gRGF0ZS5ub3coKTtcblxuICB0aGlzLl9zY2hlZHVsZWQgPSB0cnVlO1xuXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgdGhpcy5fc2NoZWR1bGVkID0gZmFsc2U7XG5cbiAgICBpZiAodGhpcy5fcGF1c2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy50aWNrKChEYXRlLm5vdygpIC0gbGFzdCkgKiB0aGlzLl9zcGVlZCk7XG4gICAgdGhpcy5zY2hlZHVsZSgpO1xuICB9KTtcbn07XG5cblxuVG9rZW5BbmltYXRpb24ucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbih0RWxhcHNlZCkge1xuXG4gIGNvbnN0IHQgPSB0aGlzLl90ID0gdGhpcy5fdCArIHRFbGFwc2VkO1xuXG4gIGNvbnN0IHBhcnQgPSB0aGlzLl9wYXJ0cy5maW5kKFxuICAgIHAgPT4gcC5zdGFydFRpbWUgPD0gdCAmJiBwLmVuZFRpbWUgPiB0XG4gICk7XG5cbiAgLy8gY29tcGxldGVkXG4gIGlmICghcGFydCkge1xuICAgIHJldHVybiB0aGlzLnJlbW92ZSgpO1xuICB9XG5cbiAgY29uc3Qgc2VnbWVudFRpbWUgPSB0IC0gcGFydC5zdGFydFRpbWU7XG4gIGNvbnN0IHNlZ21lbnRMZW5ndGggPSBwYXJ0Lmxlbmd0aCAqIHBhcnQuZWFzaW5nKHNlZ21lbnRUaW1lIC8gcGFydC5kdXJhdGlvbik7XG5cbiAgY29uc3QgY3VycmVudExlbmd0aCA9IHBhcnQuc3RhcnRMZW5ndGggKyBzZWdtZW50TGVuZ3RoO1xuXG4gIGNvbnN0IHBvaW50ID0gdGhpcy5fcGF0aC5nZXRQb2ludEF0TGVuZ3RoKGN1cnJlbnRMZW5ndGgpO1xuXG4gIHRoaXMubW92ZShwb2ludC54LCBwb2ludC55KTtcbn07XG5cblRva2VuQW5pbWF0aW9uLnByb3RvdHlwZS5tb3ZlID0gZnVuY3Rpb24oeCwgeSkge1xuICBzdmdBdHRyKHRoaXMuZ2Z4LCAndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3h9LCAke3l9KWApO1xufTtcblxuVG9rZW5BbmltYXRpb24ucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKCkge1xuICBjb25zdCB3YXlwb2ludHMgPSB0aGlzLndheXBvaW50cztcblxuICBjb25zdCBwYXJ0cyA9IHdheXBvaW50cy5yZWR1Y2UoKHBhcnRzLCBwb2ludCwgaW5kZXgpID0+IHtcblxuICAgIGNvbnN0IGxhc3RQb2ludCA9IHdheXBvaW50c1tpbmRleCAtIDFdO1xuXG4gICAgaWYgKGxhc3RQb2ludCkge1xuICAgICAgY29uc3QgbGFzdFBhcnQgPSBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXTtcblxuICAgICAgY29uc3Qgc3RhcnRMZW5ndGggPSBsYXN0UGFydCAmJiBsYXN0UGFydC5lbmRMZW5ndGggfHwgMDtcbiAgICAgIGNvbnN0IGxlbmd0aCA9IGRpc3RhbmNlKGxhc3RQb2ludCwgcG9pbnQpO1xuXG4gICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgc3RhcnRMZW5ndGgsXG4gICAgICAgIGVuZExlbmd0aDogc3RhcnRMZW5ndGggKyBsZW5ndGgsXG4gICAgICAgIGxlbmd0aCxcbiAgICAgICAgZWFzaW5nOiBnZXRTZWdtZW50RWFzaW5nKGluZGV4LCB3YXlwb2ludHMpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFydHM7XG4gIH0sIFtdKTtcblxuICBjb25zdCB0b3RhbExlbmd0aCA9IHBhcnRzLnJlZHVjZShmdW5jdGlvbihsZW5ndGgsIHBhcnQpIHtcbiAgICByZXR1cm4gbGVuZ3RoICsgcGFydC5sZW5ndGg7XG4gIH0sIDApO1xuXG4gIGNvbnN0IGQgPSB3YXlwb2ludHMucmVkdWNlKChkLCB3YXlwb2ludCwgaW5kZXgpID0+IHtcblxuICAgIGNvbnN0IHggPSB3YXlwb2ludC54IC0gVE9LRU5fU0laRSAvIDIsXG4gICAgICAgICAgeSA9IHdheXBvaW50LnkgLSBUT0tFTl9TSVpFIC8gMjtcblxuICAgIGQucHVzaChbIGluZGV4ID4gMCA/ICdMJyA6ICdNJywgeCwgeSBdKTtcblxuICAgIHJldHVybiBkO1xuICB9LCBbXSkuZmxhdCgpLmpvaW4oJyAnKTtcblxuICBjb25zdCB0b3RhbER1cmF0aW9uID0gZ2V0QW5pbWF0aW9uRHVyYXRpb24odG90YWxMZW5ndGgsIHRoaXMuX3JhbmRvbWl6ZSk7XG5cbiAgdGhpcy5fcGFydHMgPSBwYXJ0cy5yZWR1Y2UoKHBhcnRzLCBwYXJ0LCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGR1cmF0aW9uID0gdG90YWxEdXJhdGlvbiAvIHRvdGFsTGVuZ3RoICogcGFydC5sZW5ndGg7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gaW5kZXggPiAwID8gcGFydHNbaW5kZXggLSAxXS5lbmRUaW1lIDogMDtcbiAgICBjb25zdCBlbmRUaW1lID0gc3RhcnRUaW1lICsgZHVyYXRpb247XG5cbiAgICByZXR1cm4gW1xuICAgICAgLi4ucGFydHMsXG4gICAgICB7XG4gICAgICAgIC4uLnBhcnQsXG4gICAgICAgIHN0YXJ0VGltZSxcbiAgICAgICAgZW5kVGltZSxcbiAgICAgICAgZHVyYXRpb25cbiAgICAgIH1cbiAgICBdO1xuICB9LCBbXSk7XG5cbiAgdGhpcy5fcGF0aCA9IHN2Z0NyZWF0ZShgPHBhdGggZD1cIiR7ZH1cIiAvPmApO1xuICB0aGlzLl90ID0gMDtcbn07XG5cblRva2VuQW5pbWF0aW9uLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oKSB7XG4gIHN2Z0F0dHIodGhpcy5nZngsICdkaXNwbGF5JywgJycpO1xufTtcblxuVG9rZW5BbmltYXRpb24ucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbigpIHtcbiAgc3ZnQXR0cih0aGlzLmdmeCwgJ2Rpc3BsYXknLCAnbm9uZScpO1xufTtcblxuVG9rZW5BbmltYXRpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBhdXNlKCk7XG5cbiAgc3ZnUmVtb3ZlKHRoaXMuZ2Z4KTtcblxuICB0aGlzLmRvbmUoKTtcbn07XG5cblRva2VuQW5pbWF0aW9uLnByb3RvdHlwZS5zZXRTcGVlZCA9IGZ1bmN0aW9uKHNwZWVkKSB7XG4gIHRoaXMuX3NwZWVkID0gc3BlZWQ7XG59O1xuXG5mdW5jdGlvbiBnZXRBbmltYXRpb25EdXJhdGlvbihsZW5ndGgsIHJhbmRvbWl6ZSA9IGZhbHNlKSB7XG4gIHJldHVybiBNYXRoLmxvZyhsZW5ndGgpICogKHJhbmRvbWl6ZSA/IHJhbmRvbUJldHdlZW4oMjUwLCAzMDApIDogMjUwKTtcbn1cblxuZnVuY3Rpb24gcmFuZG9tQmV0d2VlbihtaW4sIG1heCkge1xuICByZXR1cm4gbWluICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpO1xufVxuXG5mdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYS54IC0gYi54LCAyKSArIE1hdGgucG93KGEueSAtIGIueSwgMikpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/animation/Animation.js\n");

/***/ }),

/***/ "./lib/animation/behaviors/AnimatedMessageFlowBehavior.js":
/*!****************************************************************!*\
  !*** ./lib/animation/behaviors/AnimatedMessageFlowBehavior.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AnimatedMessageFlowBehavior)\n/* harmony export */ });\n/* harmony import */ var _simulator_behaviors_MessageFlowBehavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../simulator/behaviors/MessageFlowBehavior */ \"./lib/simulator/behaviors/MessageFlowBehavior.js\");\n/* harmony import */ var inherits_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! inherits-browser */ \"./node_modules/inherits-browser/dist/index.es.js\");\n\n\n\n\n\nfunction AnimatedMessageFlowBehavior(injector, animation) {\n  injector.invoke(_simulator_behaviors_MessageFlowBehavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"], this);\n\n  this._animation = animation;\n}\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(AnimatedMessageFlowBehavior, _simulator_behaviors_MessageFlowBehavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\nAnimatedMessageFlowBehavior.$inject = [\n  'injector',\n  'animation'\n];\n\nAnimatedMessageFlowBehavior.prototype.signal = function(context) {\n\n  const {\n    element,\n    scope\n  } = context;\n\n  this._animation.animate(element, scope, () => {\n    _simulator_behaviors_MessageFlowBehavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.signal.call(this, context);\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvYW5pbWF0aW9uL2JlaGF2aW9ycy9BbmltYXRlZE1lc3NhZ2VGbG93QmVoYXZpb3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdGOztBQUV4Qzs7O0FBR3pCO0FBQ2Ysa0JBQWtCLGdGQUFtQjs7QUFFckM7QUFDQTs7QUFFQSw0REFBUSw4QkFBOEIsZ0ZBQW1COztBQUV6RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0EsSUFBSSxnRkFBbUI7QUFDdkIsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2FuaW1hdGlvbi9iZWhhdmlvcnMvQW5pbWF0ZWRNZXNzYWdlRmxvd0JlaGF2aW9yLmpzP2E0ZTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1lc3NhZ2VGbG93QmVoYXZpb3IgZnJvbSAnLi4vLi4vc2ltdWxhdG9yL2JlaGF2aW9ycy9NZXNzYWdlRmxvd0JlaGF2aW9yJztcblxuaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzLWJyb3dzZXInO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFuaW1hdGVkTWVzc2FnZUZsb3dCZWhhdmlvcihpbmplY3RvciwgYW5pbWF0aW9uKSB7XG4gIGluamVjdG9yLmludm9rZShNZXNzYWdlRmxvd0JlaGF2aW9yLCB0aGlzKTtcblxuICB0aGlzLl9hbmltYXRpb24gPSBhbmltYXRpb247XG59XG5cbmluaGVyaXRzKEFuaW1hdGVkTWVzc2FnZUZsb3dCZWhhdmlvciwgTWVzc2FnZUZsb3dCZWhhdmlvcik7XG5cbkFuaW1hdGVkTWVzc2FnZUZsb3dCZWhhdmlvci4kaW5qZWN0ID0gW1xuICAnaW5qZWN0b3InLFxuICAnYW5pbWF0aW9uJ1xuXTtcblxuQW5pbWF0ZWRNZXNzYWdlRmxvd0JlaGF2aW9yLnByb3RvdHlwZS5zaWduYWwgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgY29uc3Qge1xuICAgIGVsZW1lbnQsXG4gICAgc2NvcGVcbiAgfSA9IGNvbnRleHQ7XG5cbiAgdGhpcy5fYW5pbWF0aW9uLmFuaW1hdGUoZWxlbWVudCwgc2NvcGUsICgpID0+IHtcbiAgICBNZXNzYWdlRmxvd0JlaGF2aW9yLnByb3RvdHlwZS5zaWduYWwuY2FsbCh0aGlzLCBjb250ZXh0KTtcbiAgfSk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/animation/behaviors/AnimatedMessageFlowBehavior.js\n");

/***/ }),

/***/ "./lib/animation/behaviors/AnimatedSequenceFlowBehavior.js":
/*!*****************************************************************!*\
  !*** ./lib/animation/behaviors/AnimatedSequenceFlowBehavior.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AnimatedSequenceFlowBehavior)\n/* harmony export */ });\n/* harmony import */ var _simulator_behaviors_SequenceFlowBehavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../simulator/behaviors/SequenceFlowBehavior */ \"./lib/simulator/behaviors/SequenceFlowBehavior.js\");\n/* harmony import */ var inherits_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! inherits-browser */ \"./node_modules/inherits-browser/dist/index.es.js\");\n\n\n\n\n\nfunction AnimatedSequenceFlowBehavior(injector, animation) {\n  injector.invoke(_simulator_behaviors_SequenceFlowBehavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"], this);\n\n  this._animation = animation;\n}\n\n(0,inherits_browser__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(AnimatedSequenceFlowBehavior, _simulator_behaviors_SequenceFlowBehavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\nAnimatedSequenceFlowBehavior.$inject = [\n  'injector',\n  'animation'\n];\n\nAnimatedSequenceFlowBehavior.prototype.enter = function(context) {\n\n  const {\n    element,\n    scope\n  } = context;\n\n  this._animation.animate(element, scope, () => {\n    _simulator_behaviors_SequenceFlowBehavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.enter.call(this, context);\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvYW5pbWF0aW9uL2JlaGF2aW9ycy9BbmltYXRlZFNlcXVlbmNlRmxvd0JlaGF2aW9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFrRjs7QUFFMUM7OztBQUd6QjtBQUNmLGtCQUFrQixpRkFBb0I7O0FBRXRDO0FBQ0E7O0FBRUEsNERBQVEsK0JBQStCLGlGQUFvQjs7QUFFM0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBLElBQUksaUZBQW9CO0FBQ3hCLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9hbmltYXRpb24vYmVoYXZpb3JzL0FuaW1hdGVkU2VxdWVuY2VGbG93QmVoYXZpb3IuanM/NGI2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2VxdWVuY2VGbG93QmVoYXZpb3IgZnJvbSAnLi4vLi4vc2ltdWxhdG9yL2JlaGF2aW9ycy9TZXF1ZW5jZUZsb3dCZWhhdmlvcic7XG5cbmltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cy1icm93c2VyJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBbmltYXRlZFNlcXVlbmNlRmxvd0JlaGF2aW9yKGluamVjdG9yLCBhbmltYXRpb24pIHtcbiAgaW5qZWN0b3IuaW52b2tlKFNlcXVlbmNlRmxvd0JlaGF2aW9yLCB0aGlzKTtcblxuICB0aGlzLl9hbmltYXRpb24gPSBhbmltYXRpb247XG59XG5cbmluaGVyaXRzKEFuaW1hdGVkU2VxdWVuY2VGbG93QmVoYXZpb3IsIFNlcXVlbmNlRmxvd0JlaGF2aW9yKTtcblxuQW5pbWF0ZWRTZXF1ZW5jZUZsb3dCZWhhdmlvci4kaW5qZWN0ID0gW1xuICAnaW5qZWN0b3InLFxuICAnYW5pbWF0aW9uJ1xuXTtcblxuQW5pbWF0ZWRTZXF1ZW5jZUZsb3dCZWhhdmlvci5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgY29uc3Qge1xuICAgIGVsZW1lbnQsXG4gICAgc2NvcGVcbiAgfSA9IGNvbnRleHQ7XG5cbiAgdGhpcy5fYW5pbWF0aW9uLmFuaW1hdGUoZWxlbWVudCwgc2NvcGUsICgpID0+IHtcbiAgICBTZXF1ZW5jZUZsb3dCZWhhdmlvci5wcm90b3R5cGUuZW50ZXIuY2FsbCh0aGlzLCBjb250ZXh0KTtcbiAgfSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/animation/behaviors/AnimatedSequenceFlowBehavior.js\n");

/***/ }),

/***/ "./lib/animation/behaviors/index.js":
/*!******************************************!*\
  !*** ./lib/animation/behaviors/index.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _AnimatedMessageFlowBehavior__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AnimatedMessageFlowBehavior */ \"./lib/animation/behaviors/AnimatedMessageFlowBehavior.js\");\n/* harmony import */ var _AnimatedSequenceFlowBehavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AnimatedSequenceFlowBehavior */ \"./lib/animation/behaviors/AnimatedSequenceFlowBehavior.js\");\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  sequenceFlowBehavior: [ 'type', _AnimatedSequenceFlowBehavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ],\n  messageFlowBehavior: [ 'type', _AnimatedMessageFlowBehavior__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvYW5pbWF0aW9uL2JlaGF2aW9ycy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0U7QUFDRTs7QUFFMUUsaUVBQWU7QUFDZixrQ0FBa0MscUVBQTRCO0FBQzlELGlDQUFpQyxvRUFBMkI7QUFDNUQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9hbmltYXRpb24vYmVoYXZpb3JzL2luZGV4LmpzPzM3ODciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFuaW1hdGVkTWVzc2FnZUZsb3dCZWhhdmlvciBmcm9tICcuL0FuaW1hdGVkTWVzc2FnZUZsb3dCZWhhdmlvcic7XG5pbXBvcnQgQW5pbWF0ZWRTZXF1ZW5jZUZsb3dCZWhhdmlvciBmcm9tICcuL0FuaW1hdGVkU2VxdWVuY2VGbG93QmVoYXZpb3InO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHNlcXVlbmNlRmxvd0JlaGF2aW9yOiBbICd0eXBlJywgQW5pbWF0ZWRTZXF1ZW5jZUZsb3dCZWhhdmlvciBdLFxuICBtZXNzYWdlRmxvd0JlaGF2aW9yOiBbICd0eXBlJywgQW5pbWF0ZWRNZXNzYWdlRmxvd0JlaGF2aW9yIF1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/animation/behaviors/index.js\n");

/***/ }),

/***/ "./lib/animation/index.js":
/*!********************************!*\
  !*** ./lib/animation/index.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _behaviors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./behaviors */ \"./lib/animation/behaviors/index.js\");\n/* harmony import */ var _features_scope_filter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../features/scope-filter */ \"./lib/features/scope-filter/index.js\");\n/* harmony import */ var _simulator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../simulator */ \"./lib/simulator/index.js\");\n/* harmony import */ var _Animation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Animation */ \"./lib/animation/Animation.js\");\n\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _simulator__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _behaviors__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    _features_scope_filter__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n  ],\n  animation: [ 'type', _Animation__WEBPACK_IMPORTED_MODULE_3__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvYW5pbWF0aW9uL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWtEO0FBQ087QUFDZDs7QUFFUDs7QUFFcEMsaUVBQWU7QUFDZjtBQUNBLElBQUksa0RBQWU7QUFDbkIsSUFBSSxrREFBdUI7QUFDM0IsSUFBSSw4REFBaUI7QUFDckI7QUFDQSx1QkFBdUIsa0RBQVM7QUFDaEMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9hbmltYXRpb24vaW5kZXguanM/NzZkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQW5pbWF0ZWRCZWhhdmlvcnNNb2R1bGUgZnJvbSAnLi9iZWhhdmlvcnMnO1xuaW1wb3J0IFNjb3BlRmlsdGVyTW9kdWxlIGZyb20gJy4uL2ZlYXR1cmVzL3Njb3BlLWZpbHRlcic7XG5pbXBvcnQgU2ltdWxhdG9yTW9kdWxlIGZyb20gJy4uL3NpbXVsYXRvcic7XG5cbmltcG9ydCBBbmltYXRpb24gZnJvbSAnLi9BbmltYXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgU2ltdWxhdG9yTW9kdWxlLFxuICAgIEFuaW1hdGVkQmVoYXZpb3JzTW9kdWxlLFxuICAgIFNjb3BlRmlsdGVyTW9kdWxlXG4gIF0sXG4gIGFuaW1hdGlvbjogWyAndHlwZScsIEFuaW1hdGlvbiBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/animation/index.js\n");

/***/ }),

/***/ "./lib/base.js":
/*!*********************!*\
  !*** ./lib/base.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _simulator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simulator */ \"./lib/simulator/index.js\");\n/* harmony import */ var _animation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./animation */ \"./lib/animation/index.js\");\n/* harmony import */ var _features_colored_scopes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./features/colored-scopes */ \"./lib/features/colored-scopes/index.js\");\n/* harmony import */ var _features_context_pads__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./features/context-pads */ \"./lib/features/context-pads/index.js\");\n/* harmony import */ var _features_simulation_state__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./features/simulation-state */ \"./lib/features/simulation-state/index.js\");\n/* harmony import */ var _features_show_scopes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./features/show-scopes */ \"./lib/features/show-scopes/index.js\");\n/* harmony import */ var _features_log__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./features/log */ \"./lib/features/log/index.js\");\n/* harmony import */ var _features_element_support__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./features/element-support */ \"./lib/features/element-support/index.js\");\n/* harmony import */ var _features_pause_simulation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./features/pause-simulation */ \"./lib/features/pause-simulation/index.js\");\n/* harmony import */ var _features_reset_simulation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./features/reset-simulation */ \"./lib/features/reset-simulation/index.js\");\n/* harmony import */ var _features_token_count__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./features/token-count */ \"./lib/features/token-count/index.js\");\n/* harmony import */ var _features_set_animation_speed__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./features/set-animation-speed */ \"./lib/features/set-animation-speed/index.js\");\n/* harmony import */ var _features_exclusive_gateway_settings__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./features/exclusive-gateway-settings */ \"./lib/features/exclusive-gateway-settings/index.js\");\n/* harmony import */ var _features_neutral_element_colors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./features/neutral-element-colors */ \"./lib/features/neutral-element-colors/index.js\");\n/* harmony import */ var _features_inclusive_gateway_settings__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./features/inclusive-gateway-settings */ \"./lib/features/inclusive-gateway-settings/index.js\");\n/* harmony import */ var _features_palette__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./features/palette */ \"./lib/features/palette/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _simulator__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _animation__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    _features_colored_scopes__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    _features_context_pads__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    _features_simulation_state__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n    _features_show_scopes__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n    _features_log__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n    _features_element_support__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n    _features_pause_simulation__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n    _features_reset_simulation__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n    _features_token_count__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n    _features_set_animation_speed__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n    _features_exclusive_gateway_settings__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n    _features_neutral_element_colors__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n    _features_inclusive_gateway_settings__WEBPACK_IMPORTED_MODULE_14__[\"default\"],\n    _features_palette__WEBPACK_IMPORTED_MODULE_15__[\"default\"]\n  ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwQztBQUNBO0FBQ2tCO0FBQ0o7QUFDUTtBQUNWO0FBQ2Y7QUFDdUI7QUFDRTtBQUNBO0FBQ1Y7QUFDZTs7QUFFYztBQUNkO0FBQ2M7QUFDckI7O0FBRTlELGlFQUFlO0FBQ2Y7QUFDQSxJQUFJLGtEQUFlO0FBQ25CLElBQUksa0RBQWU7QUFDbkIsSUFBSSxnRUFBbUI7QUFDdkIsSUFBSSw4REFBaUI7QUFDckIsSUFBSSxrRUFBcUI7QUFDekIsSUFBSSw2REFBZ0I7QUFDcEIsSUFBSSxxREFBUztBQUNiLElBQUksaUVBQW9CO0FBQ3hCLElBQUksa0VBQXFCO0FBQ3pCLElBQUksa0VBQXFCO0FBQ3pCLElBQUksOERBQWdCO0FBQ3BCLElBQUksc0VBQXVCO0FBQzNCLElBQUksNkVBQThCO0FBQ2xDLElBQUkseUVBQW9CO0FBQ3hCLElBQUksNkVBQThCO0FBQ2xDLElBQUksMERBQTRCO0FBQ2hDO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9iYXNlLmpzPzBkMzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNpbXVsYXRvck1vZHVsZSBmcm9tICcuL3NpbXVsYXRvcic7XG5pbXBvcnQgQW5pbWF0aW9uTW9kdWxlIGZyb20gJy4vYW5pbWF0aW9uJztcbmltcG9ydCBDb2xvcmVkU2NvcGVzTW9kdWxlIGZyb20gJy4vZmVhdHVyZXMvY29sb3JlZC1zY29wZXMnO1xuaW1wb3J0IENvbnRleHRQYWRzTW9kdWxlIGZyb20gJy4vZmVhdHVyZXMvY29udGV4dC1wYWRzJztcbmltcG9ydCBTaW11bGF0aW9uU3RhdGVNb2R1bGUgZnJvbSAnLi9mZWF0dXJlcy9zaW11bGF0aW9uLXN0YXRlJztcbmltcG9ydCBTaG93U2NvcGVzTW9kdWxlIGZyb20gJy4vZmVhdHVyZXMvc2hvdy1zY29wZXMnO1xuaW1wb3J0IExvZ01vZHVsZSBmcm9tICcuL2ZlYXR1cmVzL2xvZyc7XG5pbXBvcnQgRWxlbWVudFN1cHBvcnRNb2R1bGUgZnJvbSAnLi9mZWF0dXJlcy9lbGVtZW50LXN1cHBvcnQnO1xuaW1wb3J0IFBhdXNlU2ltdWxhdGlvbk1vZHVsZSBmcm9tICcuL2ZlYXR1cmVzL3BhdXNlLXNpbXVsYXRpb24nO1xuaW1wb3J0IFJlc2V0U2ltdWxhdGlvbk1vZHVsZSBmcm9tICcuL2ZlYXR1cmVzL3Jlc2V0LXNpbXVsYXRpb24nO1xuaW1wb3J0IFRva2VuQ291bnRNb2R1bGUgZnJvbSAnLi9mZWF0dXJlcy90b2tlbi1jb3VudCc7XG5pbXBvcnQgU2V0QW5pbWF0aW9uU3BlZWRNb2R1bGUgZnJvbSAnLi9mZWF0dXJlcy9zZXQtYW5pbWF0aW9uLXNwZWVkJztcblxuaW1wb3J0IEV4Y2x1c2l2ZUdhdGV3YXlTZXR0aW5nc01vZHVsZSBmcm9tICcuL2ZlYXR1cmVzL2V4Y2x1c2l2ZS1nYXRld2F5LXNldHRpbmdzJztcbmltcG9ydCBOZXV0cmFsRWxlbWVudENvbG9ycyBmcm9tICcuL2ZlYXR1cmVzL25ldXRyYWwtZWxlbWVudC1jb2xvcnMnO1xuaW1wb3J0IEluY2x1c2l2ZUdhdGV3YXlTZXR0aW5nc01vZHVsZSBmcm9tICcuL2ZlYXR1cmVzL2luY2x1c2l2ZS1nYXRld2F5LXNldHRpbmdzJztcbmltcG9ydCBUb2tlblNpbXVsYXRpb25QYWxldHRlTW9kdWxlIGZyb20gJy4vZmVhdHVyZXMvcGFsZXR0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBTaW11bGF0b3JNb2R1bGUsXG4gICAgQW5pbWF0aW9uTW9kdWxlLFxuICAgIENvbG9yZWRTY29wZXNNb2R1bGUsXG4gICAgQ29udGV4dFBhZHNNb2R1bGUsXG4gICAgU2ltdWxhdGlvblN0YXRlTW9kdWxlLFxuICAgIFNob3dTY29wZXNNb2R1bGUsXG4gICAgTG9nTW9kdWxlLFxuICAgIEVsZW1lbnRTdXBwb3J0TW9kdWxlLFxuICAgIFBhdXNlU2ltdWxhdGlvbk1vZHVsZSxcbiAgICBSZXNldFNpbXVsYXRpb25Nb2R1bGUsXG4gICAgVG9rZW5Db3VudE1vZHVsZSxcbiAgICBTZXRBbmltYXRpb25TcGVlZE1vZHVsZSxcbiAgICBFeGNsdXNpdmVHYXRld2F5U2V0dGluZ3NNb2R1bGUsXG4gICAgTmV1dHJhbEVsZW1lbnRDb2xvcnMsXG4gICAgSW5jbHVzaXZlR2F0ZXdheVNldHRpbmdzTW9kdWxlLFxuICAgIFRva2VuU2ltdWxhdGlvblBhbGV0dGVNb2R1bGVcbiAgXVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/base.js\n");

/***/ }),

/***/ "./lib/features/colored-scopes/ColoredScopes.js":
/*!******************************************************!*\
  !*** ./lib/features/colored-scopes/ColoredScopes.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ColoredScopes)\n/* harmony export */ });\n/* harmony import */ var randomcolor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! randomcolor */ \"./node_modules/randomcolor/randomColor.js\");\n/* harmony import */ var randomcolor__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(randomcolor__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n\n\n\n\nconst HIGH_PRIORITY = 1500;\n\n\nfunction ColoredScopes(eventBus) {\n\n  const colors = randomcolor__WEBPACK_IMPORTED_MODULE_0___default()({\n    count: 60\n  }).filter(c => getContrastYIQ(c.substring(1)) < 200);\n\n  function getContrastYIQ(hexcolor) {\n    var r = parseInt(hexcolor.substr(0,2),16);\n    var g = parseInt(hexcolor.substr(2,2),16);\n    var b = parseInt(hexcolor.substr(4,2),16);\n    var yiq = ((r * 299) + (g * 587) + (b * 114)) / 1000;\n    return yiq;\n  }\n\n  let colorsIdx = 0;\n\n  function getColors(scope) {\n    const {\n      element\n    } = scope;\n\n    if (element && element.type === 'bpmn:MessageFlow') {\n      return {\n        primary: '#999',\n        auxiliary: '#FFF'\n      };\n    }\n\n    if (scope.parent) {\n      return scope.parent.colors;\n    }\n\n    const primary = colors[ (colorsIdx++) % colors.length ];\n\n    return {\n      primary,\n      auxiliary: getContrastYIQ(primary) >= 128 ? '#111' : '#fff'\n    };\n  }\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_1__.SCOPE_CREATE_EVENT, HIGH_PRIORITY, event => {\n\n    const {\n      scope\n    } = event;\n\n    scope.colors = getColors(scope);\n  });\n}\n\nColoredScopes.$inject = [\n  'eventBus'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvY29sb3JlZC1zY29wZXMvQ29sb3JlZFNjb3Blcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXNDOztBQUlOOztBQUVoQzs7O0FBR2U7O0FBRWYsaUJBQWlCLGtEQUFXO0FBQzVCO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLGlFQUFrQjs7QUFFaEM7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2ZlYXR1cmVzL2NvbG9yZWQtc2NvcGVzL0NvbG9yZWRTY29wZXMuanM/OTQzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmFuZG9tQ29sb3IgZnJvbSAncmFuZG9tY29sb3InO1xuXG5pbXBvcnQge1xuICBTQ09QRV9DUkVBVEVfRVZFTlRcbn0gZnJvbSAnLi4vLi4vdXRpbC9FdmVudEhlbHBlcic7XG5cbmNvbnN0IEhJR0hfUFJJT1JJVFkgPSAxNTAwO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbG9yZWRTY29wZXMoZXZlbnRCdXMpIHtcblxuICBjb25zdCBjb2xvcnMgPSByYW5kb21Db2xvcih7XG4gICAgY291bnQ6IDYwXG4gIH0pLmZpbHRlcihjID0+IGdldENvbnRyYXN0WUlRKGMuc3Vic3RyaW5nKDEpKSA8IDIwMCk7XG5cbiAgZnVuY3Rpb24gZ2V0Q29udHJhc3RZSVEoaGV4Y29sb3IpIHtcbiAgICB2YXIgciA9IHBhcnNlSW50KGhleGNvbG9yLnN1YnN0cigwLDIpLDE2KTtcbiAgICB2YXIgZyA9IHBhcnNlSW50KGhleGNvbG9yLnN1YnN0cigyLDIpLDE2KTtcbiAgICB2YXIgYiA9IHBhcnNlSW50KGhleGNvbG9yLnN1YnN0cig0LDIpLDE2KTtcbiAgICB2YXIgeWlxID0gKChyICogMjk5KSArIChnICogNTg3KSArIChiICogMTE0KSkgLyAxMDAwO1xuICAgIHJldHVybiB5aXE7XG4gIH1cblxuICBsZXQgY29sb3JzSWR4ID0gMDtcblxuICBmdW5jdGlvbiBnZXRDb2xvcnMoc2NvcGUpIHtcbiAgICBjb25zdCB7XG4gICAgICBlbGVtZW50XG4gICAgfSA9IHNjb3BlO1xuXG4gICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC50eXBlID09PSAnYnBtbjpNZXNzYWdlRmxvdycpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByaW1hcnk6ICcjOTk5JyxcbiAgICAgICAgYXV4aWxpYXJ5OiAnI0ZGRidcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHNjb3BlLnBhcmVudCkge1xuICAgICAgcmV0dXJuIHNjb3BlLnBhcmVudC5jb2xvcnM7XG4gICAgfVxuXG4gICAgY29uc3QgcHJpbWFyeSA9IGNvbG9yc1sgKGNvbG9yc0lkeCsrKSAlIGNvbG9ycy5sZW5ndGggXTtcblxuICAgIHJldHVybiB7XG4gICAgICBwcmltYXJ5LFxuICAgICAgYXV4aWxpYXJ5OiBnZXRDb250cmFzdFlJUShwcmltYXJ5KSA+PSAxMjggPyAnIzExMScgOiAnI2ZmZidcbiAgICB9O1xuICB9XG5cbiAgZXZlbnRCdXMub24oU0NPUEVfQ1JFQVRFX0VWRU5ULCBISUdIX1BSSU9SSVRZLCBldmVudCA9PiB7XG5cbiAgICBjb25zdCB7XG4gICAgICBzY29wZVxuICAgIH0gPSBldmVudDtcblxuICAgIHNjb3BlLmNvbG9ycyA9IGdldENvbG9ycyhzY29wZSk7XG4gIH0pO1xufVxuXG5Db2xvcmVkU2NvcGVzLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cydcbl07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/colored-scopes/ColoredScopes.js\n");

/***/ }),

/***/ "./lib/features/colored-scopes/index.js":
/*!**********************************************!*\
  !*** ./lib/features/colored-scopes/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ColoredScopes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ColoredScopes */ \"./lib/features/colored-scopes/ColoredScopes.js\");\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [\n    'coloredScopes'\n  ],\n  coloredScopes: [ 'type', _ColoredScopes__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvY29sb3JlZC1zY29wZXMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEM7O0FBRTVDLGlFQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHNEQUFhO0FBQ3hDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvZmVhdHVyZXMvY29sb3JlZC1zY29wZXMvaW5kZXguanM/ZDE3MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29sb3JlZFNjb3BlcyBmcm9tICcuL0NvbG9yZWRTY29wZXMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbXG4gICAgJ2NvbG9yZWRTY29wZXMnXG4gIF0sXG4gIGNvbG9yZWRTY29wZXM6IFsgJ3R5cGUnLCBDb2xvcmVkU2NvcGVzIF1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/colored-scopes/index.js\n");

/***/ }),

/***/ "./lib/features/context-pads/ContextPads.js":
/*!**************************************************!*\
  !*** ./lib/features/context-pads/ContextPads.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ContextPads),\n/* harmony export */   isAncestor: () => (/* binding */ isAncestor)\n/* harmony export */ });\n/* harmony import */ var _util_ElementHelper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/ElementHelper */ \"./lib/util/ElementHelper.js\");\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/dist/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/node_modules/domify/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(min_dom__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _handler_ExclusiveGatewayHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./handler/ExclusiveGatewayHandler */ \"./lib/features/context-pads/handler/ExclusiveGatewayHandler.js\");\n/* harmony import */ var _handler_InclusiveGatewayHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./handler/InclusiveGatewayHandler */ \"./lib/features/context-pads/handler/InclusiveGatewayHandler.js\");\n/* harmony import */ var _handler_PauseHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./handler/PauseHandler */ \"./lib/features/context-pads/handler/PauseHandler.js\");\n/* harmony import */ var _handler_TriggerHandler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./handler/TriggerHandler */ \"./lib/features/context-pads/handler/TriggerHandler.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst LOW_PRIORITY = 500;\r\n\r\nconst OFFSET_TOP = -15;\r\nconst OFFSET_LEFT = -15;\r\n\r\n\r\nfunction ContextPads(\r\n    eventBus, elementRegistry,\r\n    overlays, injector,\r\n    canvas, scopeFilter) {\r\n\r\n  this._elementRegistry = elementRegistry;\r\n  this._overlays = overlays;\r\n  this._injector = injector;\r\n  this._canvas = canvas;\r\n  this._scopeFilter = scopeFilter;\r\n\r\n  this._overlayCache = new Map();\r\n\r\n  this._handlerIdx = 0;\r\n\r\n  this._handlers = [];\r\n\r\n  this.registerHandler('bpmn:ExclusiveGateway', _handler_ExclusiveGatewayHandler__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\r\n  this.registerHandler('bpmn:InclusiveGateway', _handler_InclusiveGatewayHandler__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\r\n\r\n  this.registerHandler('bpmn:Activity', _handler_PauseHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\r\n\r\n  this.registerHandler('bpmn:Event', _handler_TriggerHandler__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\r\n  this.registerHandler('bpmn:Gateway', _handler_TriggerHandler__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\r\n  this.registerHandler('bpmn:Activity', _handler_TriggerHandler__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\r\n\r\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_4__.TOGGLE_MODE_EVENT, LOW_PRIORITY, context => {\r\n    const active = context.active;\r\n\r\n    if (active) {\r\n      this.openContextPads();\r\n    } else {\r\n      this.closeContextPads();\r\n    }\r\n  });\r\n\r\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_4__.RESET_SIMULATION_EVENT, LOW_PRIORITY, () => {\r\n    this.closeContextPads();\r\n    this.openContextPads();\r\n  });\r\n\r\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_4__.SCOPE_FILTER_CHANGED_EVENT, event => {\r\n\r\n    const showElements = (0,min_dom__WEBPACK_IMPORTED_MODULE_5__.queryAll)(\r\n      '.djs-overlay-ts-context-menu [data-scope-ids]',\r\n      overlays._overlayRoot\r\n    );\r\n\r\n    for (const element of showElements) {\r\n\r\n      const scopeIds = element.dataset.scopeIds.split(',');\r\n\r\n      const shown = scopeIds.some(id => scopeFilter.isShown(id));\r\n\r\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_5__.classes)(element).toggle('hidden', !shown);\r\n    }\r\n\r\n    const hideElements = (0,min_dom__WEBPACK_IMPORTED_MODULE_5__.queryAll)(\r\n      '.djs-overlay-ts-context-menu [data-hide-scope-ids]',\r\n      overlays._overlayRoot\r\n    );\r\n\r\n    for (const element of hideElements) {\r\n\r\n      const scopeIds = element.dataset.hideScopeIds.split(',');\r\n\r\n      const shown = scopeIds.some(id => scopeFilter.isShown(id));\r\n\r\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_5__.classes)(element).toggle('hidden', shown);\r\n    }\r\n  });\r\n\r\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_4__.ELEMENT_CHANGED_EVENT, LOW_PRIORITY, event => {\r\n    const {\r\n      element\r\n    } = event;\r\n\r\n    this.updateElementContextPads(element);\r\n  });\r\n}\r\n\r\n/**\r\n * Register a handler for an element type.\r\n * An element type can have multiple handlers.\r\n *\r\n * @param {String} type\r\n * @param {Object} handlerCls\r\n */\r\nContextPads.prototype.registerHandler = function(type, handlerCls) {\r\n  const handler = this._injector.instantiate(handlerCls);\r\n\r\n  handler.hash = String(this._handlerIdx++);\r\n\r\n  this._handlers.push({ handler, type });\r\n};\r\n\r\nContextPads.prototype.getHandlers = function(element) {\r\n\r\n  return (\r\n    this._handlers.filter(\r\n      ({ type }) => (0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_6__.is)(element, type)\r\n    ).map(\r\n      ({ handler }) => handler\r\n    )\r\n  );\r\n};\r\n\r\nContextPads.prototype.openContextPads = function(parent) {\r\n\r\n  if (!parent) {\r\n    parent = this._canvas.getRootElement();\r\n  }\r\n\r\n  this._elementRegistry.forEach((element) => {\r\n    if (isAncestor(parent, element)) {\r\n      this.updateElementContextPads(element);\r\n    }\r\n  });\r\n};\r\n\r\nContextPads.prototype._getOverlays = function(hash) {\r\n  return this._overlayCache.get(hash) || [];\r\n};\r\n\r\nContextPads.prototype._addOverlay = function(element, options) {\r\n\r\n  const {\r\n    handlerHash\r\n  } = options;\r\n\r\n  if (!handlerHash) {\r\n    throw new Error('<handlerHash> required');\r\n  }\r\n\r\n  const overlayId = this._overlays.add(element, 'bts-context-menu', {\r\n    ...options,\r\n    position: {\r\n      top: OFFSET_TOP,\r\n      left: OFFSET_LEFT\r\n    },\r\n    show: {\r\n      minZoom: 0.5\r\n    }\r\n  });\r\n\r\n  const overlay = this._overlays.get(overlayId);\r\n\r\n  const overlayCache = this._overlayCache;\r\n\r\n  if (!overlayCache.has(handlerHash)) {\r\n    overlayCache.set(handlerHash, []);\r\n  }\r\n\r\n  overlayCache.get(handlerHash).push(overlay);\r\n};\r\n\r\nContextPads.prototype._removeOverlay = function(overlay) {\r\n\r\n  const {\r\n    id,\r\n    handlerHash\r\n  } = overlay;\r\n\r\n  // remove overlay\r\n  this._overlays.remove(id);\r\n\r\n  // remove from overlay cache\r\n  const overlays = this._overlayCache.get(handlerHash) || [];\r\n\r\n  const idx = overlays.indexOf(overlay);\r\n\r\n  if (idx !== -1) {\r\n    overlays.splice(idx, 1);\r\n  }\r\n};\r\n\r\nContextPads.prototype.updateElementContextPads = function(element) {\r\n  for (const handler of this.getHandlers(element)) {\r\n    this._updateElementContextPads(element, handler);\r\n  }\r\n};\r\n\r\nContextPads.prototype._updateElementContextPads = function(element, handler) {\r\n\r\n  const contextPads = (handler.createContextPads(element) || []).filter(p => p);\r\n\r\n  const handlerHash = `${element.id}------${handler.hash}`;\r\n\r\n  const existingOverlays = this._getOverlays(handlerHash);\r\n\r\n  const updatedOverlays = [];\r\n\r\n  for (const contextPad of contextPads) {\r\n\r\n    const {\r\n      element,\r\n      contexts: _contexts,\r\n      hideContexts: _hideContexts,\r\n      action: _action,\r\n      html: _html\r\n    } = contextPad;\r\n\r\n\r\n    const hash = `${contextPad.element.id}-------${_html}`;\r\n\r\n    let existingOverlay = existingOverlays.find(\r\n      o => o.hash === hash\r\n    );\r\n\r\n    const html = existingOverlay && existingOverlay.html || min_dom__WEBPACK_IMPORTED_MODULE_7___default()(_html);\r\n\r\n    if (_contexts) {\r\n      const contexts = _contexts();\r\n\r\n      html.dataset.scopeIds = contexts.map(c => c.scope.id).join(',');\r\n\r\n      const shownScopes = contexts.filter(c => this._scopeFilter.isShown(c.scope));\r\n\r\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_5__.classes)(html).toggle('hidden', shownScopes.length === 0);\r\n    }\r\n\r\n    if (_hideContexts) {\r\n      const contexts = _hideContexts();\r\n\r\n      html.dataset.hideScopeIds = contexts.map(c => c.scope.id).join(',');\r\n\r\n      const shownScopes = contexts.filter(c => this._scopeFilter.isShown(c.scope));\r\n\r\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_5__.classes)(html).toggle('hidden', shownScopes.length > 0);\r\n    }\r\n\r\n    if (existingOverlay) {\r\n      updatedOverlays.push(existingOverlay);\r\n\r\n      continue;\r\n    }\r\n\r\n    if (_action) {\r\n\r\n      min_dom__WEBPACK_IMPORTED_MODULE_5__.event.bind(html, 'click', event => {\r\n        event.preventDefault();\r\n\r\n        const contexts = _contexts\r\n          ? _contexts().filter(c => this._scopeFilter.isShown(c.scope))\r\n          : null;\r\n\r\n        _action(contexts);\r\n      });\r\n    }\r\n\r\n    this._addOverlay(element, {\r\n      hash,\r\n      handlerHash,\r\n      html\r\n    });\r\n  }\r\n\r\n  for (const existingOverlay of existingOverlays) {\r\n    if (!updatedOverlays.includes(existingOverlay)) {\r\n      this._removeOverlay(existingOverlay);\r\n    }\r\n  }\r\n};\r\n\r\nContextPads.prototype.closeContextPads = function() {\r\n  for (const overlays of this._overlayCache.values()) {\r\n\r\n    for (const overlay of overlays) {\r\n      this._closeOverlay(overlay);\r\n    }\r\n  }\r\n\r\n  this._overlayCache.clear();\r\n};\r\n\r\nContextPads.prototype._closeOverlay = function(overlay) {\r\n  this._overlays.remove(overlay.id);\r\n};\r\n\r\nContextPads.$inject = [\r\n  'eventBus',\r\n  'elementRegistry',\r\n  'overlays',\r\n  'injector',\r\n  'canvas',\r\n  'scopeFilter'\r\n];\r\n\r\n\r\n// helpers ///////////////\r\n\r\nfunction isAncestor(ancestor, descendant) {\r\n\r\n  do {\r\n    if (ancestor === descendant) {\r\n      return true;\r\n    }\r\n\r\n    descendant = descendant.parent;\r\n  } while (descendant);\r\n\r\n  return false;\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvY29udGV4dC1wYWRzL0NvbnRleHRQYWRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRWtDO0FBQ2xDO0FBTWdDO0FBQ2hDO0FBTWlCO0FBQ2pCO0FBQ3dFO0FBQ0E7QUFDdEI7QUFDSTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCx3RUFBdUI7QUFDdkUsZ0RBQWdELHdFQUF1QjtBQUN2RTtBQUNBLHdDQUF3Qyw2REFBWTtBQUNwRDtBQUNBLHFDQUFxQywrREFBYztBQUNuRCx1Q0FBdUMsK0RBQWM7QUFDckQsd0NBQXdDLCtEQUFjO0FBQ3REO0FBQ0EsY0FBYyxnRUFBaUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGNBQWMscUVBQXNCO0FBQ3BDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxjQUFjLHlFQUEwQjtBQUN4QztBQUNBLHlCQUF5QixpREFBVztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sZ0RBQVU7QUFDaEI7QUFDQTtBQUNBLHlCQUF5QixpREFBVztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sZ0RBQVU7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQSxjQUFjLG9FQUFxQjtBQUNuQztBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZUFBZTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLE1BQU0sS0FBSyx1REFBRTtBQUN0QjtBQUNBLFNBQVMsU0FBUztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixXQUFXLFFBQVEsYUFBYTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQixTQUFTLE1BQU07QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCw4Q0FBTTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxnREFBVTtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGdEQUFVO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwwQ0FBUTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9mZWF0dXJlcy9jb250ZXh0LXBhZHMvQ29udGV4dFBhZHMuanM/ZTQyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIGlzXHJcbn0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50SGVscGVyJztcclxuXHJcbmltcG9ydCB7XHJcbiAgVE9HR0xFX01PREVfRVZFTlQsXHJcbiAgUkVTRVRfU0lNVUxBVElPTl9FVkVOVCxcclxuICBFTEVNRU5UX0NIQU5HRURfRVZFTlQsXHJcbiAgU0NPUEVfRklMVEVSX0NIQU5HRURfRVZFTlRcclxufSBmcm9tICcuLi8uLi91dGlsL0V2ZW50SGVscGVyJztcclxuXHJcbmltcG9ydCB7XHJcbiAgZXZlbnQgYXMgZG9tRXZlbnQsXHJcbiAgY2xhc3NlcyBhcyBkb21DbGFzc2VzLFxyXG4gIHF1ZXJ5QWxsIGFzIGRvbVF1ZXJ5QWxsLFxyXG4gIGRvbWlmeVxyXG59IGZyb20gJ21pbi1kb20nO1xyXG5cclxuaW1wb3J0IEV4Y2x1c2l2ZUdhdGV3YXlIYW5kbGVyIGZyb20gJy4vaGFuZGxlci9FeGNsdXNpdmVHYXRld2F5SGFuZGxlcic7XHJcbmltcG9ydCBJbmNsdXNpdmVHYXRld2F5SGFuZGxlciBmcm9tICcuL2hhbmRsZXIvSW5jbHVzaXZlR2F0ZXdheUhhbmRsZXInO1xyXG5pbXBvcnQgUGF1c2VIYW5kbGVyIGZyb20gJy4vaGFuZGxlci9QYXVzZUhhbmRsZXInO1xyXG5pbXBvcnQgVHJpZ2dlckhhbmRsZXIgZnJvbSAnLi9oYW5kbGVyL1RyaWdnZXJIYW5kbGVyJztcclxuXHJcblxyXG5jb25zdCBMT1dfUFJJT1JJVFkgPSA1MDA7XHJcblxyXG5jb25zdCBPRkZTRVRfVE9QID0gLTE1O1xyXG5jb25zdCBPRkZTRVRfTEVGVCA9IC0xNTtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb250ZXh0UGFkcyhcclxuICAgIGV2ZW50QnVzLCBlbGVtZW50UmVnaXN0cnksXHJcbiAgICBvdmVybGF5cywgaW5qZWN0b3IsXHJcbiAgICBjYW52YXMsIHNjb3BlRmlsdGVyKSB7XHJcblxyXG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeSA9IGVsZW1lbnRSZWdpc3RyeTtcclxuICB0aGlzLl9vdmVybGF5cyA9IG92ZXJsYXlzO1xyXG4gIHRoaXMuX2luamVjdG9yID0gaW5qZWN0b3I7XHJcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xyXG4gIHRoaXMuX3Njb3BlRmlsdGVyID0gc2NvcGVGaWx0ZXI7XHJcblxyXG4gIHRoaXMuX292ZXJsYXlDYWNoZSA9IG5ldyBNYXAoKTtcclxuXHJcbiAgdGhpcy5faGFuZGxlcklkeCA9IDA7XHJcblxyXG4gIHRoaXMuX2hhbmRsZXJzID0gW107XHJcblxyXG4gIHRoaXMucmVnaXN0ZXJIYW5kbGVyKCdicG1uOkV4Y2x1c2l2ZUdhdGV3YXknLCBFeGNsdXNpdmVHYXRld2F5SGFuZGxlcik7XHJcbiAgdGhpcy5yZWdpc3RlckhhbmRsZXIoJ2JwbW46SW5jbHVzaXZlR2F0ZXdheScsIEluY2x1c2l2ZUdhdGV3YXlIYW5kbGVyKTtcclxuXHJcbiAgdGhpcy5yZWdpc3RlckhhbmRsZXIoJ2JwbW46QWN0aXZpdHknLCBQYXVzZUhhbmRsZXIpO1xyXG5cclxuICB0aGlzLnJlZ2lzdGVySGFuZGxlcignYnBtbjpFdmVudCcsIFRyaWdnZXJIYW5kbGVyKTtcclxuICB0aGlzLnJlZ2lzdGVySGFuZGxlcignYnBtbjpHYXRld2F5JywgVHJpZ2dlckhhbmRsZXIpO1xyXG4gIHRoaXMucmVnaXN0ZXJIYW5kbGVyKCdicG1uOkFjdGl2aXR5JywgVHJpZ2dlckhhbmRsZXIpO1xyXG5cclxuICBldmVudEJ1cy5vbihUT0dHTEVfTU9ERV9FVkVOVCwgTE9XX1BSSU9SSVRZLCBjb250ZXh0ID0+IHtcclxuICAgIGNvbnN0IGFjdGl2ZSA9IGNvbnRleHQuYWN0aXZlO1xyXG5cclxuICAgIGlmIChhY3RpdmUpIHtcclxuICAgICAgdGhpcy5vcGVuQ29udGV4dFBhZHMoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY2xvc2VDb250ZXh0UGFkcygpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBldmVudEJ1cy5vbihSRVNFVF9TSU1VTEFUSU9OX0VWRU5ULCBMT1dfUFJJT1JJVFksICgpID0+IHtcclxuICAgIHRoaXMuY2xvc2VDb250ZXh0UGFkcygpO1xyXG4gICAgdGhpcy5vcGVuQ29udGV4dFBhZHMoKTtcclxuICB9KTtcclxuXHJcbiAgZXZlbnRCdXMub24oU0NPUEVfRklMVEVSX0NIQU5HRURfRVZFTlQsIGV2ZW50ID0+IHtcclxuXHJcbiAgICBjb25zdCBzaG93RWxlbWVudHMgPSBkb21RdWVyeUFsbChcclxuICAgICAgJy5kanMtb3ZlcmxheS10cy1jb250ZXh0LW1lbnUgW2RhdGEtc2NvcGUtaWRzXScsXHJcbiAgICAgIG92ZXJsYXlzLl9vdmVybGF5Um9vdFxyXG4gICAgKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2Ygc2hvd0VsZW1lbnRzKSB7XHJcblxyXG4gICAgICBjb25zdCBzY29wZUlkcyA9IGVsZW1lbnQuZGF0YXNldC5zY29wZUlkcy5zcGxpdCgnLCcpO1xyXG5cclxuICAgICAgY29uc3Qgc2hvd24gPSBzY29wZUlkcy5zb21lKGlkID0+IHNjb3BlRmlsdGVyLmlzU2hvd24oaWQpKTtcclxuXHJcbiAgICAgIGRvbUNsYXNzZXMoZWxlbWVudCkudG9nZ2xlKCdoaWRkZW4nLCAhc2hvd24pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGhpZGVFbGVtZW50cyA9IGRvbVF1ZXJ5QWxsKFxyXG4gICAgICAnLmRqcy1vdmVybGF5LXRzLWNvbnRleHQtbWVudSBbZGF0YS1oaWRlLXNjb3BlLWlkc10nLFxyXG4gICAgICBvdmVybGF5cy5fb3ZlcmxheVJvb3RcclxuICAgICk7XHJcblxyXG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGhpZGVFbGVtZW50cykge1xyXG5cclxuICAgICAgY29uc3Qgc2NvcGVJZHMgPSBlbGVtZW50LmRhdGFzZXQuaGlkZVNjb3BlSWRzLnNwbGl0KCcsJyk7XHJcblxyXG4gICAgICBjb25zdCBzaG93biA9IHNjb3BlSWRzLnNvbWUoaWQgPT4gc2NvcGVGaWx0ZXIuaXNTaG93bihpZCkpO1xyXG5cclxuICAgICAgZG9tQ2xhc3NlcyhlbGVtZW50KS50b2dnbGUoJ2hpZGRlbicsIHNob3duKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgZXZlbnRCdXMub24oRUxFTUVOVF9DSEFOR0VEX0VWRU5ULCBMT1dfUFJJT1JJVFksIGV2ZW50ID0+IHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgZWxlbWVudFxyXG4gICAgfSA9IGV2ZW50O1xyXG5cclxuICAgIHRoaXMudXBkYXRlRWxlbWVudENvbnRleHRQYWRzKGVsZW1lbnQpO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogUmVnaXN0ZXIgYSBoYW5kbGVyIGZvciBhbiBlbGVtZW50IHR5cGUuXHJcbiAqIEFuIGVsZW1lbnQgdHlwZSBjYW4gaGF2ZSBtdWx0aXBsZSBoYW5kbGVycy5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICogQHBhcmFtIHtPYmplY3R9IGhhbmRsZXJDbHNcclxuICovXHJcbkNvbnRleHRQYWRzLnByb3RvdHlwZS5yZWdpc3RlckhhbmRsZXIgPSBmdW5jdGlvbih0eXBlLCBoYW5kbGVyQ2xzKSB7XHJcbiAgY29uc3QgaGFuZGxlciA9IHRoaXMuX2luamVjdG9yLmluc3RhbnRpYXRlKGhhbmRsZXJDbHMpO1xyXG5cclxuICBoYW5kbGVyLmhhc2ggPSBTdHJpbmcodGhpcy5faGFuZGxlcklkeCsrKTtcclxuXHJcbiAgdGhpcy5faGFuZGxlcnMucHVzaCh7IGhhbmRsZXIsIHR5cGUgfSk7XHJcbn07XHJcblxyXG5Db250ZXh0UGFkcy5wcm90b3R5cGUuZ2V0SGFuZGxlcnMgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICB0aGlzLl9oYW5kbGVycy5maWx0ZXIoXHJcbiAgICAgICh7IHR5cGUgfSkgPT4gaXMoZWxlbWVudCwgdHlwZSlcclxuICAgICkubWFwKFxyXG4gICAgICAoeyBoYW5kbGVyIH0pID0+IGhhbmRsZXJcclxuICAgIClcclxuICApO1xyXG59O1xyXG5cclxuQ29udGV4dFBhZHMucHJvdG90eXBlLm9wZW5Db250ZXh0UGFkcyA9IGZ1bmN0aW9uKHBhcmVudCkge1xyXG5cclxuICBpZiAoIXBhcmVudCkge1xyXG4gICAgcGFyZW50ID0gdGhpcy5fY2FudmFzLmdldFJvb3RFbGVtZW50KCk7XHJcbiAgfVxyXG5cclxuICB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKGlzQW5jZXN0b3IocGFyZW50LCBlbGVtZW50KSkge1xyXG4gICAgICB0aGlzLnVwZGF0ZUVsZW1lbnRDb250ZXh0UGFkcyhlbGVtZW50KTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbkNvbnRleHRQYWRzLnByb3RvdHlwZS5fZ2V0T3ZlcmxheXMgPSBmdW5jdGlvbihoYXNoKSB7XHJcbiAgcmV0dXJuIHRoaXMuX292ZXJsYXlDYWNoZS5nZXQoaGFzaCkgfHwgW107XHJcbn07XHJcblxyXG5Db250ZXh0UGFkcy5wcm90b3R5cGUuX2FkZE92ZXJsYXkgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XHJcblxyXG4gIGNvbnN0IHtcclxuICAgIGhhbmRsZXJIYXNoXHJcbiAgfSA9IG9wdGlvbnM7XHJcblxyXG4gIGlmICghaGFuZGxlckhhc2gpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignPGhhbmRsZXJIYXNoPiByZXF1aXJlZCcpO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgb3ZlcmxheUlkID0gdGhpcy5fb3ZlcmxheXMuYWRkKGVsZW1lbnQsICdidHMtY29udGV4dC1tZW51Jywge1xyXG4gICAgLi4ub3B0aW9ucyxcclxuICAgIHBvc2l0aW9uOiB7XHJcbiAgICAgIHRvcDogT0ZGU0VUX1RPUCxcclxuICAgICAgbGVmdDogT0ZGU0VUX0xFRlRcclxuICAgIH0sXHJcbiAgICBzaG93OiB7XHJcbiAgICAgIG1pblpvb206IDAuNVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBjb25zdCBvdmVybGF5ID0gdGhpcy5fb3ZlcmxheXMuZ2V0KG92ZXJsYXlJZCk7XHJcblxyXG4gIGNvbnN0IG92ZXJsYXlDYWNoZSA9IHRoaXMuX292ZXJsYXlDYWNoZTtcclxuXHJcbiAgaWYgKCFvdmVybGF5Q2FjaGUuaGFzKGhhbmRsZXJIYXNoKSkge1xyXG4gICAgb3ZlcmxheUNhY2hlLnNldChoYW5kbGVySGFzaCwgW10pO1xyXG4gIH1cclxuXHJcbiAgb3ZlcmxheUNhY2hlLmdldChoYW5kbGVySGFzaCkucHVzaChvdmVybGF5KTtcclxufTtcclxuXHJcbkNvbnRleHRQYWRzLnByb3RvdHlwZS5fcmVtb3ZlT3ZlcmxheSA9IGZ1bmN0aW9uKG92ZXJsYXkpIHtcclxuXHJcbiAgY29uc3Qge1xyXG4gICAgaWQsXHJcbiAgICBoYW5kbGVySGFzaFxyXG4gIH0gPSBvdmVybGF5O1xyXG5cclxuICAvLyByZW1vdmUgb3ZlcmxheVxyXG4gIHRoaXMuX292ZXJsYXlzLnJlbW92ZShpZCk7XHJcblxyXG4gIC8vIHJlbW92ZSBmcm9tIG92ZXJsYXkgY2FjaGVcclxuICBjb25zdCBvdmVybGF5cyA9IHRoaXMuX292ZXJsYXlDYWNoZS5nZXQoaGFuZGxlckhhc2gpIHx8IFtdO1xyXG5cclxuICBjb25zdCBpZHggPSBvdmVybGF5cy5pbmRleE9mKG92ZXJsYXkpO1xyXG5cclxuICBpZiAoaWR4ICE9PSAtMSkge1xyXG4gICAgb3ZlcmxheXMuc3BsaWNlKGlkeCwgMSk7XHJcbiAgfVxyXG59O1xyXG5cclxuQ29udGV4dFBhZHMucHJvdG90eXBlLnVwZGF0ZUVsZW1lbnRDb250ZXh0UGFkcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgdGhpcy5nZXRIYW5kbGVycyhlbGVtZW50KSkge1xyXG4gICAgdGhpcy5fdXBkYXRlRWxlbWVudENvbnRleHRQYWRzKGVsZW1lbnQsIGhhbmRsZXIpO1xyXG4gIH1cclxufTtcclxuXHJcbkNvbnRleHRQYWRzLnByb3RvdHlwZS5fdXBkYXRlRWxlbWVudENvbnRleHRQYWRzID0gZnVuY3Rpb24oZWxlbWVudCwgaGFuZGxlcikge1xyXG5cclxuICBjb25zdCBjb250ZXh0UGFkcyA9IChoYW5kbGVyLmNyZWF0ZUNvbnRleHRQYWRzKGVsZW1lbnQpIHx8IFtdKS5maWx0ZXIocCA9PiBwKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlckhhc2ggPSBgJHtlbGVtZW50LmlkfS0tLS0tLSR7aGFuZGxlci5oYXNofWA7XHJcblxyXG4gIGNvbnN0IGV4aXN0aW5nT3ZlcmxheXMgPSB0aGlzLl9nZXRPdmVybGF5cyhoYW5kbGVySGFzaCk7XHJcblxyXG4gIGNvbnN0IHVwZGF0ZWRPdmVybGF5cyA9IFtdO1xyXG5cclxuICBmb3IgKGNvbnN0IGNvbnRleHRQYWQgb2YgY29udGV4dFBhZHMpIHtcclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGVsZW1lbnQsXHJcbiAgICAgIGNvbnRleHRzOiBfY29udGV4dHMsXHJcbiAgICAgIGhpZGVDb250ZXh0czogX2hpZGVDb250ZXh0cyxcclxuICAgICAgYWN0aW9uOiBfYWN0aW9uLFxyXG4gICAgICBodG1sOiBfaHRtbFxyXG4gICAgfSA9IGNvbnRleHRQYWQ7XHJcblxyXG5cclxuICAgIGNvbnN0IGhhc2ggPSBgJHtjb250ZXh0UGFkLmVsZW1lbnQuaWR9LS0tLS0tLSR7X2h0bWx9YDtcclxuXHJcbiAgICBsZXQgZXhpc3RpbmdPdmVybGF5ID0gZXhpc3RpbmdPdmVybGF5cy5maW5kKFxyXG4gICAgICBvID0+IG8uaGFzaCA9PT0gaGFzaFxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBodG1sID0gZXhpc3RpbmdPdmVybGF5ICYmIGV4aXN0aW5nT3ZlcmxheS5odG1sIHx8IGRvbWlmeShfaHRtbCk7XHJcblxyXG4gICAgaWYgKF9jb250ZXh0cykge1xyXG4gICAgICBjb25zdCBjb250ZXh0cyA9IF9jb250ZXh0cygpO1xyXG5cclxuICAgICAgaHRtbC5kYXRhc2V0LnNjb3BlSWRzID0gY29udGV4dHMubWFwKGMgPT4gYy5zY29wZS5pZCkuam9pbignLCcpO1xyXG5cclxuICAgICAgY29uc3Qgc2hvd25TY29wZXMgPSBjb250ZXh0cy5maWx0ZXIoYyA9PiB0aGlzLl9zY29wZUZpbHRlci5pc1Nob3duKGMuc2NvcGUpKTtcclxuXHJcbiAgICAgIGRvbUNsYXNzZXMoaHRtbCkudG9nZ2xlKCdoaWRkZW4nLCBzaG93blNjb3Blcy5sZW5ndGggPT09IDApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChfaGlkZUNvbnRleHRzKSB7XHJcbiAgICAgIGNvbnN0IGNvbnRleHRzID0gX2hpZGVDb250ZXh0cygpO1xyXG5cclxuICAgICAgaHRtbC5kYXRhc2V0LmhpZGVTY29wZUlkcyA9IGNvbnRleHRzLm1hcChjID0+IGMuc2NvcGUuaWQpLmpvaW4oJywnKTtcclxuXHJcbiAgICAgIGNvbnN0IHNob3duU2NvcGVzID0gY29udGV4dHMuZmlsdGVyKGMgPT4gdGhpcy5fc2NvcGVGaWx0ZXIuaXNTaG93bihjLnNjb3BlKSk7XHJcblxyXG4gICAgICBkb21DbGFzc2VzKGh0bWwpLnRvZ2dsZSgnaGlkZGVuJywgc2hvd25TY29wZXMubGVuZ3RoID4gMCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGV4aXN0aW5nT3ZlcmxheSkge1xyXG4gICAgICB1cGRhdGVkT3ZlcmxheXMucHVzaChleGlzdGluZ092ZXJsYXkpO1xyXG5cclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKF9hY3Rpb24pIHtcclxuXHJcbiAgICAgIGRvbUV2ZW50LmJpbmQoaHRtbCwgJ2NsaWNrJywgZXZlbnQgPT4ge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbnRleHRzID0gX2NvbnRleHRzXHJcbiAgICAgICAgICA/IF9jb250ZXh0cygpLmZpbHRlcihjID0+IHRoaXMuX3Njb3BlRmlsdGVyLmlzU2hvd24oYy5zY29wZSkpXHJcbiAgICAgICAgICA6IG51bGw7XHJcblxyXG4gICAgICAgIF9hY3Rpb24oY29udGV4dHMpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9hZGRPdmVybGF5KGVsZW1lbnQsIHtcclxuICAgICAgaGFzaCxcclxuICAgICAgaGFuZGxlckhhc2gsXHJcbiAgICAgIGh0bWxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZm9yIChjb25zdCBleGlzdGluZ092ZXJsYXkgb2YgZXhpc3RpbmdPdmVybGF5cykge1xyXG4gICAgaWYgKCF1cGRhdGVkT3ZlcmxheXMuaW5jbHVkZXMoZXhpc3RpbmdPdmVybGF5KSkge1xyXG4gICAgICB0aGlzLl9yZW1vdmVPdmVybGF5KGV4aXN0aW5nT3ZlcmxheSk7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuQ29udGV4dFBhZHMucHJvdG90eXBlLmNsb3NlQ29udGV4dFBhZHMgPSBmdW5jdGlvbigpIHtcclxuICBmb3IgKGNvbnN0IG92ZXJsYXlzIG9mIHRoaXMuX292ZXJsYXlDYWNoZS52YWx1ZXMoKSkge1xyXG5cclxuICAgIGZvciAoY29uc3Qgb3ZlcmxheSBvZiBvdmVybGF5cykge1xyXG4gICAgICB0aGlzLl9jbG9zZU92ZXJsYXkob3ZlcmxheSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0aGlzLl9vdmVybGF5Q2FjaGUuY2xlYXIoKTtcclxufTtcclxuXHJcbkNvbnRleHRQYWRzLnByb3RvdHlwZS5fY2xvc2VPdmVybGF5ID0gZnVuY3Rpb24ob3ZlcmxheSkge1xyXG4gIHRoaXMuX292ZXJsYXlzLnJlbW92ZShvdmVybGF5LmlkKTtcclxufTtcclxuXHJcbkNvbnRleHRQYWRzLiRpbmplY3QgPSBbXHJcbiAgJ2V2ZW50QnVzJyxcclxuICAnZWxlbWVudFJlZ2lzdHJ5JyxcclxuICAnb3ZlcmxheXMnLFxyXG4gICdpbmplY3RvcicsXHJcbiAgJ2NhbnZhcycsXHJcbiAgJ3Njb3BlRmlsdGVyJ1xyXG5dO1xyXG5cclxuXHJcbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNBbmNlc3RvcihhbmNlc3RvciwgZGVzY2VuZGFudCkge1xyXG5cclxuICBkbyB7XHJcbiAgICBpZiAoYW5jZXN0b3IgPT09IGRlc2NlbmRhbnQpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzY2VuZGFudCA9IGRlc2NlbmRhbnQucGFyZW50O1xyXG4gIH0gd2hpbGUgKGRlc2NlbmRhbnQpO1xyXG5cclxuICByZXR1cm4gZmFsc2U7XHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/features/context-pads/ContextPads.js\n");

/***/ }),

/***/ "./lib/features/context-pads/handler/ExclusiveGatewayHandler.js":
/*!**********************************************************************!*\
  !*** ./lib/features/context-pads/handler/ExclusiveGatewayHandler.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ExclusiveGatewayHandler)\n/* harmony export */ });\n/* harmony import */ var _util_ElementHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../util/ElementHelper */ \"./lib/util/ElementHelper.js\");\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../icons */ \"./lib/icons/index.js\");\n\r\n\r\n\r\n\r\n\r\nfunction ExclusiveGatewayHandler(exclusiveGatewaySettings) {\r\n  this._exclusiveGatewaySettings = exclusiveGatewaySettings;\r\n}\r\n\r\nExclusiveGatewayHandler.prototype.createContextPads = function(element) {\r\n\r\n  const outgoingFlows = element.outgoing.filter(function(outgoing) {\r\n    return (0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_0__.is)(outgoing, 'bpmn:SequenceFlow');\r\n  });\r\n\r\n  if (outgoingFlows.length < 2) {\r\n    return;\r\n  }\r\n\r\n  const html = `\r\n    <div class=\"bts-context-pad\" title=\"Set Sequence Flow\">\r\n      ${(0,_icons__WEBPACK_IMPORTED_MODULE_1__.ForkIcon)()}\r\n    </div>\r\n  `;\r\n\r\n  const action = () => {\r\n    this._exclusiveGatewaySettings.setSequenceFlow(element);\r\n  };\r\n\r\n  return [\r\n    {\r\n      action,\r\n      element,\r\n      html\r\n    }\r\n  ];\r\n};\r\n\r\nExclusiveGatewayHandler.$inject = [\r\n  'exclusiveGatewaySettings'\r\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvY29udGV4dC1wYWRzL2hhbmRsZXIvRXhjbHVzaXZlR2F0ZXdheUhhbmRsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRXFDO0FBQ3JDO0FBR3dCO0FBQ3hCO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdURBQUU7QUFDYixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGdEQUFRO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2ZlYXR1cmVzL2NvbnRleHQtcGFkcy9oYW5kbGVyL0V4Y2x1c2l2ZUdhdGV3YXlIYW5kbGVyLmpzP2I4MTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBpc1xyXG59IGZyb20gJy4uLy4uLy4uL3V0aWwvRWxlbWVudEhlbHBlcic7XHJcblxyXG5pbXBvcnQge1xyXG4gIEZvcmtJY29uXHJcbn0gZnJvbSAnLi4vLi4vLi4vaWNvbnMnO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEV4Y2x1c2l2ZUdhdGV3YXlIYW5kbGVyKGV4Y2x1c2l2ZUdhdGV3YXlTZXR0aW5ncykge1xyXG4gIHRoaXMuX2V4Y2x1c2l2ZUdhdGV3YXlTZXR0aW5ncyA9IGV4Y2x1c2l2ZUdhdGV3YXlTZXR0aW5ncztcclxufVxyXG5cclxuRXhjbHVzaXZlR2F0ZXdheUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUNvbnRleHRQYWRzID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG5cclxuICBjb25zdCBvdXRnb2luZ0Zsb3dzID0gZWxlbWVudC5vdXRnb2luZy5maWx0ZXIoZnVuY3Rpb24ob3V0Z29pbmcpIHtcclxuICAgIHJldHVybiBpcyhvdXRnb2luZywgJ2JwbW46U2VxdWVuY2VGbG93Jyk7XHJcbiAgfSk7XHJcblxyXG4gIGlmIChvdXRnb2luZ0Zsb3dzLmxlbmd0aCA8IDIpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IGh0bWwgPSBgXHJcbiAgICA8ZGl2IGNsYXNzPVwiYnRzLWNvbnRleHQtcGFkXCIgdGl0bGU9XCJTZXQgU2VxdWVuY2UgRmxvd1wiPlxyXG4gICAgICAke0ZvcmtJY29uKCl9XHJcbiAgICA8L2Rpdj5cclxuICBgO1xyXG5cclxuICBjb25zdCBhY3Rpb24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9leGNsdXNpdmVHYXRld2F5U2V0dGluZ3Muc2V0U2VxdWVuY2VGbG93KGVsZW1lbnQpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBbXHJcbiAgICB7XHJcbiAgICAgIGFjdGlvbixcclxuICAgICAgZWxlbWVudCxcclxuICAgICAgaHRtbFxyXG4gICAgfVxyXG4gIF07XHJcbn07XHJcblxyXG5FeGNsdXNpdmVHYXRld2F5SGFuZGxlci4kaW5qZWN0ID0gW1xyXG4gICdleGNsdXNpdmVHYXRld2F5U2V0dGluZ3MnXHJcbl07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/context-pads/handler/ExclusiveGatewayHandler.js\n");

/***/ }),

/***/ "./lib/features/context-pads/handler/InclusiveGatewayHandler.js":
/*!**********************************************************************!*\
  !*** ./lib/features/context-pads/handler/InclusiveGatewayHandler.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ InclusiveGatewayHandler)\n/* harmony export */ });\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../icons */ \"./lib/icons/index.js\");\n/* harmony import */ var _util_ElementHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/ElementHelper */ \"./node_modules/bpmn-js/lib/util/ModelUtil.js\");\n/* harmony import */ var _simulator_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../simulator/util/ModelUtil */ \"./lib/simulator/util/ModelUtil.js\");\n\r\n\r\n\r\n\r\n\r\nfunction InclusiveGatewayHandler(inclusiveGatewaySettings) {\r\n  this._inclusiveGatewaySettings = inclusiveGatewaySettings;\r\n}\r\n\r\nInclusiveGatewayHandler.prototype.createContextPads = function(element) {\r\n  const outgoingFlows = element.outgoing.filter(_simulator_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isSequenceFlow);\r\n\r\n  if (outgoingFlows.length < 2) {\r\n    return;\r\n  }\r\n\r\n  const nonDefaultFlows = outgoingFlows.filter(outgoing => {\r\n    const flowBo = (0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_1__.getBusinessObject)(outgoing),\r\n          gatewayBo = (0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_1__.getBusinessObject)(element);\r\n\r\n    return gatewayBo.default !== flowBo;\r\n  });\r\n\r\n  const html = `\r\n    <div class=\"bts-context-pad\" title=\"Set Sequence Flow\">\r\n      ${(0,_icons__WEBPACK_IMPORTED_MODULE_2__.ForkIcon)()}\r\n    </div>\r\n  `;\r\n\r\n  return nonDefaultFlows.map(sequenceFlow => {\r\n    const action = () => {\r\n      this._inclusiveGatewaySettings.toggleSequenceFlow(element, sequenceFlow);\r\n    };\r\n\r\n    return {\r\n      action,\r\n      element: sequenceFlow,\r\n      html\r\n    };\r\n  });\r\n};\r\n\r\nInclusiveGatewayHandler.$inject = [\r\n  'inclusiveGatewaySettings'\r\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvY29udGV4dC1wYWRzL2hhbmRsZXIvSW5jbHVzaXZlR2F0ZXdheUhhbmRsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUV3QjtBQUN4QjtBQUNnRTtBQUNHO0FBQ25FO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxxRUFBYztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsc0VBQWlCO0FBQ3BDLHNCQUFzQixzRUFBaUI7QUFDdkM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGdEQUFRO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvZmVhdHVyZXMvY29udGV4dC1wYWRzL2hhbmRsZXIvSW5jbHVzaXZlR2F0ZXdheUhhbmRsZXIuanM/ZWZhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIEZvcmtJY29uXHJcbn0gZnJvbSAnLi4vLi4vLi4vaWNvbnMnO1xyXG5cclxuaW1wb3J0IHsgZ2V0QnVzaW5lc3NPYmplY3QgfSBmcm9tICcuLi8uLi8uLi91dGlsL0VsZW1lbnRIZWxwZXInO1xyXG5pbXBvcnQgeyBpc1NlcXVlbmNlRmxvdyB9IGZyb20gJy4uLy4uLy4uL3NpbXVsYXRvci91dGlsL01vZGVsVXRpbCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbmNsdXNpdmVHYXRld2F5SGFuZGxlcihpbmNsdXNpdmVHYXRld2F5U2V0dGluZ3MpIHtcclxuICB0aGlzLl9pbmNsdXNpdmVHYXRld2F5U2V0dGluZ3MgPSBpbmNsdXNpdmVHYXRld2F5U2V0dGluZ3M7XHJcbn1cclxuXHJcbkluY2x1c2l2ZUdhdGV3YXlIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVDb250ZXh0UGFkcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICBjb25zdCBvdXRnb2luZ0Zsb3dzID0gZWxlbWVudC5vdXRnb2luZy5maWx0ZXIoaXNTZXF1ZW5jZUZsb3cpO1xyXG5cclxuICBpZiAob3V0Z29pbmdGbG93cy5sZW5ndGggPCAyKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCBub25EZWZhdWx0Rmxvd3MgPSBvdXRnb2luZ0Zsb3dzLmZpbHRlcihvdXRnb2luZyA9PiB7XHJcbiAgICBjb25zdCBmbG93Qm8gPSBnZXRCdXNpbmVzc09iamVjdChvdXRnb2luZyksXHJcbiAgICAgICAgICBnYXRld2F5Qm8gPSBnZXRCdXNpbmVzc09iamVjdChlbGVtZW50KTtcclxuXHJcbiAgICByZXR1cm4gZ2F0ZXdheUJvLmRlZmF1bHQgIT09IGZsb3dCbztcclxuICB9KTtcclxuXHJcbiAgY29uc3QgaHRtbCA9IGBcclxuICAgIDxkaXYgY2xhc3M9XCJidHMtY29udGV4dC1wYWRcIiB0aXRsZT1cIlNldCBTZXF1ZW5jZSBGbG93XCI+XHJcbiAgICAgICR7Rm9ya0ljb24oKX1cclxuICAgIDwvZGl2PlxyXG4gIGA7XHJcblxyXG4gIHJldHVybiBub25EZWZhdWx0Rmxvd3MubWFwKHNlcXVlbmNlRmxvdyA9PiB7XHJcbiAgICBjb25zdCBhY3Rpb24gPSAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2luY2x1c2l2ZUdhdGV3YXlTZXR0aW5ncy50b2dnbGVTZXF1ZW5jZUZsb3coZWxlbWVudCwgc2VxdWVuY2VGbG93KTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYWN0aW9uLFxyXG4gICAgICBlbGVtZW50OiBzZXF1ZW5jZUZsb3csXHJcbiAgICAgIGh0bWxcclxuICAgIH07XHJcbiAgfSk7XHJcbn07XHJcblxyXG5JbmNsdXNpdmVHYXRld2F5SGFuZGxlci4kaW5qZWN0ID0gW1xyXG4gICdpbmNsdXNpdmVHYXRld2F5U2V0dGluZ3MnXHJcbl07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/context-pads/handler/InclusiveGatewayHandler.js\n");

/***/ }),

/***/ "./lib/features/context-pads/handler/PauseHandler.js":
/*!***********************************************************!*\
  !*** ./lib/features/context-pads/handler/PauseHandler.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PauseHandler)\n/* harmony export */ });\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../icons */ \"./lib/icons/index.js\");\n/* harmony import */ var _util_ElementHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../util/ElementHelper */ \"./lib/util/ElementHelper.js\");\n/* harmony import */ var _util_ElementHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/ElementHelper */ \"./node_modules/bpmn-js/lib/util/ModelUtil.js\");\n\n\n\n\n\n\nfunction PauseHandler(simulator) {\n  this._simulator = simulator;\n}\n\nPauseHandler.prototype.createContextPads = function(element) {\n\n  if (\n    (0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_0__.is)(element, 'bpmn:ReceiveTask') || (\n      (0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_0__.is)(element, 'bpmn:SubProcess') && (0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_1__.getBusinessObject)(element).triggeredByEvent\n    )\n  ) {\n    return [];\n  }\n\n  return [\n    this.createPauseContextPad(element)\n  ];\n};\n\nPauseHandler.prototype.createPauseContextPad = function(element) {\n\n  const contexts = () => this._findSubscriptions({\n    element\n  });\n\n  const wait = this._isPaused(element);\n\n  const html = `\n    <div class=\"bts-context-pad ${ wait ? '' : 'show-hover' }\" title=\"${ wait ? 'Remove' : 'Add' } pause point\">\n      ${ (wait ? _icons__WEBPACK_IMPORTED_MODULE_2__.RemovePauseIcon : _icons__WEBPACK_IMPORTED_MODULE_2__.PauseIcon)('show-hover') }\n      ${ (0,_icons__WEBPACK_IMPORTED_MODULE_2__.PauseIcon)('hide-hover') }\n    </div>\n  `;\n\n  const action = () => {\n    this._togglePaused(element);\n  };\n\n  return {\n    action,\n    element,\n    hideContexts: contexts,\n    html\n  };\n};\n\nPauseHandler.prototype._isPaused = function(element) {\n\n  const {\n    wait\n  } = this._simulator.getConfig(element);\n\n  return wait;\n};\n\nPauseHandler.prototype._togglePaused = function(element) {\n  const wait = !this._isPaused(element);\n\n  this._simulator.waitAtElement(element, wait);\n};\n\nPauseHandler.prototype._findSubscriptions = function(options) {\n  return this._simulator.findSubscriptions(options);\n};\n\nPauseHandler.$inject = [\n  'simulator'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvY29udGV4dC1wYWRzL2hhbmRsZXIvUGF1c2VIYW5kbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFHd0I7OztBQU1hOzs7QUFHdEI7QUFDZjtBQUNBOztBQUVBOztBQUVBO0FBQ0EsSUFBSSx1REFBRTtBQUNOLE1BQU0sdURBQUUsZ0NBQWdDLHNFQUFpQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBLG1DQUFtQywwQkFBMEIsWUFBWSwwQkFBMEI7QUFDbkcsU0FBUyxRQUFRLG1EQUFlLEdBQUcsNkNBQVM7QUFDNUMsU0FBUyxpREFBUztBQUNsQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2ZlYXR1cmVzL2NvbnRleHQtcGFkcy9oYW5kbGVyL1BhdXNlSGFuZGxlci5qcz82MzhkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFBhdXNlSWNvbixcbiAgUmVtb3ZlUGF1c2VJY29uXG59IGZyb20gJy4uLy4uLy4uL2ljb25zJztcblxuXG5pbXBvcnQge1xuICBpcyxcbiAgZ2V0QnVzaW5lc3NPYmplY3Rcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbC9FbGVtZW50SGVscGVyJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYXVzZUhhbmRsZXIoc2ltdWxhdG9yKSB7XG4gIHRoaXMuX3NpbXVsYXRvciA9IHNpbXVsYXRvcjtcbn1cblxuUGF1c2VIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVDb250ZXh0UGFkcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICBpZiAoXG4gICAgaXMoZWxlbWVudCwgJ2JwbW46UmVjZWl2ZVRhc2snKSB8fCAoXG4gICAgICBpcyhlbGVtZW50LCAnYnBtbjpTdWJQcm9jZXNzJykgJiYgZ2V0QnVzaW5lc3NPYmplY3QoZWxlbWVudCkudHJpZ2dlcmVkQnlFdmVudFxuICAgIClcbiAgKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgcmV0dXJuIFtcbiAgICB0aGlzLmNyZWF0ZVBhdXNlQ29udGV4dFBhZChlbGVtZW50KVxuICBdO1xufTtcblxuUGF1c2VIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVQYXVzZUNvbnRleHRQYWQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgY29uc3QgY29udGV4dHMgPSAoKSA9PiB0aGlzLl9maW5kU3Vic2NyaXB0aW9ucyh7XG4gICAgZWxlbWVudFxuICB9KTtcblxuICBjb25zdCB3YWl0ID0gdGhpcy5faXNQYXVzZWQoZWxlbWVudCk7XG5cbiAgY29uc3QgaHRtbCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwiYnRzLWNvbnRleHQtcGFkICR7IHdhaXQgPyAnJyA6ICdzaG93LWhvdmVyJyB9XCIgdGl0bGU9XCIkeyB3YWl0ID8gJ1JlbW92ZScgOiAnQWRkJyB9IHBhdXNlIHBvaW50XCI+XG4gICAgICAkeyAod2FpdCA/IFJlbW92ZVBhdXNlSWNvbiA6IFBhdXNlSWNvbikoJ3Nob3ctaG92ZXInKSB9XG4gICAgICAkeyBQYXVzZUljb24oJ2hpZGUtaG92ZXInKSB9XG4gICAgPC9kaXY+XG4gIGA7XG5cbiAgY29uc3QgYWN0aW9uID0gKCkgPT4ge1xuICAgIHRoaXMuX3RvZ2dsZVBhdXNlZChlbGVtZW50KTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGFjdGlvbixcbiAgICBlbGVtZW50LFxuICAgIGhpZGVDb250ZXh0czogY29udGV4dHMsXG4gICAgaHRtbFxuICB9O1xufTtcblxuUGF1c2VIYW5kbGVyLnByb3RvdHlwZS5faXNQYXVzZWQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgY29uc3Qge1xuICAgIHdhaXRcbiAgfSA9IHRoaXMuX3NpbXVsYXRvci5nZXRDb25maWcoZWxlbWVudCk7XG5cbiAgcmV0dXJuIHdhaXQ7XG59O1xuXG5QYXVzZUhhbmRsZXIucHJvdG90eXBlLl90b2dnbGVQYXVzZWQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIGNvbnN0IHdhaXQgPSAhdGhpcy5faXNQYXVzZWQoZWxlbWVudCk7XG5cbiAgdGhpcy5fc2ltdWxhdG9yLndhaXRBdEVsZW1lbnQoZWxlbWVudCwgd2FpdCk7XG59O1xuXG5QYXVzZUhhbmRsZXIucHJvdG90eXBlLl9maW5kU3Vic2NyaXB0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRoaXMuX3NpbXVsYXRvci5maW5kU3Vic2NyaXB0aW9ucyhvcHRpb25zKTtcbn07XG5cblBhdXNlSGFuZGxlci4kaW5qZWN0ID0gW1xuICAnc2ltdWxhdG9yJ1xuXTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/features/context-pads/handler/PauseHandler.js\n");

/***/ }),

/***/ "./lib/features/context-pads/handler/TriggerHandler.js":
/*!*************************************************************!*\
  !*** ./lib/features/context-pads/handler/TriggerHandler.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TriggerHandler)\n/* harmony export */ });\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../icons */ \"./lib/icons/index.js\");\n\n\n\nfunction TriggerHandler(simulator) {\n  this._simulator = simulator;\n}\n\nTriggerHandler.$inject = [\n  'simulator'\n];\n\nTriggerHandler.prototype.createContextPads = function(element) {\n  return [\n    this.createTriggerContextPad(element)\n  ];\n};\n\nTriggerHandler.prototype.createTriggerContextPad = function(element) {\n\n  const contexts = () => {\n    const subscriptions = this._findSubscriptions({\n      element\n    });\n\n    const sortedSubscriptions = subscriptions.slice().sort((a, b) => {\n      return a.event.type === 'none' ? 1 : -1;\n    });\n\n    return sortedSubscriptions;\n  };\n\n  const html = `\n    <div class=\"bts-context-pad\" title=\"Trigger Event\">\n      ${(0,_icons__WEBPACK_IMPORTED_MODULE_0__.PlayIcon)()}\n    </div>\n  `;\n\n  const action = (subscriptions) => {\n\n    const {\n      event,\n      scope\n    } = subscriptions[0];\n\n    return this._simulator.trigger({\n      event,\n      scope\n    });\n  };\n\n  return {\n    action,\n    element,\n    html,\n    contexts\n  };\n};\n\nTriggerHandler.prototype._findSubscriptions = function(options) {\n  return this._simulator.findSubscriptions(options);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvY29udGV4dC1wYWRzL2hhbmRsZXIvVHJpZ2dlckhhbmRsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFd0I7OztBQUdUO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVEsZ0RBQVE7QUFDaEI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvZmVhdHVyZXMvY29udGV4dC1wYWRzL2hhbmRsZXIvVHJpZ2dlckhhbmRsZXIuanM/MWE1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBQbGF5SWNvblxufSBmcm9tICcuLi8uLi8uLi9pY29ucyc7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVHJpZ2dlckhhbmRsZXIoc2ltdWxhdG9yKSB7XG4gIHRoaXMuX3NpbXVsYXRvciA9IHNpbXVsYXRvcjtcbn1cblxuVHJpZ2dlckhhbmRsZXIuJGluamVjdCA9IFtcbiAgJ3NpbXVsYXRvcidcbl07XG5cblRyaWdnZXJIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVDb250ZXh0UGFkcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIFtcbiAgICB0aGlzLmNyZWF0ZVRyaWdnZXJDb250ZXh0UGFkKGVsZW1lbnQpXG4gIF07XG59O1xuXG5UcmlnZ2VySGFuZGxlci5wcm90b3R5cGUuY3JlYXRlVHJpZ2dlckNvbnRleHRQYWQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgY29uc3QgY29udGV4dHMgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX2ZpbmRTdWJzY3JpcHRpb25zKHtcbiAgICAgIGVsZW1lbnRcbiAgICB9KTtcblxuICAgIGNvbnN0IHNvcnRlZFN1YnNjcmlwdGlvbnMgPSBzdWJzY3JpcHRpb25zLnNsaWNlKCkuc29ydCgoYSwgYikgPT4ge1xuICAgICAgcmV0dXJuIGEuZXZlbnQudHlwZSA9PT0gJ25vbmUnID8gMSA6IC0xO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNvcnRlZFN1YnNjcmlwdGlvbnM7XG4gIH07XG5cbiAgY29uc3QgaHRtbCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwiYnRzLWNvbnRleHQtcGFkXCIgdGl0bGU9XCJUcmlnZ2VyIEV2ZW50XCI+XG4gICAgICAke1BsYXlJY29uKCl9XG4gICAgPC9kaXY+XG4gIGA7XG5cbiAgY29uc3QgYWN0aW9uID0gKHN1YnNjcmlwdGlvbnMpID0+IHtcblxuICAgIGNvbnN0IHtcbiAgICAgIGV2ZW50LFxuICAgICAgc2NvcGVcbiAgICB9ID0gc3Vic2NyaXB0aW9uc1swXTtcblxuICAgIHJldHVybiB0aGlzLl9zaW11bGF0b3IudHJpZ2dlcih7XG4gICAgICBldmVudCxcbiAgICAgIHNjb3BlXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBhY3Rpb24sXG4gICAgZWxlbWVudCxcbiAgICBodG1sLFxuICAgIGNvbnRleHRzXG4gIH07XG59O1xuXG5UcmlnZ2VySGFuZGxlci5wcm90b3R5cGUuX2ZpbmRTdWJzY3JpcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICByZXR1cm4gdGhpcy5fc2ltdWxhdG9yLmZpbmRTdWJzY3JpcHRpb25zKG9wdGlvbnMpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/features/context-pads/handler/TriggerHandler.js\n");

/***/ }),

/***/ "./lib/features/context-pads/index.js":
/*!********************************************!*\
  !*** ./lib/features/context-pads/index.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ContextPads__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ContextPads */ \"./lib/features/context-pads/ContextPads.js\");\n/* harmony import */ var _scope_filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scope-filter */ \"./lib/features/scope-filter/index.js\");\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _scope_filter__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n  ],\n  __init__: [\n    'contextPads'\n  ],\n  contextPads: [ 'type', _ContextPads__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvY29udGV4dC1wYWRzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF3Qzs7QUFFUTs7QUFFaEQsaUVBQWU7QUFDZjtBQUNBLElBQUkscURBQWlCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG9EQUFXO0FBQ3BDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvZmVhdHVyZXMvY29udGV4dC1wYWRzL2luZGV4LmpzPzBjYjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbnRleHRQYWRzIGZyb20gJy4vQ29udGV4dFBhZHMnO1xuXG5pbXBvcnQgU2NvcGVGaWx0ZXJNb2R1bGUgZnJvbSAnLi4vc2NvcGUtZmlsdGVyJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIFNjb3BlRmlsdGVyTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbXG4gICAgJ2NvbnRleHRQYWRzJ1xuICBdLFxuICBjb250ZXh0UGFkczogWyAndHlwZScsIENvbnRleHRQYWRzIF1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/context-pads/index.js\n");

/***/ }),

/***/ "./lib/features/element-colors/ElementColors.js":
/*!******************************************************!*\
  !*** ./lib/features/element-colors/ElementColors.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ElementColors)\n/* harmony export */ });\n/* harmony import */ var bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bpmn-js/lib/util/ModelUtil */ \"./node_modules/bpmn-js/lib/util/ModelUtil.js\");\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n\n\n\n\nconst VERY_HIGH_PRIORITY = 50000;\n\n/**\n * @typedef Colors\n * @prop {string} fill\n * @prop {string} stroke\n */\n\n/**\n * @typedef CustomColors\n * @prop {string} fill\n * @prop {string} stroke\n * @prop {number} priority\n */\n\nfunction ElementColors(elementRegistry, eventBus, graphicsFactory) {\n  this._elementRegistry = elementRegistry;\n  this._eventBus = eventBus;\n  this._graphicsFactory = graphicsFactory;\n\n  this._originalColors = {};\n  this._customColors = {};\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.TOGGLE_MODE_EVENT, VERY_HIGH_PRIORITY, event => {\n    const active = event.active;\n\n    if (active) {\n      this._saveOriginalColors();\n    } else {\n      this._applyOriginalColors();\n\n      this._originalColors = {};\n      this._customColors = {};\n    }\n  });\n\n  eventBus.on('saveXML.start', VERY_HIGH_PRIORITY, () => {\n    this._applyOriginalColors();\n\n    eventBus.once('saveXML.done', () => this._applyCustomColors());\n  });\n}\n\nElementColors.$inject = [\n  'elementRegistry',\n  'eventBus',\n  'graphicsFactory'\n];\n\n/**\n * Add colors to an element. Element will be redrawn with highest priority\n * colors.\n *\n * @param {Object} element\n * @param {string} id\n * @param {Colors} colors\n * @param {number} [priority=1000]\n */\nElementColors.prototype.add = function(element, id, colors, priority = 1000) {\n  let elementColors = this._customColors[ element.id ];\n\n  if (!elementColors) {\n    elementColors = this._customColors[ element.id ] = {};\n  }\n\n  elementColors[ id ] = {\n    ...colors,\n    priority\n  };\n\n  this._applyHighestPriorityColor(element);\n};\n\n\n/**\n * Remove colors from an element. Element will be redrawn with highest priority\n * colors.\n *\n * @param {Object} element\n * @param {string} id\n */\nElementColors.prototype.remove = function(element, id) {\n  const elementColors = this._customColors[ element.id ];\n\n  if (elementColors) {\n    delete elementColors[ id ];\n\n    if (!Object.keys(elementColors)) {\n      delete this._customColors[ element.id ];\n    }\n  }\n\n  this._applyHighestPriorityColor(element);\n};\n\nElementColors.prototype._get = function(element) {\n  const di = (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.getDi)(element);\n\n  if (!di) {\n    return undefined;\n  }\n\n  // reading in accordance with bpmn-js@8.7+,\n  // BPMN-in-Color specification\n  if (isLabel(element)) {\n    return {\n      stroke: di.label && di.label.get('color')\n    };\n  } else if ((0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isAny)(di, [ 'bpmndi:BPMNEdge', 'bpmndi:BPMNShape' ])) {\n    return {\n      fill: di.get('background-color'),\n      stroke: di.get('border-color')\n    };\n  }\n};\n\nElementColors.prototype._set = function(element, colors = {}) {\n  const {\n    fill,\n    stroke\n  } = colors;\n\n  const di = (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.getDi)(element);\n\n  if (!di) {\n    return;\n  }\n\n  // writing in accordance with bpmn-js@8.7+,\n  // BPMN-in-Color specification\n  if (isLabel(element)) {\n    di.label && di.label.set('color', stroke);\n  } else if ((0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isAny)(di, [ 'bpmndi:BPMNEdge', 'bpmndi:BPMNShape' ])) {\n    di.set('background-color', fill);\n    di.set('border-color', stroke);\n  }\n\n  this._forceRedraw(element);\n};\n\nElementColors.prototype._saveOriginalColors = function() {\n  this._originalColors = {};\n\n  this._elementRegistry.forEach(element => {\n    this._originalColors[ element.id ] = this._get(element);\n  });\n};\n\nElementColors.prototype._applyOriginalColors = function() {\n  this._elementRegistry.forEach(element => {\n    const colors = this._originalColors[ element.id ];\n\n    if (colors) {\n      this._set(element, colors);\n    }\n  });\n};\n\nElementColors.prototype._applyCustomColors = function() {\n  this._elementRegistry.forEach(element => {\n    const elementColors = this._customColors[ element.id ];\n\n    if (elementColors) {\n      this._set(element, getColorsWithHighestPriority(elementColors));\n    }\n  });\n};\n\nElementColors.prototype._applyHighestPriorityColor = function(element) {\n  const elementColors = this._customColors[ element.id ];\n\n  if (!elementColors) {\n    this._set(element, this._originalColors[ element.id ]);\n\n    return;\n  }\n\n  this._set(element, getColorsWithHighestPriority(elementColors));\n};\n\nElementColors.prototype._forceRedraw = function(element) {\n  const gfx = this._elementRegistry.getGraphics(element);\n\n  const type = element.waypoints ? 'connection' : 'shape';\n\n  this._graphicsFactory.update(type, element, gfx);\n};\n\n\n// helpers /////////////////\n\nfunction isLabel(element) {\n  return 'labelTarget' in element;\n}\n\n/**\n * Get colors with highest priority.\n *\n * @param {Map<string, CustomColors>|undefined} colors\n *\n * @returns {Colors|undefined}\n */\nfunction getColorsWithHighestPriority(colors = {}) {\n  const colorsWithHighestPriority = Object.values(colors).reduce((colorsWithHighestPriority, colors) => {\n    const { priority = 1000 } = colors;\n\n    if (!colorsWithHighestPriority || priority > colorsWithHighestPriority.priority) {\n      return colors;\n    }\n\n    return colorsWithHighestPriority;\n  }, undefined);\n\n  if (colorsWithHighestPriority) {\n    const { priority, ...fillAndStroke } = colorsWithHighestPriority;\n\n    return fillAndStroke;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvZWxlbWVudC1jb2xvcnMvRWxlbWVudENvbG9ycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFHb0M7O0FBSUo7O0FBRWhDOztBQUVBO0FBQ0E7QUFDQSxVQUFVLFFBQVE7QUFDbEIsVUFBVSxRQUFRO0FBQ2xCOztBQUVBO0FBQ0E7QUFDQSxVQUFVLFFBQVE7QUFDbEIsVUFBVSxRQUFRO0FBQ2xCLFVBQVUsUUFBUTtBQUNsQjs7QUFFZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGNBQWMsZ0VBQWlCO0FBQy9COztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGFBQWEsaUVBQUs7O0FBRWxCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLFNBQVMsaUVBQUs7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREQUE0RDtBQUM1RDtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKLGFBQWEsaUVBQUs7O0FBRWxCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksU0FBUyxpRUFBSztBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxQ0FBcUM7QUFDaEQ7QUFDQSxhQUFhO0FBQ2I7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQSxZQUFZLGtCQUFrQjs7QUFFOUI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLFlBQVksNkJBQTZCOztBQUV6QztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvZmVhdHVyZXMvZWxlbWVudC1jb2xvcnMvRWxlbWVudENvbG9ycy5qcz81MDQxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGdldERpLFxuICBpc0FueVxufSBmcm9tICdicG1uLWpzL2xpYi91dGlsL01vZGVsVXRpbCc7XG5cbmltcG9ydCB7XG4gIFRPR0dMRV9NT0RFX0VWRU5UXG59IGZyb20gJy4uLy4uL3V0aWwvRXZlbnRIZWxwZXInO1xuXG5jb25zdCBWRVJZX0hJR0hfUFJJT1JJVFkgPSA1MDAwMDtcblxuLyoqXG4gKiBAdHlwZWRlZiBDb2xvcnNcbiAqIEBwcm9wIHtzdHJpbmd9IGZpbGxcbiAqIEBwcm9wIHtzdHJpbmd9IHN0cm9rZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgQ3VzdG9tQ29sb3JzXG4gKiBAcHJvcCB7c3RyaW5nfSBmaWxsXG4gKiBAcHJvcCB7c3RyaW5nfSBzdHJva2VcbiAqIEBwcm9wIHtudW1iZXJ9IHByaW9yaXR5XG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRWxlbWVudENvbG9ycyhlbGVtZW50UmVnaXN0cnksIGV2ZW50QnVzLCBncmFwaGljc0ZhY3RvcnkpIHtcbiAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5ID0gZWxlbWVudFJlZ2lzdHJ5O1xuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuICB0aGlzLl9ncmFwaGljc0ZhY3RvcnkgPSBncmFwaGljc0ZhY3Rvcnk7XG5cbiAgdGhpcy5fb3JpZ2luYWxDb2xvcnMgPSB7fTtcbiAgdGhpcy5fY3VzdG9tQ29sb3JzID0ge307XG5cbiAgZXZlbnRCdXMub24oVE9HR0xFX01PREVfRVZFTlQsIFZFUllfSElHSF9QUklPUklUWSwgZXZlbnQgPT4ge1xuICAgIGNvbnN0IGFjdGl2ZSA9IGV2ZW50LmFjdGl2ZTtcblxuICAgIGlmIChhY3RpdmUpIHtcbiAgICAgIHRoaXMuX3NhdmVPcmlnaW5hbENvbG9ycygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9hcHBseU9yaWdpbmFsQ29sb3JzKCk7XG5cbiAgICAgIHRoaXMuX29yaWdpbmFsQ29sb3JzID0ge307XG4gICAgICB0aGlzLl9jdXN0b21Db2xvcnMgPSB7fTtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKCdzYXZlWE1MLnN0YXJ0JywgVkVSWV9ISUdIX1BSSU9SSVRZLCAoKSA9PiB7XG4gICAgdGhpcy5fYXBwbHlPcmlnaW5hbENvbG9ycygpO1xuXG4gICAgZXZlbnRCdXMub25jZSgnc2F2ZVhNTC5kb25lJywgKCkgPT4gdGhpcy5fYXBwbHlDdXN0b21Db2xvcnMoKSk7XG4gIH0pO1xufVxuXG5FbGVtZW50Q29sb3JzLiRpbmplY3QgPSBbXG4gICdlbGVtZW50UmVnaXN0cnknLFxuICAnZXZlbnRCdXMnLFxuICAnZ3JhcGhpY3NGYWN0b3J5J1xuXTtcblxuLyoqXG4gKiBBZGQgY29sb3JzIHRvIGFuIGVsZW1lbnQuIEVsZW1lbnQgd2lsbCBiZSByZWRyYXduIHdpdGggaGlnaGVzdCBwcmlvcml0eVxuICogY29sb3JzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEBwYXJhbSB7Q29sb3JzfSBjb2xvcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9MTAwMF1cbiAqL1xuRWxlbWVudENvbG9ycy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZWxlbWVudCwgaWQsIGNvbG9ycywgcHJpb3JpdHkgPSAxMDAwKSB7XG4gIGxldCBlbGVtZW50Q29sb3JzID0gdGhpcy5fY3VzdG9tQ29sb3JzWyBlbGVtZW50LmlkIF07XG5cbiAgaWYgKCFlbGVtZW50Q29sb3JzKSB7XG4gICAgZWxlbWVudENvbG9ycyA9IHRoaXMuX2N1c3RvbUNvbG9yc1sgZWxlbWVudC5pZCBdID0ge307XG4gIH1cblxuICBlbGVtZW50Q29sb3JzWyBpZCBdID0ge1xuICAgIC4uLmNvbG9ycyxcbiAgICBwcmlvcml0eVxuICB9O1xuXG4gIHRoaXMuX2FwcGx5SGlnaGVzdFByaW9yaXR5Q29sb3IoZWxlbWVudCk7XG59O1xuXG5cbi8qKlxuICogUmVtb3ZlIGNvbG9ycyBmcm9tIGFuIGVsZW1lbnQuIEVsZW1lbnQgd2lsbCBiZSByZWRyYXduIHdpdGggaGlnaGVzdCBwcmlvcml0eVxuICogY29sb3JzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqL1xuRWxlbWVudENvbG9ycy5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oZWxlbWVudCwgaWQpIHtcbiAgY29uc3QgZWxlbWVudENvbG9ycyA9IHRoaXMuX2N1c3RvbUNvbG9yc1sgZWxlbWVudC5pZCBdO1xuXG4gIGlmIChlbGVtZW50Q29sb3JzKSB7XG4gICAgZGVsZXRlIGVsZW1lbnRDb2xvcnNbIGlkIF07XG5cbiAgICBpZiAoIU9iamVjdC5rZXlzKGVsZW1lbnRDb2xvcnMpKSB7XG4gICAgICBkZWxldGUgdGhpcy5fY3VzdG9tQ29sb3JzWyBlbGVtZW50LmlkIF07XG4gICAgfVxuICB9XG5cbiAgdGhpcy5fYXBwbHlIaWdoZXN0UHJpb3JpdHlDb2xvcihlbGVtZW50KTtcbn07XG5cbkVsZW1lbnRDb2xvcnMucHJvdG90eXBlLl9nZXQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIGNvbnN0IGRpID0gZ2V0RGkoZWxlbWVudCk7XG5cbiAgaWYgKCFkaSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvLyByZWFkaW5nIGluIGFjY29yZGFuY2Ugd2l0aCBicG1uLWpzQDguNyssXG4gIC8vIEJQTU4taW4tQ29sb3Igc3BlY2lmaWNhdGlvblxuICBpZiAoaXNMYWJlbChlbGVtZW50KSkge1xuICAgIHJldHVybiB7XG4gICAgICBzdHJva2U6IGRpLmxhYmVsICYmIGRpLmxhYmVsLmdldCgnY29sb3InKVxuICAgIH07XG4gIH0gZWxzZSBpZiAoaXNBbnkoZGksIFsgJ2JwbW5kaTpCUE1ORWRnZScsICdicG1uZGk6QlBNTlNoYXBlJyBdKSkge1xuICAgIHJldHVybiB7XG4gICAgICBmaWxsOiBkaS5nZXQoJ2JhY2tncm91bmQtY29sb3InKSxcbiAgICAgIHN0cm9rZTogZGkuZ2V0KCdib3JkZXItY29sb3InKVxuICAgIH07XG4gIH1cbn07XG5cbkVsZW1lbnRDb2xvcnMucHJvdG90eXBlLl9zZXQgPSBmdW5jdGlvbihlbGVtZW50LCBjb2xvcnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgZmlsbCxcbiAgICBzdHJva2VcbiAgfSA9IGNvbG9ycztcblxuICBjb25zdCBkaSA9IGdldERpKGVsZW1lbnQpO1xuXG4gIGlmICghZGkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyB3cml0aW5nIGluIGFjY29yZGFuY2Ugd2l0aCBicG1uLWpzQDguNyssXG4gIC8vIEJQTU4taW4tQ29sb3Igc3BlY2lmaWNhdGlvblxuICBpZiAoaXNMYWJlbChlbGVtZW50KSkge1xuICAgIGRpLmxhYmVsICYmIGRpLmxhYmVsLnNldCgnY29sb3InLCBzdHJva2UpO1xuICB9IGVsc2UgaWYgKGlzQW55KGRpLCBbICdicG1uZGk6QlBNTkVkZ2UnLCAnYnBtbmRpOkJQTU5TaGFwZScgXSkpIHtcbiAgICBkaS5zZXQoJ2JhY2tncm91bmQtY29sb3InLCBmaWxsKTtcbiAgICBkaS5zZXQoJ2JvcmRlci1jb2xvcicsIHN0cm9rZSk7XG4gIH1cblxuICB0aGlzLl9mb3JjZVJlZHJhdyhlbGVtZW50KTtcbn07XG5cbkVsZW1lbnRDb2xvcnMucHJvdG90eXBlLl9zYXZlT3JpZ2luYWxDb2xvcnMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fb3JpZ2luYWxDb2xvcnMgPSB7fTtcblxuICB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICB0aGlzLl9vcmlnaW5hbENvbG9yc1sgZWxlbWVudC5pZCBdID0gdGhpcy5fZ2V0KGVsZW1lbnQpO1xuICB9KTtcbn07XG5cbkVsZW1lbnRDb2xvcnMucHJvdG90eXBlLl9hcHBseU9yaWdpbmFsQ29sb3JzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgIGNvbnN0IGNvbG9ycyA9IHRoaXMuX29yaWdpbmFsQ29sb3JzWyBlbGVtZW50LmlkIF07XG5cbiAgICBpZiAoY29sb3JzKSB7XG4gICAgICB0aGlzLl9zZXQoZWxlbWVudCwgY29sb3JzKTtcbiAgICB9XG4gIH0pO1xufTtcblxuRWxlbWVudENvbG9ycy5wcm90b3R5cGUuX2FwcGx5Q3VzdG9tQ29sb3JzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnRDb2xvcnMgPSB0aGlzLl9jdXN0b21Db2xvcnNbIGVsZW1lbnQuaWQgXTtcblxuICAgIGlmIChlbGVtZW50Q29sb3JzKSB7XG4gICAgICB0aGlzLl9zZXQoZWxlbWVudCwgZ2V0Q29sb3JzV2l0aEhpZ2hlc3RQcmlvcml0eShlbGVtZW50Q29sb3JzKSk7XG4gICAgfVxuICB9KTtcbn07XG5cbkVsZW1lbnRDb2xvcnMucHJvdG90eXBlLl9hcHBseUhpZ2hlc3RQcmlvcml0eUNvbG9yID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICBjb25zdCBlbGVtZW50Q29sb3JzID0gdGhpcy5fY3VzdG9tQ29sb3JzWyBlbGVtZW50LmlkIF07XG5cbiAgaWYgKCFlbGVtZW50Q29sb3JzKSB7XG4gICAgdGhpcy5fc2V0KGVsZW1lbnQsIHRoaXMuX29yaWdpbmFsQ29sb3JzWyBlbGVtZW50LmlkIF0pO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5fc2V0KGVsZW1lbnQsIGdldENvbG9yc1dpdGhIaWdoZXN0UHJpb3JpdHkoZWxlbWVudENvbG9ycykpO1xufTtcblxuRWxlbWVudENvbG9ycy5wcm90b3R5cGUuX2ZvcmNlUmVkcmF3ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICBjb25zdCBnZnggPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0R3JhcGhpY3MoZWxlbWVudCk7XG5cbiAgY29uc3QgdHlwZSA9IGVsZW1lbnQud2F5cG9pbnRzID8gJ2Nvbm5lY3Rpb24nIDogJ3NoYXBlJztcblxuICB0aGlzLl9ncmFwaGljc0ZhY3RvcnkudXBkYXRlKHR5cGUsIGVsZW1lbnQsIGdmeCk7XG59O1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gaXNMYWJlbChlbGVtZW50KSB7XG4gIHJldHVybiAnbGFiZWxUYXJnZXQnIGluIGVsZW1lbnQ7XG59XG5cbi8qKlxuICogR2V0IGNvbG9ycyB3aXRoIGhpZ2hlc3QgcHJpb3JpdHkuXG4gKlxuICogQHBhcmFtIHtNYXA8c3RyaW5nLCBDdXN0b21Db2xvcnM+fHVuZGVmaW5lZH0gY29sb3JzXG4gKlxuICogQHJldHVybnMge0NvbG9yc3x1bmRlZmluZWR9XG4gKi9cbmZ1bmN0aW9uIGdldENvbG9yc1dpdGhIaWdoZXN0UHJpb3JpdHkoY29sb3JzID0ge30pIHtcbiAgY29uc3QgY29sb3JzV2l0aEhpZ2hlc3RQcmlvcml0eSA9IE9iamVjdC52YWx1ZXMoY29sb3JzKS5yZWR1Y2UoKGNvbG9yc1dpdGhIaWdoZXN0UHJpb3JpdHksIGNvbG9ycykgPT4ge1xuICAgIGNvbnN0IHsgcHJpb3JpdHkgPSAxMDAwIH0gPSBjb2xvcnM7XG5cbiAgICBpZiAoIWNvbG9yc1dpdGhIaWdoZXN0UHJpb3JpdHkgfHwgcHJpb3JpdHkgPiBjb2xvcnNXaXRoSGlnaGVzdFByaW9yaXR5LnByaW9yaXR5KSB7XG4gICAgICByZXR1cm4gY29sb3JzO1xuICAgIH1cblxuICAgIHJldHVybiBjb2xvcnNXaXRoSGlnaGVzdFByaW9yaXR5O1xuICB9LCB1bmRlZmluZWQpO1xuXG4gIGlmIChjb2xvcnNXaXRoSGlnaGVzdFByaW9yaXR5KSB7XG4gICAgY29uc3QgeyBwcmlvcml0eSwgLi4uZmlsbEFuZFN0cm9rZSB9ID0gY29sb3JzV2l0aEhpZ2hlc3RQcmlvcml0eTtcblxuICAgIHJldHVybiBmaWxsQW5kU3Ryb2tlO1xuICB9XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/element-colors/ElementColors.js\n");

/***/ }),

/***/ "./lib/features/element-colors/index.js":
/*!**********************************************!*\
  !*** ./lib/features/element-colors/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ElementColors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ElementColors */ \"./lib/features/element-colors/ElementColors.js\");\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  elementColors: [ 'type', _ElementColors__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvZWxlbWVudC1jb2xvcnMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEM7O0FBRTVDLGlFQUFlO0FBQ2YsMkJBQTJCLHNEQUFhO0FBQ3hDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvZmVhdHVyZXMvZWxlbWVudC1jb2xvcnMvaW5kZXguanM/MTkwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRWxlbWVudENvbG9ycyBmcm9tICcuL0VsZW1lbnRDb2xvcnMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGVsZW1lbnRDb2xvcnM6IFsgJ3R5cGUnLCBFbGVtZW50Q29sb3JzIF1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/element-colors/index.js\n");

/***/ }),

/***/ "./lib/features/element-notifications/ElementNotifications.js":
/*!********************************************************************!*\
  !*** ./lib/features/element-notifications/ElementNotifications.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ElementNotifications)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/node_modules/domify/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(min_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n\r\n\r\n\r\n\r\nconst OFFSET_TOP = -15;\r\nconst OFFSET_RIGHT = 15;\r\n\r\n\r\nfunction ElementNotifications(overlays, eventBus) {\r\n  this._overlays = overlays;\r\n\r\n  eventBus.on([\r\n    _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.RESET_SIMULATION_EVENT,\r\n    _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.SCOPE_CREATE_EVENT,\r\n    _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.TOGGLE_MODE_EVENT\r\n  ], () => {\r\n    this.clear();\r\n  });\r\n}\r\n\r\nElementNotifications.prototype.addElementNotification = function(element, options) {\r\n  const position = {\r\n    top: OFFSET_TOP,\r\n    right: OFFSET_RIGHT\r\n  };\r\n\r\n  const {\r\n    type,\r\n    icon,\r\n    text,\r\n    scope = {}\r\n  } = options;\r\n\r\n  const colors = scope.colors;\r\n\r\n  const colorMarkup = colors\r\n    ? `style=\"color: ${colors.auxiliary}; background: ${colors.primary}\"`\r\n    : '';\r\n\r\n  const html = min_dom__WEBPACK_IMPORTED_MODULE_1___default()(`\r\n    <div class=\"bts-element-notification ${ type || '' }\" ${colorMarkup}>\r\n      ${ icon || '' }\r\n      <span class=\"bts-text\">${ text }</span>\r\n    </div>\r\n  `);\r\n\r\n  this._overlays.add(element, 'bts-element-notification', {\r\n    position,\r\n    html: html,\r\n    show: {\r\n      minZoom: 0.5\r\n    }\r\n  });\r\n};\r\n\r\nElementNotifications.prototype.clear = function() {\r\n  this._overlays.remove({ type: 'bts-element-notification' });\r\n};\r\n\r\nElementNotifications.prototype.removeElementNotification = function(element) {\r\n  this._overlays.remove({ element: element });\r\n};\r\n\r\nElementNotifications.$inject = [ 'overlays', 'eventBus' ];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvZWxlbWVudC1ub3RpZmljYXRpb25zL0VsZW1lbnROb3RpZmljYXRpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFaUI7QUFDakI7QUFLZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsSUFBSSxxRUFBc0I7QUFDMUIsSUFBSSxpRUFBa0I7QUFDdEIsSUFBSSxnRUFBaUI7QUFDckI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixtQkFBbUIsY0FBYyxlQUFlO0FBQ3ZFO0FBQ0E7QUFDQSxlQUFlLDhDQUFNO0FBQ3JCLDRDQUE0QyxZQUFZLElBQUksWUFBWTtBQUN4RSxTQUFTO0FBQ1QsZ0NBQWdDLE1BQU07QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixrQ0FBa0M7QUFDNUQ7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGtCQUFrQjtBQUM1QztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvZmVhdHVyZXMvZWxlbWVudC1ub3RpZmljYXRpb25zL0VsZW1lbnROb3RpZmljYXRpb25zLmpzP2JiOGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBkb21pZnlcclxufSBmcm9tICdtaW4tZG9tJztcclxuXHJcbmltcG9ydCB7XHJcbiAgVE9HR0xFX01PREVfRVZFTlQsXHJcbiAgUkVTRVRfU0lNVUxBVElPTl9FVkVOVCxcclxuICBTQ09QRV9DUkVBVEVfRVZFTlRcclxufSBmcm9tICcuLi8uLi91dGlsL0V2ZW50SGVscGVyJztcclxuXHJcbmNvbnN0IE9GRlNFVF9UT1AgPSAtMTU7XHJcbmNvbnN0IE9GRlNFVF9SSUdIVCA9IDE1O1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVsZW1lbnROb3RpZmljYXRpb25zKG92ZXJsYXlzLCBldmVudEJ1cykge1xyXG4gIHRoaXMuX292ZXJsYXlzID0gb3ZlcmxheXM7XHJcblxyXG4gIGV2ZW50QnVzLm9uKFtcclxuICAgIFJFU0VUX1NJTVVMQVRJT05fRVZFTlQsXHJcbiAgICBTQ09QRV9DUkVBVEVfRVZFTlQsXHJcbiAgICBUT0dHTEVfTU9ERV9FVkVOVFxyXG4gIF0sICgpID0+IHtcclxuICAgIHRoaXMuY2xlYXIoKTtcclxuICB9KTtcclxufVxyXG5cclxuRWxlbWVudE5vdGlmaWNhdGlvbnMucHJvdG90eXBlLmFkZEVsZW1lbnROb3RpZmljYXRpb24gPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XHJcbiAgY29uc3QgcG9zaXRpb24gPSB7XHJcbiAgICB0b3A6IE9GRlNFVF9UT1AsXHJcbiAgICByaWdodDogT0ZGU0VUX1JJR0hUXHJcbiAgfTtcclxuXHJcbiAgY29uc3Qge1xyXG4gICAgdHlwZSxcclxuICAgIGljb24sXHJcbiAgICB0ZXh0LFxyXG4gICAgc2NvcGUgPSB7fVxyXG4gIH0gPSBvcHRpb25zO1xyXG5cclxuICBjb25zdCBjb2xvcnMgPSBzY29wZS5jb2xvcnM7XHJcblxyXG4gIGNvbnN0IGNvbG9yTWFya3VwID0gY29sb3JzXHJcbiAgICA/IGBzdHlsZT1cImNvbG9yOiAke2NvbG9ycy5hdXhpbGlhcnl9OyBiYWNrZ3JvdW5kOiAke2NvbG9ycy5wcmltYXJ5fVwiYFxyXG4gICAgOiAnJztcclxuXHJcbiAgY29uc3QgaHRtbCA9IGRvbWlmeShgXHJcbiAgICA8ZGl2IGNsYXNzPVwiYnRzLWVsZW1lbnQtbm90aWZpY2F0aW9uICR7IHR5cGUgfHwgJycgfVwiICR7Y29sb3JNYXJrdXB9PlxyXG4gICAgICAkeyBpY29uIHx8ICcnIH1cclxuICAgICAgPHNwYW4gY2xhc3M9XCJidHMtdGV4dFwiPiR7IHRleHQgfTwvc3Bhbj5cclxuICAgIDwvZGl2PlxyXG4gIGApO1xyXG5cclxuICB0aGlzLl9vdmVybGF5cy5hZGQoZWxlbWVudCwgJ2J0cy1lbGVtZW50LW5vdGlmaWNhdGlvbicsIHtcclxuICAgIHBvc2l0aW9uLFxyXG4gICAgaHRtbDogaHRtbCxcclxuICAgIHNob3c6IHtcclxuICAgICAgbWluWm9vbTogMC41XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5FbGVtZW50Tm90aWZpY2F0aW9ucy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcclxuICB0aGlzLl9vdmVybGF5cy5yZW1vdmUoeyB0eXBlOiAnYnRzLWVsZW1lbnQtbm90aWZpY2F0aW9uJyB9KTtcclxufTtcclxuXHJcbkVsZW1lbnROb3RpZmljYXRpb25zLnByb3RvdHlwZS5yZW1vdmVFbGVtZW50Tm90aWZpY2F0aW9uID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gIHRoaXMuX292ZXJsYXlzLnJlbW92ZSh7IGVsZW1lbnQ6IGVsZW1lbnQgfSk7XHJcbn07XHJcblxyXG5FbGVtZW50Tm90aWZpY2F0aW9ucy4kaW5qZWN0ID0gWyAnb3ZlcmxheXMnLCAnZXZlbnRCdXMnIF07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/element-notifications/ElementNotifications.js\n");

/***/ }),

/***/ "./lib/features/element-notifications/index.js":
/*!*****************************************************!*\
  !*** ./lib/features/element-notifications/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ElementNotifications__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ElementNotifications */ \"./lib/features/element-notifications/ElementNotifications.js\");\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  elementNotifications: [ 'type', _ElementNotifications__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvZWxlbWVudC1ub3RpZmljYXRpb25zL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBEOztBQUUxRCxpRUFBZTtBQUNmLGtDQUFrQyw2REFBb0I7QUFDdEQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9mZWF0dXJlcy9lbGVtZW50LW5vdGlmaWNhdGlvbnMvaW5kZXguanM/NTMyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRWxlbWVudE5vdGlmaWNhdGlvbnMgZnJvbSAnLi9FbGVtZW50Tm90aWZpY2F0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZWxlbWVudE5vdGlmaWNhdGlvbnM6IFsgJ3R5cGUnLCBFbGVtZW50Tm90aWZpY2F0aW9ucyBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/features/element-notifications/index.js\n");

/***/ }),

/***/ "./lib/features/element-support/ElementSupport.js":
/*!********************************************************!*\
  !*** ./lib/features/element-support/ElementSupport.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ElementSupport)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/dist/index.js\");\n/* harmony import */ var _util_ElementHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/ElementHelper */ \"./lib/util/ElementHelper.js\");\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../icons */ \"./lib/icons/index.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst UNSUPPORTED_ELEMENTS = [\r\n  'bpmn:ComplexGateway'\r\n];\r\n\r\nfunction isLabel(element) {\r\n  return element.labelTarget;\r\n}\r\n\r\n\r\nfunction ElementSupport(\r\n    eventBus, elementRegistry, canvas,\r\n    notifications, elementNotifications) {\r\n\r\n  this._eventBus = eventBus;\r\n  this._elementRegistry = elementRegistry;\r\n  this._elementNotifications = elementNotifications;\r\n  this._notifications = notifications;\r\n\r\n  this._canvasParent = canvas.getContainer().parentNode;\r\n\r\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.TOGGLE_MODE_EVENT, event => {\r\n\r\n    if (event.active) {\r\n      this.enable();\r\n    } else {\r\n      this.clear();\r\n    }\r\n  });\r\n}\r\n\r\nElementSupport.prototype.getUnsupportedElements = function() {\r\n  return this._unsupportedElements;\r\n};\r\n\r\nElementSupport.prototype.enable = function() {\r\n\r\n  const unsupportedElements = [];\r\n\r\n  this._elementRegistry.forEach(element => {\r\n\r\n    if (isLabel(element)) {\r\n      return;\r\n    }\r\n\r\n    if (!(0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_1__.is)(element, UNSUPPORTED_ELEMENTS)) {\r\n      return;\r\n    }\r\n\r\n    this.showWarning(element);\r\n\r\n    unsupportedElements.push(element);\r\n  });\r\n\r\n  if (unsupportedElements.length) {\r\n\r\n    this._notifications.showNotification({\r\n      text: 'Found unsupported elements',\r\n      icon: (0,_icons__WEBPACK_IMPORTED_MODULE_2__.ExclamationTriangleIcon)(),\r\n      type: 'warning',\r\n      ttl: 5000\r\n    });\r\n  }\r\n\r\n  this._unsupportedElements = unsupportedElements;\r\n};\r\n\r\nElementSupport.prototype.clear = function() {\r\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_3__.classes)(this._canvasParent).remove('warning');\r\n};\r\n\r\nElementSupport.prototype.showWarning = function(element) {\r\n  this._elementNotifications.addElementNotification(element, {\r\n    type: 'warning',\r\n    icon: (0,_icons__WEBPACK_IMPORTED_MODULE_2__.ExclamationTriangleIcon)(),\r\n    text: 'Not supported'\r\n  });\r\n};\r\n\r\nElementSupport.$inject = [\r\n  'eventBus',\r\n  'elementRegistry',\r\n  'canvas',\r\n  'notifications',\r\n  'elementNotifications'\r\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvZWxlbWVudC1zdXBwb3J0L0VsZW1lbnRTdXBwb3J0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRWlCO0FBQ2pCO0FBR2tDO0FBQ2xDO0FBR2dDO0FBQ2hDO0FBR3FCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnRUFBaUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVEQUFFO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtEQUF1QjtBQUNuQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsZ0RBQVU7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSwrREFBdUI7QUFDakM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2ZlYXR1cmVzL2VsZW1lbnQtc3VwcG9ydC9FbGVtZW50U3VwcG9ydC5qcz9hM2E4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgY2xhc3NlcyBhcyBkb21DbGFzc2VzXHJcbn0gZnJvbSAnbWluLWRvbSc7XHJcblxyXG5pbXBvcnQge1xyXG4gIGlzXHJcbn0gZnJvbSAnLi4vLi4vdXRpbC9FbGVtZW50SGVscGVyJztcclxuXHJcbmltcG9ydCB7XHJcbiAgVE9HR0xFX01PREVfRVZFTlRcclxufSBmcm9tICcuLi8uLi91dGlsL0V2ZW50SGVscGVyJztcclxuXHJcbmltcG9ydCB7XHJcbiAgRXhjbGFtYXRpb25UcmlhbmdsZUljb25cclxufSBmcm9tICcuLi8uLi9pY29ucyc7XHJcblxyXG5cclxuY29uc3QgVU5TVVBQT1JURURfRUxFTUVOVFMgPSBbXHJcbiAgJ2JwbW46Q29tcGxleEdhdGV3YXknXHJcbl07XHJcblxyXG5mdW5jdGlvbiBpc0xhYmVsKGVsZW1lbnQpIHtcclxuICByZXR1cm4gZWxlbWVudC5sYWJlbFRhcmdldDtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVsZW1lbnRTdXBwb3J0KFxyXG4gICAgZXZlbnRCdXMsIGVsZW1lbnRSZWdpc3RyeSwgY2FudmFzLFxyXG4gICAgbm90aWZpY2F0aW9ucywgZWxlbWVudE5vdGlmaWNhdGlvbnMpIHtcclxuXHJcbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcclxuICB0aGlzLl9lbGVtZW50UmVnaXN0cnkgPSBlbGVtZW50UmVnaXN0cnk7XHJcbiAgdGhpcy5fZWxlbWVudE5vdGlmaWNhdGlvbnMgPSBlbGVtZW50Tm90aWZpY2F0aW9ucztcclxuICB0aGlzLl9ub3RpZmljYXRpb25zID0gbm90aWZpY2F0aW9ucztcclxuXHJcbiAgdGhpcy5fY2FudmFzUGFyZW50ID0gY2FudmFzLmdldENvbnRhaW5lcigpLnBhcmVudE5vZGU7XHJcblxyXG4gIGV2ZW50QnVzLm9uKFRPR0dMRV9NT0RFX0VWRU5ULCBldmVudCA9PiB7XHJcblxyXG4gICAgaWYgKGV2ZW50LmFjdGl2ZSkge1xyXG4gICAgICB0aGlzLmVuYWJsZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5FbGVtZW50U3VwcG9ydC5wcm90b3R5cGUuZ2V0VW5zdXBwb3J0ZWRFbGVtZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB0aGlzLl91bnN1cHBvcnRlZEVsZW1lbnRzO1xyXG59O1xyXG5cclxuRWxlbWVudFN1cHBvcnQucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICBjb25zdCB1bnN1cHBvcnRlZEVsZW1lbnRzID0gW107XHJcblxyXG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG5cclxuICAgIGlmIChpc0xhYmVsKGVsZW1lbnQpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzKGVsZW1lbnQsIFVOU1VQUE9SVEVEX0VMRU1FTlRTKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zaG93V2FybmluZyhlbGVtZW50KTtcclxuXHJcbiAgICB1bnN1cHBvcnRlZEVsZW1lbnRzLnB1c2goZWxlbWVudCk7XHJcbiAgfSk7XHJcblxyXG4gIGlmICh1bnN1cHBvcnRlZEVsZW1lbnRzLmxlbmd0aCkge1xyXG5cclxuICAgIHRoaXMuX25vdGlmaWNhdGlvbnMuc2hvd05vdGlmaWNhdGlvbih7XHJcbiAgICAgIHRleHQ6ICdGb3VuZCB1bnN1cHBvcnRlZCBlbGVtZW50cycsXHJcbiAgICAgIGljb246IEV4Y2xhbWF0aW9uVHJpYW5nbGVJY29uKCksXHJcbiAgICAgIHR5cGU6ICd3YXJuaW5nJyxcclxuICAgICAgdHRsOiA1MDAwXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHRoaXMuX3Vuc3VwcG9ydGVkRWxlbWVudHMgPSB1bnN1cHBvcnRlZEVsZW1lbnRzO1xyXG59O1xyXG5cclxuRWxlbWVudFN1cHBvcnQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XHJcbiAgZG9tQ2xhc3Nlcyh0aGlzLl9jYW52YXNQYXJlbnQpLnJlbW92ZSgnd2FybmluZycpO1xyXG59O1xyXG5cclxuRWxlbWVudFN1cHBvcnQucHJvdG90eXBlLnNob3dXYXJuaW5nID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gIHRoaXMuX2VsZW1lbnROb3RpZmljYXRpb25zLmFkZEVsZW1lbnROb3RpZmljYXRpb24oZWxlbWVudCwge1xyXG4gICAgdHlwZTogJ3dhcm5pbmcnLFxyXG4gICAgaWNvbjogRXhjbGFtYXRpb25UcmlhbmdsZUljb24oKSxcclxuICAgIHRleHQ6ICdOb3Qgc3VwcG9ydGVkJ1xyXG4gIH0pO1xyXG59O1xyXG5cclxuRWxlbWVudFN1cHBvcnQuJGluamVjdCA9IFtcclxuICAnZXZlbnRCdXMnLFxyXG4gICdlbGVtZW50UmVnaXN0cnknLFxyXG4gICdjYW52YXMnLFxyXG4gICdub3RpZmljYXRpb25zJyxcclxuICAnZWxlbWVudE5vdGlmaWNhdGlvbnMnXHJcbl07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/element-support/ElementSupport.js\n");

/***/ }),

/***/ "./lib/features/element-support/index.js":
/*!***********************************************!*\
  !*** ./lib/features/element-support/index.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ElementSupport__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ElementSupport */ \"./lib/features/element-support/ElementSupport.js\");\n/* harmony import */ var _element_notifications__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../element-notifications */ \"./lib/features/element-notifications/index.js\");\n/* harmony import */ var _notifications__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../notifications */ \"./lib/features/notifications/index.js\");\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _element_notifications__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _notifications__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n  ],\n  __init__: [ 'elementSupport' ],\n  elementSupport: [ 'type', _ElementSupport__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ]\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvZWxlbWVudC1zdXBwb3J0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEM7QUFDb0I7QUFDZjs7QUFFbkQsaUVBQWU7QUFDZjtBQUNBLElBQUksOERBQTBCO0FBQzlCLElBQUksc0RBQW1CO0FBQ3ZCO0FBQ0E7QUFDQSw0QkFBNEIsdURBQWM7QUFDMUMsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2ZlYXR1cmVzL2VsZW1lbnQtc3VwcG9ydC9pbmRleC5qcz8wMWI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFbGVtZW50U3VwcG9ydCBmcm9tICcuL0VsZW1lbnRTdXBwb3J0JztcbmltcG9ydCBFbGVtZW50Tm90aWZpY2F0aW9uc01vZHVsZSBmcm9tICcuLi9lbGVtZW50LW5vdGlmaWNhdGlvbnMnO1xuaW1wb3J0IE5vdGlmaWNhdGlvbnNNb2R1bGUgZnJvbSAnLi4vbm90aWZpY2F0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBFbGVtZW50Tm90aWZpY2F0aW9uc01vZHVsZSxcbiAgICBOb3RpZmljYXRpb25zTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbICdlbGVtZW50U3VwcG9ydCcgXSxcbiAgZWxlbWVudFN1cHBvcnQ6IFsgJ3R5cGUnLCBFbGVtZW50U3VwcG9ydCBdXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/element-support/index.js\n");

/***/ }),

/***/ "./lib/features/exclusive-gateway-settings/ExclusiveGatewaySettings.js":
/*!*****************************************************************************!*\
  !*** ./lib/features/exclusive-gateway-settings/ExclusiveGatewaySettings.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ExclusiveGatewaySettings)\n/* harmony export */ });\n/* harmony import */ var _util_ElementHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/ElementHelper */ \"./lib/util/ElementHelper.js\");\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n\r\n\r\n\r\n\r\n\r\nconst SELECTED_COLOR = '--token-simulation-grey-darken-30';\r\nconst NOT_SELECTED_COLOR = '--token-simulation-grey-lighten-56';\r\n\r\nfunction getNext(gateway, sequenceFlow) {\r\n  var outgoing = gateway.outgoing.filter(isSequenceFlow);\r\n\r\n  var index = outgoing.indexOf(sequenceFlow || gateway.sequenceFlow);\r\n\r\n  if (outgoing[index + 1]) {\r\n    return outgoing[index + 1];\r\n  } else {\r\n    return outgoing[0];\r\n  }\r\n}\r\n\r\nfunction isSequenceFlow(connection) {\r\n  return (0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_0__.is)(connection, 'bpmn:SequenceFlow');\r\n}\r\n\r\nconst ID = 'exclusive-gateway-settings';\r\n\r\nconst HIGH_PRIORITY = 2000;\r\n\r\n\r\nfunction ExclusiveGatewaySettings(\r\n    eventBus, elementRegistry,\r\n    elementColors, simulator, simulationStyles) {\r\n\r\n  this._elementRegistry = elementRegistry;\r\n  this._elementColors = elementColors;\r\n  this._simulator = simulator;\r\n  this._simulationStyles = simulationStyles;\r\n\r\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_1__.TOGGLE_MODE_EVENT, event => {\r\n    if (event.active) {\r\n      this.setSequenceFlowsDefault();\r\n    } else {\r\n      this.resetSequenceFlows();\r\n    }\r\n  });\r\n}\r\n\r\nExclusiveGatewaySettings.prototype.setSequenceFlowsDefault = function() {\r\n  const exclusiveGateways = this._elementRegistry.filter(element => {\r\n    return (0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_0__.is)(element, 'bpmn:ExclusiveGateway');\r\n  });\r\n\r\n  for (const gateway of exclusiveGateways) {\r\n    this.setSequenceFlow(gateway);\r\n  }\r\n};\r\n\r\nExclusiveGatewaySettings.prototype.resetSequenceFlows = function() {\r\n\r\n  const exclusiveGateways = this._elementRegistry.filter(element => {\r\n    return (0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_0__.is)(element, 'bpmn:ExclusiveGateway');\r\n  });\r\n\r\n  exclusiveGateways.forEach(exclusiveGateway => {\r\n    if (exclusiveGateway.outgoing.filter(isSequenceFlow).length) {\r\n      this.resetSequenceFlow(exclusiveGateway);\r\n    }\r\n  });\r\n};\r\n\r\nExclusiveGatewaySettings.prototype.resetSequenceFlow = function(gateway) {\r\n  this._simulator.setConfig(gateway, { activeOutgoing: undefined });\r\n};\r\n\r\nExclusiveGatewaySettings.prototype.setSequenceFlow = function(gateway) {\r\n\r\n  const outgoing = gateway.outgoing.filter(isSequenceFlow);\r\n\r\n  // not forking\r\n  if (outgoing.length < 2) {\r\n    return;\r\n  }\r\n\r\n  const {\r\n    activeOutgoing\r\n  } = this._simulator.getConfig(gateway);\r\n\r\n  let newActiveOutgoing;\r\n\r\n  if (activeOutgoing) {\r\n\r\n    // set next sequence flow\r\n    newActiveOutgoing = getNext(gateway, activeOutgoing);\r\n  } else {\r\n\r\n    // set first sequence flow\r\n    newActiveOutgoing = outgoing[ 0 ];\r\n  }\r\n\r\n  this._simulator.setConfig(gateway, { activeOutgoing: newActiveOutgoing });\r\n\r\n  // set colors\r\n  gateway.outgoing.forEach(outgoing => {\r\n\r\n    const style = outgoing === newActiveOutgoing ? SELECTED_COLOR : NOT_SELECTED_COLOR;\r\n    const stroke = this._simulationStyles.get(style);\r\n\r\n    this._elementColors.add(outgoing, ID, {\r\n      stroke\r\n    }, HIGH_PRIORITY);\r\n  });\r\n};\r\n\r\nExclusiveGatewaySettings.$inject = [\r\n  'eventBus',\r\n  'elementRegistry',\r\n  'elementColors',\r\n  'simulator',\r\n  'simulationStyles'\r\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvZXhjbHVzaXZlLWdhdGV3YXktc2V0dGluZ3MvRXhjbHVzaXZlR2F0ZXdheVNldHRpbmdzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUVrQztBQUNsQztBQUdnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsdURBQUU7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0VBQWlCO0FBQy9CO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdURBQUU7QUFDYixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1REFBRTtBQUNiLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywyQkFBMkI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxtQ0FBbUM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvZmVhdHVyZXMvZXhjbHVzaXZlLWdhdGV3YXktc2V0dGluZ3MvRXhjbHVzaXZlR2F0ZXdheVNldHRpbmdzLmpzP2QzM2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBpc1xyXG59IGZyb20gJy4uLy4uL3V0aWwvRWxlbWVudEhlbHBlcic7XHJcblxyXG5pbXBvcnQge1xyXG4gIFRPR0dMRV9NT0RFX0VWRU5UXHJcbn0gZnJvbSAnLi4vLi4vdXRpbC9FdmVudEhlbHBlcic7XHJcblxyXG5cclxuY29uc3QgU0VMRUNURURfQ09MT1IgPSAnLS10b2tlbi1zaW11bGF0aW9uLWdyZXktZGFya2VuLTMwJztcclxuY29uc3QgTk9UX1NFTEVDVEVEX0NPTE9SID0gJy0tdG9rZW4tc2ltdWxhdGlvbi1ncmV5LWxpZ2h0ZW4tNTYnO1xyXG5cclxuZnVuY3Rpb24gZ2V0TmV4dChnYXRld2F5LCBzZXF1ZW5jZUZsb3cpIHtcclxuICB2YXIgb3V0Z29pbmcgPSBnYXRld2F5Lm91dGdvaW5nLmZpbHRlcihpc1NlcXVlbmNlRmxvdyk7XHJcblxyXG4gIHZhciBpbmRleCA9IG91dGdvaW5nLmluZGV4T2Yoc2VxdWVuY2VGbG93IHx8IGdhdGV3YXkuc2VxdWVuY2VGbG93KTtcclxuXHJcbiAgaWYgKG91dGdvaW5nW2luZGV4ICsgMV0pIHtcclxuICAgIHJldHVybiBvdXRnb2luZ1tpbmRleCArIDFdO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gb3V0Z29pbmdbMF07XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc1NlcXVlbmNlRmxvdyhjb25uZWN0aW9uKSB7XHJcbiAgcmV0dXJuIGlzKGNvbm5lY3Rpb24sICdicG1uOlNlcXVlbmNlRmxvdycpO1xyXG59XHJcblxyXG5jb25zdCBJRCA9ICdleGNsdXNpdmUtZ2F0ZXdheS1zZXR0aW5ncyc7XHJcblxyXG5jb25zdCBISUdIX1BSSU9SSVRZID0gMjAwMDtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFeGNsdXNpdmVHYXRld2F5U2V0dGluZ3MoXHJcbiAgICBldmVudEJ1cywgZWxlbWVudFJlZ2lzdHJ5LFxyXG4gICAgZWxlbWVudENvbG9ycywgc2ltdWxhdG9yLCBzaW11bGF0aW9uU3R5bGVzKSB7XHJcblxyXG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeSA9IGVsZW1lbnRSZWdpc3RyeTtcclxuICB0aGlzLl9lbGVtZW50Q29sb3JzID0gZWxlbWVudENvbG9ycztcclxuICB0aGlzLl9zaW11bGF0b3IgPSBzaW11bGF0b3I7XHJcbiAgdGhpcy5fc2ltdWxhdGlvblN0eWxlcyA9IHNpbXVsYXRpb25TdHlsZXM7XHJcblxyXG4gIGV2ZW50QnVzLm9uKFRPR0dMRV9NT0RFX0VWRU5ULCBldmVudCA9PiB7XHJcbiAgICBpZiAoZXZlbnQuYWN0aXZlKSB7XHJcbiAgICAgIHRoaXMuc2V0U2VxdWVuY2VGbG93c0RlZmF1bHQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucmVzZXRTZXF1ZW5jZUZsb3dzKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbkV4Y2x1c2l2ZUdhdGV3YXlTZXR0aW5ncy5wcm90b3R5cGUuc2V0U2VxdWVuY2VGbG93c0RlZmF1bHQgPSBmdW5jdGlvbigpIHtcclxuICBjb25zdCBleGNsdXNpdmVHYXRld2F5cyA9IHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5maWx0ZXIoZWxlbWVudCA9PiB7XHJcbiAgICByZXR1cm4gaXMoZWxlbWVudCwgJ2JwbW46RXhjbHVzaXZlR2F0ZXdheScpO1xyXG4gIH0pO1xyXG5cclxuICBmb3IgKGNvbnN0IGdhdGV3YXkgb2YgZXhjbHVzaXZlR2F0ZXdheXMpIHtcclxuICAgIHRoaXMuc2V0U2VxdWVuY2VGbG93KGdhdGV3YXkpO1xyXG4gIH1cclxufTtcclxuXHJcbkV4Y2x1c2l2ZUdhdGV3YXlTZXR0aW5ncy5wcm90b3R5cGUucmVzZXRTZXF1ZW5jZUZsb3dzID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gIGNvbnN0IGV4Y2x1c2l2ZUdhdGV3YXlzID0gdGhpcy5fZWxlbWVudFJlZ2lzdHJ5LmZpbHRlcihlbGVtZW50ID0+IHtcclxuICAgIHJldHVybiBpcyhlbGVtZW50LCAnYnBtbjpFeGNsdXNpdmVHYXRld2F5Jyk7XHJcbiAgfSk7XHJcblxyXG4gIGV4Y2x1c2l2ZUdhdGV3YXlzLmZvckVhY2goZXhjbHVzaXZlR2F0ZXdheSA9PiB7XHJcbiAgICBpZiAoZXhjbHVzaXZlR2F0ZXdheS5vdXRnb2luZy5maWx0ZXIoaXNTZXF1ZW5jZUZsb3cpLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLnJlc2V0U2VxdWVuY2VGbG93KGV4Y2x1c2l2ZUdhdGV3YXkpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxuRXhjbHVzaXZlR2F0ZXdheVNldHRpbmdzLnByb3RvdHlwZS5yZXNldFNlcXVlbmNlRmxvdyA9IGZ1bmN0aW9uKGdhdGV3YXkpIHtcclxuICB0aGlzLl9zaW11bGF0b3Iuc2V0Q29uZmlnKGdhdGV3YXksIHsgYWN0aXZlT3V0Z29pbmc6IHVuZGVmaW5lZCB9KTtcclxufTtcclxuXHJcbkV4Y2x1c2l2ZUdhdGV3YXlTZXR0aW5ncy5wcm90b3R5cGUuc2V0U2VxdWVuY2VGbG93ID0gZnVuY3Rpb24oZ2F0ZXdheSkge1xyXG5cclxuICBjb25zdCBvdXRnb2luZyA9IGdhdGV3YXkub3V0Z29pbmcuZmlsdGVyKGlzU2VxdWVuY2VGbG93KTtcclxuXHJcbiAgLy8gbm90IGZvcmtpbmdcclxuICBpZiAob3V0Z29pbmcubGVuZ3RoIDwgMikge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qge1xyXG4gICAgYWN0aXZlT3V0Z29pbmdcclxuICB9ID0gdGhpcy5fc2ltdWxhdG9yLmdldENvbmZpZyhnYXRld2F5KTtcclxuXHJcbiAgbGV0IG5ld0FjdGl2ZU91dGdvaW5nO1xyXG5cclxuICBpZiAoYWN0aXZlT3V0Z29pbmcpIHtcclxuXHJcbiAgICAvLyBzZXQgbmV4dCBzZXF1ZW5jZSBmbG93XHJcbiAgICBuZXdBY3RpdmVPdXRnb2luZyA9IGdldE5leHQoZ2F0ZXdheSwgYWN0aXZlT3V0Z29pbmcpO1xyXG4gIH0gZWxzZSB7XHJcblxyXG4gICAgLy8gc2V0IGZpcnN0IHNlcXVlbmNlIGZsb3dcclxuICAgIG5ld0FjdGl2ZU91dGdvaW5nID0gb3V0Z29pbmdbIDAgXTtcclxuICB9XHJcblxyXG4gIHRoaXMuX3NpbXVsYXRvci5zZXRDb25maWcoZ2F0ZXdheSwgeyBhY3RpdmVPdXRnb2luZzogbmV3QWN0aXZlT3V0Z29pbmcgfSk7XHJcblxyXG4gIC8vIHNldCBjb2xvcnNcclxuICBnYXRld2F5Lm91dGdvaW5nLmZvckVhY2gob3V0Z29pbmcgPT4ge1xyXG5cclxuICAgIGNvbnN0IHN0eWxlID0gb3V0Z29pbmcgPT09IG5ld0FjdGl2ZU91dGdvaW5nID8gU0VMRUNURURfQ09MT1IgOiBOT1RfU0VMRUNURURfQ09MT1I7XHJcbiAgICBjb25zdCBzdHJva2UgPSB0aGlzLl9zaW11bGF0aW9uU3R5bGVzLmdldChzdHlsZSk7XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudENvbG9ycy5hZGQob3V0Z29pbmcsIElELCB7XHJcbiAgICAgIHN0cm9rZVxyXG4gICAgfSwgSElHSF9QUklPUklUWSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5FeGNsdXNpdmVHYXRld2F5U2V0dGluZ3MuJGluamVjdCA9IFtcclxuICAnZXZlbnRCdXMnLFxyXG4gICdlbGVtZW50UmVnaXN0cnknLFxyXG4gICdlbGVtZW50Q29sb3JzJyxcclxuICAnc2ltdWxhdG9yJyxcclxuICAnc2ltdWxhdGlvblN0eWxlcydcclxuXTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/features/exclusive-gateway-settings/ExclusiveGatewaySettings.js\n");

/***/ }),

/***/ "./lib/features/exclusive-gateway-settings/index.js":
/*!**********************************************************!*\
  !*** ./lib/features/exclusive-gateway-settings/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ExclusiveGatewaySettings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ExclusiveGatewaySettings */ \"./lib/features/exclusive-gateway-settings/ExclusiveGatewaySettings.js\");\n/* harmony import */ var _element_colors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../element-colors */ \"./lib/features/element-colors/index.js\");\n/* harmony import */ var _simulation_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../simulation-styles */ \"./lib/features/simulation-styles/index.js\");\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _element_colors__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _simulation_styles__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n  ],\n  exclusiveGatewaySettings: [ 'type', _ExclusiveGatewaySettings__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvZXhjbHVzaXZlLWdhdGV3YXktc2V0dGluZ3MvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrRTtBQUNkO0FBQ007O0FBRTFELGlFQUFlO0FBQ2Y7QUFDQSxJQUFJLHVEQUFtQjtBQUN2QixJQUFJLDBEQUFzQjtBQUMxQjtBQUNBLHNDQUFzQyxpRUFBd0I7QUFDOUQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9mZWF0dXJlcy9leGNsdXNpdmUtZ2F0ZXdheS1zZXR0aW5ncy9pbmRleC5qcz9iNWE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFeGNsdXNpdmVHYXRld2F5U2V0dGluZ3MgZnJvbSAnLi9FeGNsdXNpdmVHYXRld2F5U2V0dGluZ3MnO1xuaW1wb3J0IEVsZW1lbnRDb2xvcnNNb2R1bGUgZnJvbSAnLi4vZWxlbWVudC1jb2xvcnMnO1xuaW1wb3J0IFNpbXVsYXRpb25TdHlsZXNNb2R1bGUgZnJvbSAnLi4vc2ltdWxhdGlvbi1zdHlsZXMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgRWxlbWVudENvbG9yc01vZHVsZSxcbiAgICBTaW11bGF0aW9uU3R5bGVzTW9kdWxlXG4gIF0sXG4gIGV4Y2x1c2l2ZUdhdGV3YXlTZXR0aW5nczogWyAndHlwZScsIEV4Y2x1c2l2ZUdhdGV3YXlTZXR0aW5ncyBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/features/exclusive-gateway-settings/index.js\n");

/***/ }),

/***/ "./lib/features/inclusive-gateway-settings/InclusiveGatewaySettings.js":
/*!*****************************************************************************!*\
  !*** ./lib/features/inclusive-gateway-settings/InclusiveGatewaySettings.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ InclusiveGatewaySettings)\n/* harmony export */ });\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n/* harmony import */ var _simulator_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../simulator/util/ModelUtil */ \"./node_modules/bpmn-js/lib/util/ModelUtil.js\");\n/* harmony import */ var _simulator_util_ModelUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../simulator/util/ModelUtil */ \"./lib/simulator/util/ModelUtil.js\");\n\n\n\nconst SELECTED_COLOR = '--token-simulation-grey-darken-30';\nconst NOT_SELECTED_COLOR = '--token-simulation-grey-lighten-56';\n\n\n\nconst COLOR_ID = 'inclusive-gateway-settings';\n\n\nfunction InclusiveGatewaySettings(\n    eventBus, elementRegistry,\n    elementColors, simulator, simulationStyles) {\n\n  this._elementRegistry = elementRegistry;\n  this._elementColors = elementColors;\n  this._simulator = simulator;\n  this._simulationStyles = simulationStyles;\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.TOGGLE_MODE_EVENT, event => {\n    if (event.active) {\n      this.setDefaults();\n    } else {\n      this.reset();\n    }\n  });\n}\n\nInclusiveGatewaySettings.prototype.setDefaults = function() {\n  const inclusiveGateways = this._elementRegistry.filter(element => {\n    return (0,_simulator_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.is)(element, 'bpmn:InclusiveGateway');\n  });\n\n  inclusiveGateways.forEach(inclusiveGateway => {\n    if (inclusiveGateway.outgoing.filter(_simulator_util_ModelUtil__WEBPACK_IMPORTED_MODULE_2__.isSequenceFlow).length > 1) {\n      this._setGatewayDefaults(inclusiveGateway);\n    }\n  });\n};\n\nInclusiveGatewaySettings.prototype.reset = function() {\n  const inclusiveGateways = this._elementRegistry.filter(element => {\n    return (0,_simulator_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.is)(element, 'bpmn:InclusiveGateway');\n  });\n\n  inclusiveGateways.forEach(inclusiveGateway => {\n    if (inclusiveGateway.outgoing.filter(_simulator_util_ModelUtil__WEBPACK_IMPORTED_MODULE_2__.isSequenceFlow).length > 1) {\n      this._resetGateway(inclusiveGateway);\n    }\n  });\n};\n\nInclusiveGatewaySettings.prototype.toggleSequenceFlow = function(gateway, sequenceFlow) {\n  const activeOutgoing = this._getActiveOutgoing(gateway),\n        defaultFlow = getDefaultFlow(gateway),\n        nonDefaultFlows = getNonDefaultFlows(gateway);\n\n  let newActiveOutgoing;\n  if (activeOutgoing.includes(sequenceFlow)) {\n    newActiveOutgoing = without(activeOutgoing, sequenceFlow);\n  } else {\n    newActiveOutgoing = without(activeOutgoing, defaultFlow).concat(sequenceFlow);\n  }\n\n  // make sure at least one flow is active\n  if (!newActiveOutgoing.length) {\n\n    // default flow if available\n    if (defaultFlow) {\n      newActiveOutgoing = [ defaultFlow ];\n    } else {\n\n      // or another flow which is not the one toggled\n      newActiveOutgoing = [ nonDefaultFlows.find(flow => flow !== sequenceFlow) ];\n    }\n  }\n\n  this._setActiveOutgoing(gateway, newActiveOutgoing);\n};\n\nInclusiveGatewaySettings.prototype._getActiveOutgoing = function(gateway) {\n  const {\n    activeOutgoing\n  } = this._simulator.getConfig(gateway);\n\n  return activeOutgoing;\n};\n\nInclusiveGatewaySettings.prototype._setActiveOutgoing = function(gateway, activeOutgoing) {\n  this._simulator.setConfig(gateway, { activeOutgoing });\n\n  const sequenceFlows = gateway.outgoing.filter(_simulator_util_ModelUtil__WEBPACK_IMPORTED_MODULE_2__.isSequenceFlow);\n\n  // set colors\n  sequenceFlows.forEach(outgoing => {\n\n    const style = (!activeOutgoing || activeOutgoing.includes(outgoing)) ?\n      SELECTED_COLOR : NOT_SELECTED_COLOR;\n    const stroke = this._simulationStyles.get(style);\n\n    this._elementColors.add(outgoing, COLOR_ID, {\n      stroke\n    });\n  });\n};\n\nInclusiveGatewaySettings.prototype._setGatewayDefaults = function(gateway) {\n  const sequenceFlows = gateway.outgoing.filter(_simulator_util_ModelUtil__WEBPACK_IMPORTED_MODULE_2__.isSequenceFlow);\n\n  const defaultFlow = getDefaultFlow(gateway);\n  const nonDefaultFlows = without(sequenceFlows, defaultFlow);\n\n  this._setActiveOutgoing(gateway, nonDefaultFlows);\n};\n\nInclusiveGatewaySettings.prototype._resetGateway = function(gateway) {\n  this._setActiveOutgoing(gateway, undefined);\n};\n\nInclusiveGatewaySettings.$inject = [\n  'eventBus',\n  'elementRegistry',\n  'elementColors',\n  'simulator',\n  'simulationStyles'\n];\n\nfunction getDefaultFlow(gateway) {\n  const defaultFlow = (0,_simulator_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.getBusinessObject)(gateway).default;\n\n  if (!defaultFlow) {\n    return;\n  }\n\n  return gateway.outgoing.find(flow => {\n    const flowBo = (0,_simulator_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.getBusinessObject)(flow);\n\n    return flowBo === defaultFlow;\n  });\n}\n\nfunction getNonDefaultFlows(gateway) {\n  const defaultFlow = getDefaultFlow(gateway);\n\n  return gateway.outgoing.filter(flow => {\n    const flowBo = (0,_simulator_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.getBusinessObject)(flow);\n\n    return flowBo !== defaultFlow;\n  });\n}\n\nfunction without(array, element) {\n  return array.filter(arrayElement => arrayElement !== element);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvaW5jbHVzaXZlLWdhdGV3YXktc2V0dGluZ3MvSW5jbHVzaXZlR2F0ZXdheVNldHRpbmdzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFZ0M7OztBQUdoQztBQUNBOztBQU13Qzs7QUFFeEM7OztBQUdlO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLGdFQUFpQjtBQUMvQjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLFdBQVcsNkRBQUU7QUFDYixHQUFHOztBQUVIO0FBQ0EseUNBQXlDLHFFQUFjO0FBQ3ZEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLFdBQVcsNkRBQUU7QUFDYixHQUFHOztBQUVIO0FBQ0EseUNBQXlDLHFFQUFjO0FBQ3ZEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBOztBQUVBO0FBQ0EsdUNBQXVDLGdCQUFnQjs7QUFFdkQsZ0RBQWdELHFFQUFjOztBQUU5RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBLGdEQUFnRCxxRUFBYzs7QUFFOUQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQiw0RUFBaUI7O0FBRXZDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQiw0RUFBaUI7O0FBRXBDO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsNEVBQWlCOztBQUVwQztBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvZmVhdHVyZXMvaW5jbHVzaXZlLWdhdGV3YXktc2V0dGluZ3MvSW5jbHVzaXZlR2F0ZXdheVNldHRpbmdzLmpzP2IzMGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgVE9HR0xFX01PREVfRVZFTlRcbn0gZnJvbSAnLi4vLi4vdXRpbC9FdmVudEhlbHBlcic7XG5cblxuY29uc3QgU0VMRUNURURfQ09MT1IgPSAnLS10b2tlbi1zaW11bGF0aW9uLWdyZXktZGFya2VuLTMwJztcbmNvbnN0IE5PVF9TRUxFQ1RFRF9DT0xPUiA9ICctLXRva2VuLXNpbXVsYXRpb24tZ3JleS1saWdodGVuLTU2JztcblxuaW1wb3J0IHtcbiAgZ2V0QnVzaW5lc3NPYmplY3QsXG4gIGlzLFxuICBpc1NlcXVlbmNlRmxvd1xufSBmcm9tICcuLi8uLi9zaW11bGF0b3IvdXRpbC9Nb2RlbFV0aWwnO1xuXG5jb25zdCBDT0xPUl9JRCA9ICdpbmNsdXNpdmUtZ2F0ZXdheS1zZXR0aW5ncyc7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSW5jbHVzaXZlR2F0ZXdheVNldHRpbmdzKFxuICAgIGV2ZW50QnVzLCBlbGVtZW50UmVnaXN0cnksXG4gICAgZWxlbWVudENvbG9ycywgc2ltdWxhdG9yLCBzaW11bGF0aW9uU3R5bGVzKSB7XG5cbiAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5ID0gZWxlbWVudFJlZ2lzdHJ5O1xuICB0aGlzLl9lbGVtZW50Q29sb3JzID0gZWxlbWVudENvbG9ycztcbiAgdGhpcy5fc2ltdWxhdG9yID0gc2ltdWxhdG9yO1xuICB0aGlzLl9zaW11bGF0aW9uU3R5bGVzID0gc2ltdWxhdGlvblN0eWxlcztcblxuICBldmVudEJ1cy5vbihUT0dHTEVfTU9ERV9FVkVOVCwgZXZlbnQgPT4ge1xuICAgIGlmIChldmVudC5hY3RpdmUpIHtcbiAgICAgIHRoaXMuc2V0RGVmYXVsdHMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cbiAgfSk7XG59XG5cbkluY2x1c2l2ZUdhdGV3YXlTZXR0aW5ncy5wcm90b3R5cGUuc2V0RGVmYXVsdHMgPSBmdW5jdGlvbigpIHtcbiAgY29uc3QgaW5jbHVzaXZlR2F0ZXdheXMgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZmlsdGVyKGVsZW1lbnQgPT4ge1xuICAgIHJldHVybiBpcyhlbGVtZW50LCAnYnBtbjpJbmNsdXNpdmVHYXRld2F5Jyk7XG4gIH0pO1xuXG4gIGluY2x1c2l2ZUdhdGV3YXlzLmZvckVhY2goaW5jbHVzaXZlR2F0ZXdheSA9PiB7XG4gICAgaWYgKGluY2x1c2l2ZUdhdGV3YXkub3V0Z29pbmcuZmlsdGVyKGlzU2VxdWVuY2VGbG93KS5sZW5ndGggPiAxKSB7XG4gICAgICB0aGlzLl9zZXRHYXRld2F5RGVmYXVsdHMoaW5jbHVzaXZlR2F0ZXdheSk7XG4gICAgfVxuICB9KTtcbn07XG5cbkluY2x1c2l2ZUdhdGV3YXlTZXR0aW5ncy5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgY29uc3QgaW5jbHVzaXZlR2F0ZXdheXMgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZmlsdGVyKGVsZW1lbnQgPT4ge1xuICAgIHJldHVybiBpcyhlbGVtZW50LCAnYnBtbjpJbmNsdXNpdmVHYXRld2F5Jyk7XG4gIH0pO1xuXG4gIGluY2x1c2l2ZUdhdGV3YXlzLmZvckVhY2goaW5jbHVzaXZlR2F0ZXdheSA9PiB7XG4gICAgaWYgKGluY2x1c2l2ZUdhdGV3YXkub3V0Z29pbmcuZmlsdGVyKGlzU2VxdWVuY2VGbG93KS5sZW5ndGggPiAxKSB7XG4gICAgICB0aGlzLl9yZXNldEdhdGV3YXkoaW5jbHVzaXZlR2F0ZXdheSk7XG4gICAgfVxuICB9KTtcbn07XG5cbkluY2x1c2l2ZUdhdGV3YXlTZXR0aW5ncy5wcm90b3R5cGUudG9nZ2xlU2VxdWVuY2VGbG93ID0gZnVuY3Rpb24oZ2F0ZXdheSwgc2VxdWVuY2VGbG93KSB7XG4gIGNvbnN0IGFjdGl2ZU91dGdvaW5nID0gdGhpcy5fZ2V0QWN0aXZlT3V0Z29pbmcoZ2F0ZXdheSksXG4gICAgICAgIGRlZmF1bHRGbG93ID0gZ2V0RGVmYXVsdEZsb3coZ2F0ZXdheSksXG4gICAgICAgIG5vbkRlZmF1bHRGbG93cyA9IGdldE5vbkRlZmF1bHRGbG93cyhnYXRld2F5KTtcblxuICBsZXQgbmV3QWN0aXZlT3V0Z29pbmc7XG4gIGlmIChhY3RpdmVPdXRnb2luZy5pbmNsdWRlcyhzZXF1ZW5jZUZsb3cpKSB7XG4gICAgbmV3QWN0aXZlT3V0Z29pbmcgPSB3aXRob3V0KGFjdGl2ZU91dGdvaW5nLCBzZXF1ZW5jZUZsb3cpO1xuICB9IGVsc2Uge1xuICAgIG5ld0FjdGl2ZU91dGdvaW5nID0gd2l0aG91dChhY3RpdmVPdXRnb2luZywgZGVmYXVsdEZsb3cpLmNvbmNhdChzZXF1ZW5jZUZsb3cpO1xuICB9XG5cbiAgLy8gbWFrZSBzdXJlIGF0IGxlYXN0IG9uZSBmbG93IGlzIGFjdGl2ZVxuICBpZiAoIW5ld0FjdGl2ZU91dGdvaW5nLmxlbmd0aCkge1xuXG4gICAgLy8gZGVmYXVsdCBmbG93IGlmIGF2YWlsYWJsZVxuICAgIGlmIChkZWZhdWx0Rmxvdykge1xuICAgICAgbmV3QWN0aXZlT3V0Z29pbmcgPSBbIGRlZmF1bHRGbG93IF07XG4gICAgfSBlbHNlIHtcblxuICAgICAgLy8gb3IgYW5vdGhlciBmbG93IHdoaWNoIGlzIG5vdCB0aGUgb25lIHRvZ2dsZWRcbiAgICAgIG5ld0FjdGl2ZU91dGdvaW5nID0gWyBub25EZWZhdWx0Rmxvd3MuZmluZChmbG93ID0+IGZsb3cgIT09IHNlcXVlbmNlRmxvdykgXTtcbiAgICB9XG4gIH1cblxuICB0aGlzLl9zZXRBY3RpdmVPdXRnb2luZyhnYXRld2F5LCBuZXdBY3RpdmVPdXRnb2luZyk7XG59O1xuXG5JbmNsdXNpdmVHYXRld2F5U2V0dGluZ3MucHJvdG90eXBlLl9nZXRBY3RpdmVPdXRnb2luZyA9IGZ1bmN0aW9uKGdhdGV3YXkpIHtcbiAgY29uc3Qge1xuICAgIGFjdGl2ZU91dGdvaW5nXG4gIH0gPSB0aGlzLl9zaW11bGF0b3IuZ2V0Q29uZmlnKGdhdGV3YXkpO1xuXG4gIHJldHVybiBhY3RpdmVPdXRnb2luZztcbn07XG5cbkluY2x1c2l2ZUdhdGV3YXlTZXR0aW5ncy5wcm90b3R5cGUuX3NldEFjdGl2ZU91dGdvaW5nID0gZnVuY3Rpb24oZ2F0ZXdheSwgYWN0aXZlT3V0Z29pbmcpIHtcbiAgdGhpcy5fc2ltdWxhdG9yLnNldENvbmZpZyhnYXRld2F5LCB7IGFjdGl2ZU91dGdvaW5nIH0pO1xuXG4gIGNvbnN0IHNlcXVlbmNlRmxvd3MgPSBnYXRld2F5Lm91dGdvaW5nLmZpbHRlcihpc1NlcXVlbmNlRmxvdyk7XG5cbiAgLy8gc2V0IGNvbG9yc1xuICBzZXF1ZW5jZUZsb3dzLmZvckVhY2gob3V0Z29pbmcgPT4ge1xuXG4gICAgY29uc3Qgc3R5bGUgPSAoIWFjdGl2ZU91dGdvaW5nIHx8IGFjdGl2ZU91dGdvaW5nLmluY2x1ZGVzKG91dGdvaW5nKSkgP1xuICAgICAgU0VMRUNURURfQ09MT1IgOiBOT1RfU0VMRUNURURfQ09MT1I7XG4gICAgY29uc3Qgc3Ryb2tlID0gdGhpcy5fc2ltdWxhdGlvblN0eWxlcy5nZXQoc3R5bGUpO1xuXG4gICAgdGhpcy5fZWxlbWVudENvbG9ycy5hZGQob3V0Z29pbmcsIENPTE9SX0lELCB7XG4gICAgICBzdHJva2VcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5JbmNsdXNpdmVHYXRld2F5U2V0dGluZ3MucHJvdG90eXBlLl9zZXRHYXRld2F5RGVmYXVsdHMgPSBmdW5jdGlvbihnYXRld2F5KSB7XG4gIGNvbnN0IHNlcXVlbmNlRmxvd3MgPSBnYXRld2F5Lm91dGdvaW5nLmZpbHRlcihpc1NlcXVlbmNlRmxvdyk7XG5cbiAgY29uc3QgZGVmYXVsdEZsb3cgPSBnZXREZWZhdWx0RmxvdyhnYXRld2F5KTtcbiAgY29uc3Qgbm9uRGVmYXVsdEZsb3dzID0gd2l0aG91dChzZXF1ZW5jZUZsb3dzLCBkZWZhdWx0Rmxvdyk7XG5cbiAgdGhpcy5fc2V0QWN0aXZlT3V0Z29pbmcoZ2F0ZXdheSwgbm9uRGVmYXVsdEZsb3dzKTtcbn07XG5cbkluY2x1c2l2ZUdhdGV3YXlTZXR0aW5ncy5wcm90b3R5cGUuX3Jlc2V0R2F0ZXdheSA9IGZ1bmN0aW9uKGdhdGV3YXkpIHtcbiAgdGhpcy5fc2V0QWN0aXZlT3V0Z29pbmcoZ2F0ZXdheSwgdW5kZWZpbmVkKTtcbn07XG5cbkluY2x1c2l2ZUdhdGV3YXlTZXR0aW5ncy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnZWxlbWVudFJlZ2lzdHJ5JyxcbiAgJ2VsZW1lbnRDb2xvcnMnLFxuICAnc2ltdWxhdG9yJyxcbiAgJ3NpbXVsYXRpb25TdHlsZXMnXG5dO1xuXG5mdW5jdGlvbiBnZXREZWZhdWx0RmxvdyhnYXRld2F5KSB7XG4gIGNvbnN0IGRlZmF1bHRGbG93ID0gZ2V0QnVzaW5lc3NPYmplY3QoZ2F0ZXdheSkuZGVmYXVsdDtcblxuICBpZiAoIWRlZmF1bHRGbG93KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmV0dXJuIGdhdGV3YXkub3V0Z29pbmcuZmluZChmbG93ID0+IHtcbiAgICBjb25zdCBmbG93Qm8gPSBnZXRCdXNpbmVzc09iamVjdChmbG93KTtcblxuICAgIHJldHVybiBmbG93Qm8gPT09IGRlZmF1bHRGbG93O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9uRGVmYXVsdEZsb3dzKGdhdGV3YXkpIHtcbiAgY29uc3QgZGVmYXVsdEZsb3cgPSBnZXREZWZhdWx0RmxvdyhnYXRld2F5KTtcblxuICByZXR1cm4gZ2F0ZXdheS5vdXRnb2luZy5maWx0ZXIoZmxvdyA9PiB7XG4gICAgY29uc3QgZmxvd0JvID0gZ2V0QnVzaW5lc3NPYmplY3QoZmxvdyk7XG5cbiAgICByZXR1cm4gZmxvd0JvICE9PSBkZWZhdWx0RmxvdztcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHdpdGhvdXQoYXJyYXksIGVsZW1lbnQpIHtcbiAgcmV0dXJuIGFycmF5LmZpbHRlcihhcnJheUVsZW1lbnQgPT4gYXJyYXlFbGVtZW50ICE9PSBlbGVtZW50KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/features/inclusive-gateway-settings/InclusiveGatewaySettings.js\n");

/***/ }),

/***/ "./lib/features/inclusive-gateway-settings/index.js":
/*!**********************************************************!*\
  !*** ./lib/features/inclusive-gateway-settings/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _InclusiveGatewaySettings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./InclusiveGatewaySettings */ \"./lib/features/inclusive-gateway-settings/InclusiveGatewaySettings.js\");\n/* harmony import */ var _element_colors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../element-colors */ \"./lib/features/element-colors/index.js\");\n/* harmony import */ var _simulation_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../simulation-styles */ \"./lib/features/simulation-styles/index.js\");\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _element_colors__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _simulation_styles__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n  ],\n  inclusiveGatewaySettings: [ 'type', _InclusiveGatewaySettings__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvaW5jbHVzaXZlLWdhdGV3YXktc2V0dGluZ3MvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrRTtBQUNkO0FBQ007O0FBRTFELGlFQUFlO0FBQ2Y7QUFDQSxJQUFJLHVEQUFtQjtBQUN2QixJQUFJLDBEQUFzQjtBQUMxQjtBQUNBLHNDQUFzQyxpRUFBd0I7QUFDOUQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9mZWF0dXJlcy9pbmNsdXNpdmUtZ2F0ZXdheS1zZXR0aW5ncy9pbmRleC5qcz82MDljIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJbmNsdXNpdmVHYXRld2F5U2V0dGluZ3MgZnJvbSAnLi9JbmNsdXNpdmVHYXRld2F5U2V0dGluZ3MnO1xuaW1wb3J0IEVsZW1lbnRDb2xvcnNNb2R1bGUgZnJvbSAnLi4vZWxlbWVudC1jb2xvcnMnO1xuaW1wb3J0IFNpbXVsYXRpb25TdHlsZXNNb2R1bGUgZnJvbSAnLi4vc2ltdWxhdGlvbi1zdHlsZXMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgRWxlbWVudENvbG9yc01vZHVsZSxcbiAgICBTaW11bGF0aW9uU3R5bGVzTW9kdWxlXG4gIF0sXG4gIGluY2x1c2l2ZUdhdGV3YXlTZXR0aW5nczogWyAndHlwZScsIEluY2x1c2l2ZUdhdGV3YXlTZXR0aW5ncyBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/features/inclusive-gateway-settings/index.js\n");

/***/ }),

/***/ "./lib/features/log/Log.js":
/*!*********************************!*\
  !*** ./lib/features/log/Log.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Log)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/dist/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/node_modules/domify/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(min_dom__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _util_ElementHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/ElementHelper */ \"./node_modules/bpmn-js/lib/util/ModelUtil.js\");\n/* harmony import */ var _util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/ElementHelper */ \"./lib/util/ElementHelper.js\");\n/* harmony import */ var diagram_js_lib_util_EscapeUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! diagram-js/lib/util/EscapeUtil */ \"./node_modules/diagram-js/lib/util/EscapeUtil.js\");\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../icons */ \"./lib/icons/index.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst ICON_INFO = (0,_icons__WEBPACK_IMPORTED_MODULE_0__.InfoIcon)();\r\n\r\nfunction getElementName(element) {\r\n  const name = element && element.businessObject.name;\r\n\r\n  return name && (0,diagram_js_lib_util_EscapeUtil__WEBPACK_IMPORTED_MODULE_1__.escapeHTML)(name);\r\n}\r\n\r\nfunction getIconForIntermediateEvent(element, throwOrCatch) {\r\n  const eventTypeString = getEventTypeString(element);\r\n  if (eventTypeString === 'none') {\r\n    return 'bpmn-icon-intermediate-event-none';\r\n  }\r\n  return `bpmn-icon-intermediate-event-${throwOrCatch}-${eventTypeString}`;\r\n}\r\n\r\nfunction getEventTypeString(element) {\r\n  const bo = (0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_2__.getBusinessObject)(element);\r\n  if (bo.get('eventDefinitions').length === 0) {\r\n    return 'none';\r\n  }\r\n  const eventDefinition = bo.eventDefinitions[0];\r\n\r\n  if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:MessageEventDefinition')) {\r\n    return 'message';\r\n  }\r\n  if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:TimerEventDefinition')) {\r\n    return 'timer';\r\n  }\r\n  if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:SignalEventDefinition')) {\r\n    return 'signal';\r\n  }\r\n  if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:ErrorEventDefinition')) {\r\n    return 'error';\r\n  }\r\n  if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:EscalationEventDefinition')) {\r\n    return 'escalation';\r\n  }\r\n  if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:CompensateEventDefinition')) {\r\n    return 'compensation';\r\n  }\r\n  if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:ConditionalEventDefinition')) {\r\n    return 'condition';\r\n  }\r\n  if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:LinkEventDefinition')) {\r\n    return 'link';\r\n  }\r\n  if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:CancelEventDefinition')) {\r\n    return 'cancel';\r\n  }\r\n  if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:TerminateEventDefinition')) {\r\n    return 'terminate';\r\n  }\r\n  return 'none';\r\n}\r\n\r\n\r\nfunction Log(\r\n    eventBus, notifications,\r\n    tokenSimulationPalette, canvas,\r\n    scopeFilter, simulator) {\r\n\r\n  this._notifications = notifications;\r\n  this._tokenSimulationPalette = tokenSimulationPalette;\r\n  this._canvas = canvas;\r\n  this._scopeFilter = scopeFilter;\r\n\r\n  this._init();\r\n\r\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_4__.SCOPE_FILTER_CHANGED_EVENT, event => {\r\n    const allElements = (0,min_dom__WEBPACK_IMPORTED_MODULE_5__.queryAll)('.bts-entry[data-scope-id]', this._container);\r\n\r\n    for (const element of allElements) {\r\n      const scopeId = element.dataset.scopeId;\r\n\r\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_5__.classes)(element).toggle('inactive', !this._scopeFilter.isShown(scopeId));\r\n    }\r\n  });\r\n\r\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_4__.SCOPE_DESTROYED_EVENT, event => {\r\n    const {\r\n      scope\r\n    } = event;\r\n\r\n    const {\r\n      element: scopeElement\r\n    } = scope;\r\n\r\n    const completed = scope.completed;\r\n\r\n    const processScopes = [\r\n      'bpmn:Process',\r\n      'bpmn:Participant',\r\n      'bpmn:SubProcess'\r\n    ];\r\n\r\n    if (!processScopes.includes(scopeElement.type)) {\r\n      return;\r\n    }\r\n\r\n    const isSubProcess = (0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(scopeElement, 'bpmn:SubProcess');\r\n\r\n    const text = `${\r\n      isSubProcess ? (getElementName(scopeElement) || 'SubProcess') : 'Process'\r\n    } ${\r\n      completed ? 'finished' : 'canceled'\r\n    }`;\r\n\r\n    this.log({\r\n      text,\r\n      icon: completed ? (0,_icons__WEBPACK_IMPORTED_MODULE_0__.CheckCircleIcon)() : (0,_icons__WEBPACK_IMPORTED_MODULE_0__.TimesCircleIcon)(),\r\n      scope\r\n    });\r\n  });\r\n\r\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_4__.SCOPE_CREATE_EVENT, event => {\r\n    const {\r\n      scope\r\n    } = event;\r\n\r\n    const {\r\n      element: scopeElement\r\n    } = scope;\r\n\r\n    const processScopes = [\r\n      'bpmn:Process',\r\n      'bpmn:Participant',\r\n      'bpmn:SubProcess'\r\n    ];\r\n\r\n    if (!processScopes.includes(scopeElement.type)) {\r\n      return;\r\n    }\r\n\r\n    const isSubProcess = (0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(scopeElement, 'bpmn:SubProcess');\r\n\r\n    const text = `${\r\n      isSubProcess ? (getElementName(scopeElement) || 'SubProcess') : 'Process'\r\n    } started`;\r\n\r\n    this.log({\r\n      text,\r\n      icon: (0,_icons__WEBPACK_IMPORTED_MODULE_0__.CheckCircleIcon)(),\r\n      scope\r\n    });\r\n  });\r\n\r\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_4__.TRACE_EVENT, event => {\r\n\r\n    const {\r\n      action,\r\n      scope: elementScope,\r\n      element\r\n    } = event;\r\n\r\n    if (action !== 'exit') {\r\n      return;\r\n    }\r\n\r\n    const scope = elementScope.parent;\r\n\r\n    const elementName = getElementName(element);\r\n\r\n    // log tasks ////////////\r\n\r\n    if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:ServiceTask')) {\r\n      return this.log({\r\n        text: elementName || 'Service Task',\r\n        icon: 'bpmn-icon-service',\r\n        scope\r\n      });\r\n    }\r\n\r\n    if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:UserTask')) {\r\n      return this.log({\r\n        text: elementName || 'User Task',\r\n        icon: 'bpmn-icon-user',\r\n        scope\r\n      });\r\n    }\r\n\r\n    if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:CallActivity')) {\r\n      return this.log({\r\n        text: elementName || 'Call Activity',\r\n        icon: 'bpmn-icon-call-activity',\r\n        scope\r\n      });\r\n    }\r\n\r\n    if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:ScriptTask')) {\r\n      return this.log({\r\n        text: elementName || 'Script Task',\r\n        icon: 'bpmn-icon-script',\r\n        scope\r\n      });\r\n    }\r\n\r\n    if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:BusinessRuleTask')) {\r\n      return this.log({\r\n        text: elementName || 'Business Rule Task',\r\n        icon: 'bpmn-icon-business-rule',\r\n        scope\r\n      });\r\n    }\r\n\r\n    if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:ManualTask')) {\r\n      return this.log({\r\n        text: elementName || 'Manual Task',\r\n        icon: 'bpmn-icon-manual-task',\r\n        scope\r\n      });\r\n    }\r\n\r\n    if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:ReceiveTask')) {\r\n      return this.log({\r\n        text: elementName || 'Receive Task',\r\n        icon: 'bpmn-icon-receive',\r\n        scope\r\n      });\r\n    }\r\n\r\n    if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:SendTask')) {\r\n      return this.log({\r\n        text: elementName || 'Send Task',\r\n        icon: 'bpmn-icon-send',\r\n        scope\r\n      });\r\n    }\r\n\r\n    if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:Task')) {\r\n      return this.log({\r\n        text: elementName || 'Task',\r\n        icon: 'bpmn-icon-task',\r\n        scope\r\n      });\r\n    }\r\n\r\n    // log gateways ////////////\r\n\r\n    if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:ExclusiveGateway')) {\r\n      return this.log({\r\n        text: elementName || 'Exclusive Gateway',\r\n        icon: 'bpmn-icon-gateway-xor',\r\n        scope\r\n      });\r\n    }\r\n\r\n    if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:ParallelGateway')) {\r\n      return this.log({\r\n        text: elementName || 'Parallel Gateway',\r\n        icon: 'bpmn-icon-gateway-parallel',\r\n        scope\r\n      });\r\n    }\r\n\r\n    if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:InclusiveGateway')) {\r\n      return this.log({\r\n        text: elementName || 'Inclusive Gateway',\r\n        icon: 'bpmn-icon-gateway-or',\r\n        scope\r\n      });\r\n    }\r\n\r\n    // log events /////////////\r\n\r\n    if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:StartEvent')) {\r\n      return this.log({\r\n        text: elementName || 'Start Event',\r\n        icon: `bpmn-icon-start-event-${getEventTypeString(element)}`,\r\n        scope\r\n      });\r\n    }\r\n\r\n    if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:IntermediateCatchEvent')) {\r\n      return this.log({\r\n        text: elementName || 'Intermediate Event',\r\n        icon: getIconForIntermediateEvent(element, 'catch'),\r\n        scope\r\n      });\r\n    }\r\n\r\n    if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:IntermediateThrowEvent')) {\r\n      return this.log({\r\n        text: elementName || 'Intermediate Event',\r\n        icon: getIconForIntermediateEvent(element, 'throw'),\r\n        scope\r\n      });\r\n    }\r\n\r\n    if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:BoundaryEvent')) {\r\n      return this.log({\r\n        text: elementName || 'Boundary Event',\r\n        icon: getIconForIntermediateEvent(element, 'catch'),\r\n        scope\r\n      });\r\n    }\r\n\r\n    if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:EndEvent')) {\r\n\r\n      // TODO: No trace event for terminate end events is emitted\r\n      return this.log({\r\n        text: elementName || 'End Event',\r\n        icon: `bpmn-icon-end-event-${getEventTypeString(element)}`,\r\n        scope\r\n      });\r\n    }\r\n  });\r\n\r\n\r\n  eventBus.on([\r\n    _util_EventHelper__WEBPACK_IMPORTED_MODULE_4__.TOGGLE_MODE_EVENT,\r\n    _util_EventHelper__WEBPACK_IMPORTED_MODULE_4__.RESET_SIMULATION_EVENT\r\n  ], event => {\r\n    this.clear();\r\n    this.toggle(false);\r\n  });\r\n}\r\n\r\nLog.prototype._init = function() {\r\n  this._container = min_dom__WEBPACK_IMPORTED_MODULE_6___default()(`\r\n    <div class=\"bts-log hidden djs-scrollable\">\r\n      <div class=\"bts-header\">\r\n        ${ (0,_icons__WEBPACK_IMPORTED_MODULE_0__.LogIcon)('bts-log-icon') }\r\n        Simulation Log\r\n        <button class=\"bts-close\">\r\n          ${ (0,_icons__WEBPACK_IMPORTED_MODULE_0__.TimesIcon)() }\r\n        </button>\r\n      </div>\r\n      <div class=\"bts-content\">\r\n        <p class=\"bts-entry placeholder\">No Entries</p>\r\n      </div>\r\n    </div>\r\n  `);\r\n\r\n  this._placeholder = (0,min_dom__WEBPACK_IMPORTED_MODULE_5__.query)('.bts-placeholder', this._container);\r\n\r\n  this._content = (0,min_dom__WEBPACK_IMPORTED_MODULE_5__.query)('.bts-content', this._container);\r\n\r\n  min_dom__WEBPACK_IMPORTED_MODULE_5__.event.bind(this._content, 'mousedown', event => {\r\n    event.stopPropagation();\r\n  });\r\n\r\n  this._close = (0,min_dom__WEBPACK_IMPORTED_MODULE_5__.query)('.bts-close', this._container);\r\n\r\n  min_dom__WEBPACK_IMPORTED_MODULE_5__.event.bind(this._close, 'click', () => {\r\n    this.toggle(false);\r\n  });\r\n\r\n  this._icon = (0,min_dom__WEBPACK_IMPORTED_MODULE_5__.query)('.bts-log-icon', this._container);\r\n\r\n  min_dom__WEBPACK_IMPORTED_MODULE_5__.event.bind(this._icon, 'click', () => {\r\n    this.toggle();\r\n  });\r\n\r\n  this._canvas.getContainer().appendChild(this._container);\r\n\r\n  this.paletteEntry = min_dom__WEBPACK_IMPORTED_MODULE_6___default()(`\r\n    <div class=\"bts-entry\" title=\"Toggle Simulation Log\">\r\n      ${ (0,_icons__WEBPACK_IMPORTED_MODULE_0__.LogIcon)() }\r\n    </div>\r\n  `);\r\n\r\n  min_dom__WEBPACK_IMPORTED_MODULE_5__.event.bind(this.paletteEntry, 'click', () => {\r\n    this.toggle();\r\n  });\r\n\r\n  this._tokenSimulationPalette.addEntry(this.paletteEntry, 3);\r\n};\r\n\r\nLog.prototype.isShown = function() {\r\n  const container = this._container;\r\n\r\n  return !(0,min_dom__WEBPACK_IMPORTED_MODULE_5__.classes)(container).has('hidden');\r\n};\r\n\r\nLog.prototype.toggle = function(shown = !this.isShown()) {\r\n  const container = this._container;\r\n\r\n  if (shown) {\r\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_5__.classes)(container).remove('hidden');\r\n  } else {\r\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_5__.classes)(container).add('hidden');\r\n  }\r\n};\r\n\r\nLog.prototype.log = function(options) {\r\n\r\n  const {\r\n    text,\r\n    type = 'info',\r\n    icon = ICON_INFO,\r\n    scope\r\n  } = options;\r\n\r\n  const content = this._content;\r\n\r\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_5__.classes)(this._placeholder).add('hidden');\r\n\r\n  if (!this.isShown()) {\r\n    this._notifications.showNotification(options);\r\n  }\r\n\r\n  const iconMarkup = icon.startsWith('<') ? icon : `<i class=\"${icon}\"></i>`;\r\n\r\n  const colors = scope && scope.colors;\r\n\r\n  const colorMarkup = colors ? `style=\"background: ${colors.primary}; color: ${colors.auxiliary}\"` : '';\r\n\r\n  const logEntry = min_dom__WEBPACK_IMPORTED_MODULE_6___default()(`\r\n    <p class=\"bts-entry ${ type } ${\r\n      scope && this._scopeFilter.isShown(scope) ? '' : 'inactive'\r\n    }\" ${\r\n      scope ? `data-scope-id=\"${scope.id}\"` : ''\r\n    }>\r\n      <span class=\"bts-icon\">${iconMarkup}</span>\r\n      <span class=\"bts-text\" title=\"${ text }\">${text}</span>\r\n      ${\r\n        scope\r\n          ? `<span class=\"bts-scope\" data-scope-id=\"${scope.id}\" ${colorMarkup}>${scope.id}</span>`\r\n          : ''\r\n      }\r\n    </p>\r\n  `);\r\n\r\n  min_dom__WEBPACK_IMPORTED_MODULE_5__.delegate.bind(logEntry, '.bts-scope[data-scope-id]', 'click', event => {\r\n    this._scopeFilter.toggle(scope);\r\n  });\r\n\r\n  // determine if the container should scroll,\r\n  // because it is currently scrolled to the very bottom\r\n  const shouldScroll = Math.abs(content.clientHeight + content.scrollTop - content.scrollHeight) < 2;\r\n\r\n  content.appendChild(logEntry);\r\n\r\n  if (shouldScroll) {\r\n    content.scrollTop = content.scrollHeight;\r\n  }\r\n};\r\n\r\nLog.prototype.clear = function() {\r\n  while (this._content.firstChild) {\r\n    this._content.removeChild(this._content.firstChild);\r\n  }\r\n\r\n  this._placeholder = min_dom__WEBPACK_IMPORTED_MODULE_6___default()('<p class=\"bts-entry placeholder\">No Entries</p>');\r\n\r\n  this._content.appendChild(this._placeholder);\r\n};\r\n\r\nLog.$inject = [\r\n  'eventBus',\r\n  'notifications',\r\n  'tokenSimulationPalette',\r\n  'canvas',\r\n  'scopeFilter',\r\n  'simulator'\r\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvbG9nL0xvZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFPaUI7QUFDakI7QUFJa0M7QUFDbEM7QUFHd0M7QUFDeEM7QUFRZ0M7QUFDaEM7QUFPcUI7QUFDckI7QUFDQTtBQUNBLGtCQUFrQixnREFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwwRUFBVTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxhQUFhLEdBQUcsZ0JBQWdCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBLGFBQWEsc0VBQWlCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHVEQUFFO0FBQ1I7QUFDQTtBQUNBLE1BQU0sdURBQUU7QUFDUjtBQUNBO0FBQ0EsTUFBTSx1REFBRTtBQUNSO0FBQ0E7QUFDQSxNQUFNLHVEQUFFO0FBQ1I7QUFDQTtBQUNBLE1BQU0sdURBQUU7QUFDUjtBQUNBO0FBQ0EsTUFBTSx1REFBRTtBQUNSO0FBQ0E7QUFDQSxNQUFNLHVEQUFFO0FBQ1I7QUFDQTtBQUNBLE1BQU0sdURBQUU7QUFDUjtBQUNBO0FBQ0EsTUFBTSx1REFBRTtBQUNSO0FBQ0E7QUFDQSxNQUFNLHVEQUFFO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx5RUFBMEI7QUFDeEMsd0JBQXdCLGlEQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxnREFBVTtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBLGNBQWMsb0VBQXFCO0FBQ25DO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVEQUFFO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdURBQWUsS0FBSyx1REFBZTtBQUMzRDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxjQUFjLGlFQUFrQjtBQUNoQztBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVEQUFFO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUFlO0FBQzNCO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBLGNBQWMsMERBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1REFBRTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxRQUFRLHVEQUFFO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFFBQVEsdURBQUU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsUUFBUSx1REFBRTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxRQUFRLHVEQUFFO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFFBQVEsdURBQUU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsUUFBUSx1REFBRTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxRQUFRLHVEQUFFO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFFBQVEsdURBQUU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdURBQUU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsUUFBUSx1REFBRTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxRQUFRLHVEQUFFO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVEQUFFO0FBQ1Y7QUFDQTtBQUNBLHVDQUF1Qyw0QkFBNEI7QUFDbkU7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFFBQVEsdURBQUU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsUUFBUSx1REFBRTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxRQUFRLHVEQUFFO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFFBQVEsdURBQUU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw0QkFBNEI7QUFDakU7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsSUFBSSxnRUFBaUI7QUFDckIsSUFBSSxxRUFBc0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw4Q0FBTTtBQUMxQjtBQUNBO0FBQ0EsV0FBVywrQ0FBTztBQUNsQjtBQUNBO0FBQ0EsYUFBYSxpREFBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDhDQUFRO0FBQzlCO0FBQ0Esa0JBQWtCLDhDQUFRO0FBQzFCO0FBQ0EsRUFBRSwwQ0FBUTtBQUNWO0FBQ0EsR0FBRztBQUNIO0FBQ0EsZ0JBQWdCLDhDQUFRO0FBQ3hCO0FBQ0EsRUFBRSwwQ0FBUTtBQUNWO0FBQ0EsR0FBRztBQUNIO0FBQ0EsZUFBZSw4Q0FBUTtBQUN2QjtBQUNBLEVBQUUsMENBQVE7QUFDVjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsOENBQU07QUFDNUI7QUFDQSxTQUFTLCtDQUFPO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLEVBQUUsMENBQVE7QUFDVjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0RBQVU7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxnREFBVTtBQUNkLElBQUk7QUFDSixJQUFJLGdEQUFVO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsRUFBRSxnREFBVTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsS0FBSztBQUNyRTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsaUJBQWlCLFNBQVMsaUJBQWlCO0FBQ2hHO0FBQ0EsbUJBQW1CLDhDQUFNO0FBQ3pCLDJCQUEyQixPQUFPO0FBQ2xDO0FBQ0EsS0FBSztBQUNMLGdDQUFnQyxTQUFTO0FBQ3pDLEtBQUs7QUFDTCwrQkFBK0IsV0FBVztBQUMxQyx1Q0FBdUMsTUFBTSxJQUFJLEtBQUs7QUFDdEQ7QUFDQTtBQUNBLHNEQUFzRCxTQUFTLElBQUksWUFBWSxHQUFHLFNBQVM7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsNkNBQVc7QUFDYjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDhDQUFNO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9mZWF0dXJlcy9sb2cvTG9nLmpzPzI3MDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBkb21pZnksXHJcbiAgY2xhc3NlcyBhcyBkb21DbGFzc2VzLFxyXG4gIGV2ZW50IGFzIGRvbUV2ZW50LFxyXG4gIHF1ZXJ5IGFzIGRvbVF1ZXJ5LFxyXG4gIHF1ZXJ5QWxsIGFzIGRvbVF1ZXJ5QWxsLFxyXG4gIGRlbGVnYXRlIGFzIGRvbURlbGVnYXRlXHJcbn0gZnJvbSAnbWluLWRvbSc7XHJcblxyXG5pbXBvcnQge1xyXG4gIGdldEJ1c2luZXNzT2JqZWN0LFxyXG4gIGlzLFxyXG59IGZyb20gJy4uLy4uL3V0aWwvRWxlbWVudEhlbHBlcic7XHJcblxyXG5pbXBvcnQge1xyXG4gIGVzY2FwZUhUTUxcclxufSBmcm9tICdkaWFncmFtLWpzL2xpYi91dGlsL0VzY2FwZVV0aWwnO1xyXG5cclxuaW1wb3J0IHtcclxuICBUT0dHTEVfTU9ERV9FVkVOVCxcclxuICBSRVNFVF9TSU1VTEFUSU9OX0VWRU5ULFxyXG4gIFNDT1BFX0RFU1RST1lFRF9FVkVOVCxcclxuICBTQ09QRV9DUkVBVEVfRVZFTlQsXHJcbiAgU0NPUEVfRklMVEVSX0NIQU5HRURfRVZFTlQsXHJcbiAgVFJBQ0VfRVZFTlRcclxufSBmcm9tICcuLi8uLi91dGlsL0V2ZW50SGVscGVyJztcclxuXHJcbmltcG9ydCB7XHJcbiAgTG9nSWNvbixcclxuICBUaW1lc0ljb24sXHJcbiAgVGltZXNDaXJjbGVJY29uLFxyXG4gIENoZWNrQ2lyY2xlSWNvbixcclxuICBJbmZvSWNvblxyXG59IGZyb20gJy4uLy4uL2ljb25zJztcclxuXHJcblxyXG5jb25zdCBJQ09OX0lORk8gPSBJbmZvSWNvbigpO1xyXG5cclxuZnVuY3Rpb24gZ2V0RWxlbWVudE5hbWUoZWxlbWVudCkge1xyXG4gIGNvbnN0IG5hbWUgPSBlbGVtZW50ICYmIGVsZW1lbnQuYnVzaW5lc3NPYmplY3QubmFtZTtcclxuXHJcbiAgcmV0dXJuIG5hbWUgJiYgZXNjYXBlSFRNTChuYW1lKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0SWNvbkZvckludGVybWVkaWF0ZUV2ZW50KGVsZW1lbnQsIHRocm93T3JDYXRjaCkge1xyXG4gIGNvbnN0IGV2ZW50VHlwZVN0cmluZyA9IGdldEV2ZW50VHlwZVN0cmluZyhlbGVtZW50KTtcclxuICBpZiAoZXZlbnRUeXBlU3RyaW5nID09PSAnbm9uZScpIHtcclxuICAgIHJldHVybiAnYnBtbi1pY29uLWludGVybWVkaWF0ZS1ldmVudC1ub25lJztcclxuICB9XHJcbiAgcmV0dXJuIGBicG1uLWljb24taW50ZXJtZWRpYXRlLWV2ZW50LSR7dGhyb3dPckNhdGNofS0ke2V2ZW50VHlwZVN0cmluZ31gO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRFdmVudFR5cGVTdHJpbmcoZWxlbWVudCkge1xyXG4gIGNvbnN0IGJvID0gZ2V0QnVzaW5lc3NPYmplY3QoZWxlbWVudCk7XHJcbiAgaWYgKGJvLmdldCgnZXZlbnREZWZpbml0aW9ucycpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmV0dXJuICdub25lJztcclxuICB9XHJcbiAgY29uc3QgZXZlbnREZWZpbml0aW9uID0gYm8uZXZlbnREZWZpbml0aW9uc1swXTtcclxuXHJcbiAgaWYgKGlzKGV2ZW50RGVmaW5pdGlvbiwgJ2JwbW46TWVzc2FnZUV2ZW50RGVmaW5pdGlvbicpKSB7XHJcbiAgICByZXR1cm4gJ21lc3NhZ2UnO1xyXG4gIH1cclxuICBpZiAoaXMoZXZlbnREZWZpbml0aW9uLCAnYnBtbjpUaW1lckV2ZW50RGVmaW5pdGlvbicpKSB7XHJcbiAgICByZXR1cm4gJ3RpbWVyJztcclxuICB9XHJcbiAgaWYgKGlzKGV2ZW50RGVmaW5pdGlvbiwgJ2JwbW46U2lnbmFsRXZlbnREZWZpbml0aW9uJykpIHtcclxuICAgIHJldHVybiAnc2lnbmFsJztcclxuICB9XHJcbiAgaWYgKGlzKGV2ZW50RGVmaW5pdGlvbiwgJ2JwbW46RXJyb3JFdmVudERlZmluaXRpb24nKSkge1xyXG4gICAgcmV0dXJuICdlcnJvcic7XHJcbiAgfVxyXG4gIGlmIChpcyhldmVudERlZmluaXRpb24sICdicG1uOkVzY2FsYXRpb25FdmVudERlZmluaXRpb24nKSkge1xyXG4gICAgcmV0dXJuICdlc2NhbGF0aW9uJztcclxuICB9XHJcbiAgaWYgKGlzKGV2ZW50RGVmaW5pdGlvbiwgJ2JwbW46Q29tcGVuc2F0ZUV2ZW50RGVmaW5pdGlvbicpKSB7XHJcbiAgICByZXR1cm4gJ2NvbXBlbnNhdGlvbic7XHJcbiAgfVxyXG4gIGlmIChpcyhldmVudERlZmluaXRpb24sICdicG1uOkNvbmRpdGlvbmFsRXZlbnREZWZpbml0aW9uJykpIHtcclxuICAgIHJldHVybiAnY29uZGl0aW9uJztcclxuICB9XHJcbiAgaWYgKGlzKGV2ZW50RGVmaW5pdGlvbiwgJ2JwbW46TGlua0V2ZW50RGVmaW5pdGlvbicpKSB7XHJcbiAgICByZXR1cm4gJ2xpbmsnO1xyXG4gIH1cclxuICBpZiAoaXMoZXZlbnREZWZpbml0aW9uLCAnYnBtbjpDYW5jZWxFdmVudERlZmluaXRpb24nKSkge1xyXG4gICAgcmV0dXJuICdjYW5jZWwnO1xyXG4gIH1cclxuICBpZiAoaXMoZXZlbnREZWZpbml0aW9uLCAnYnBtbjpUZXJtaW5hdGVFdmVudERlZmluaXRpb24nKSkge1xyXG4gICAgcmV0dXJuICd0ZXJtaW5hdGUnO1xyXG4gIH1cclxuICByZXR1cm4gJ25vbmUnO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTG9nKFxyXG4gICAgZXZlbnRCdXMsIG5vdGlmaWNhdGlvbnMsXHJcbiAgICB0b2tlblNpbXVsYXRpb25QYWxldHRlLCBjYW52YXMsXHJcbiAgICBzY29wZUZpbHRlciwgc2ltdWxhdG9yKSB7XHJcblxyXG4gIHRoaXMuX25vdGlmaWNhdGlvbnMgPSBub3RpZmljYXRpb25zO1xyXG4gIHRoaXMuX3Rva2VuU2ltdWxhdGlvblBhbGV0dGUgPSB0b2tlblNpbXVsYXRpb25QYWxldHRlO1xyXG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcclxuICB0aGlzLl9zY29wZUZpbHRlciA9IHNjb3BlRmlsdGVyO1xyXG5cclxuICB0aGlzLl9pbml0KCk7XHJcblxyXG4gIGV2ZW50QnVzLm9uKFNDT1BFX0ZJTFRFUl9DSEFOR0VEX0VWRU5ULCBldmVudCA9PiB7XHJcbiAgICBjb25zdCBhbGxFbGVtZW50cyA9IGRvbVF1ZXJ5QWxsKCcuYnRzLWVudHJ5W2RhdGEtc2NvcGUtaWRdJywgdGhpcy5fY29udGFpbmVyKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgYWxsRWxlbWVudHMpIHtcclxuICAgICAgY29uc3Qgc2NvcGVJZCA9IGVsZW1lbnQuZGF0YXNldC5zY29wZUlkO1xyXG5cclxuICAgICAgZG9tQ2xhc3NlcyhlbGVtZW50KS50b2dnbGUoJ2luYWN0aXZlJywgIXRoaXMuX3Njb3BlRmlsdGVyLmlzU2hvd24oc2NvcGVJZCkpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBldmVudEJ1cy5vbihTQ09QRV9ERVNUUk9ZRURfRVZFTlQsIGV2ZW50ID0+IHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgc2NvcGVcclxuICAgIH0gPSBldmVudDtcclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGVsZW1lbnQ6IHNjb3BlRWxlbWVudFxyXG4gICAgfSA9IHNjb3BlO1xyXG5cclxuICAgIGNvbnN0IGNvbXBsZXRlZCA9IHNjb3BlLmNvbXBsZXRlZDtcclxuXHJcbiAgICBjb25zdCBwcm9jZXNzU2NvcGVzID0gW1xyXG4gICAgICAnYnBtbjpQcm9jZXNzJyxcclxuICAgICAgJ2JwbW46UGFydGljaXBhbnQnLFxyXG4gICAgICAnYnBtbjpTdWJQcm9jZXNzJ1xyXG4gICAgXTtcclxuXHJcbiAgICBpZiAoIXByb2Nlc3NTY29wZXMuaW5jbHVkZXMoc2NvcGVFbGVtZW50LnR5cGUpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpc1N1YlByb2Nlc3MgPSBpcyhzY29wZUVsZW1lbnQsICdicG1uOlN1YlByb2Nlc3MnKTtcclxuXHJcbiAgICBjb25zdCB0ZXh0ID0gYCR7XHJcbiAgICAgIGlzU3ViUHJvY2VzcyA/IChnZXRFbGVtZW50TmFtZShzY29wZUVsZW1lbnQpIHx8ICdTdWJQcm9jZXNzJykgOiAnUHJvY2VzcydcclxuICAgIH0gJHtcclxuICAgICAgY29tcGxldGVkID8gJ2ZpbmlzaGVkJyA6ICdjYW5jZWxlZCdcclxuICAgIH1gO1xyXG5cclxuICAgIHRoaXMubG9nKHtcclxuICAgICAgdGV4dCxcclxuICAgICAgaWNvbjogY29tcGxldGVkID8gQ2hlY2tDaXJjbGVJY29uKCkgOiBUaW1lc0NpcmNsZUljb24oKSxcclxuICAgICAgc2NvcGVcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBldmVudEJ1cy5vbihTQ09QRV9DUkVBVEVfRVZFTlQsIGV2ZW50ID0+IHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgc2NvcGVcclxuICAgIH0gPSBldmVudDtcclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGVsZW1lbnQ6IHNjb3BlRWxlbWVudFxyXG4gICAgfSA9IHNjb3BlO1xyXG5cclxuICAgIGNvbnN0IHByb2Nlc3NTY29wZXMgPSBbXHJcbiAgICAgICdicG1uOlByb2Nlc3MnLFxyXG4gICAgICAnYnBtbjpQYXJ0aWNpcGFudCcsXHJcbiAgICAgICdicG1uOlN1YlByb2Nlc3MnXHJcbiAgICBdO1xyXG5cclxuICAgIGlmICghcHJvY2Vzc1Njb3Blcy5pbmNsdWRlcyhzY29wZUVsZW1lbnQudHlwZSkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGlzU3ViUHJvY2VzcyA9IGlzKHNjb3BlRWxlbWVudCwgJ2JwbW46U3ViUHJvY2VzcycpO1xyXG5cclxuICAgIGNvbnN0IHRleHQgPSBgJHtcclxuICAgICAgaXNTdWJQcm9jZXNzID8gKGdldEVsZW1lbnROYW1lKHNjb3BlRWxlbWVudCkgfHwgJ1N1YlByb2Nlc3MnKSA6ICdQcm9jZXNzJ1xyXG4gICAgfSBzdGFydGVkYDtcclxuXHJcbiAgICB0aGlzLmxvZyh7XHJcbiAgICAgIHRleHQsXHJcbiAgICAgIGljb246IENoZWNrQ2lyY2xlSWNvbigpLFxyXG4gICAgICBzY29wZVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGV2ZW50QnVzLm9uKFRSQUNFX0VWRU5ULCBldmVudCA9PiB7XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBhY3Rpb24sXHJcbiAgICAgIHNjb3BlOiBlbGVtZW50U2NvcGUsXHJcbiAgICAgIGVsZW1lbnRcclxuICAgIH0gPSBldmVudDtcclxuXHJcbiAgICBpZiAoYWN0aW9uICE9PSAnZXhpdCcpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNjb3BlID0gZWxlbWVudFNjb3BlLnBhcmVudDtcclxuXHJcbiAgICBjb25zdCBlbGVtZW50TmFtZSA9IGdldEVsZW1lbnROYW1lKGVsZW1lbnQpO1xyXG5cclxuICAgIC8vIGxvZyB0YXNrcyAvLy8vLy8vLy8vLy9cclxuXHJcbiAgICBpZiAoaXMoZWxlbWVudCwgJ2JwbW46U2VydmljZVRhc2snKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5sb2coe1xyXG4gICAgICAgIHRleHQ6IGVsZW1lbnROYW1lIHx8ICdTZXJ2aWNlIFRhc2snLFxyXG4gICAgICAgIGljb246ICdicG1uLWljb24tc2VydmljZScsXHJcbiAgICAgICAgc2NvcGVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzKGVsZW1lbnQsICdicG1uOlVzZXJUYXNrJykpIHtcclxuICAgICAgcmV0dXJuIHRoaXMubG9nKHtcclxuICAgICAgICB0ZXh0OiBlbGVtZW50TmFtZSB8fCAnVXNlciBUYXNrJyxcclxuICAgICAgICBpY29uOiAnYnBtbi1pY29uLXVzZXInLFxyXG4gICAgICAgIHNjb3BlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpcyhlbGVtZW50LCAnYnBtbjpDYWxsQWN0aXZpdHknKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5sb2coe1xyXG4gICAgICAgIHRleHQ6IGVsZW1lbnROYW1lIHx8ICdDYWxsIEFjdGl2aXR5JyxcclxuICAgICAgICBpY29uOiAnYnBtbi1pY29uLWNhbGwtYWN0aXZpdHknLFxyXG4gICAgICAgIHNjb3BlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpcyhlbGVtZW50LCAnYnBtbjpTY3JpcHRUYXNrJykpIHtcclxuICAgICAgcmV0dXJuIHRoaXMubG9nKHtcclxuICAgICAgICB0ZXh0OiBlbGVtZW50TmFtZSB8fCAnU2NyaXB0IFRhc2snLFxyXG4gICAgICAgIGljb246ICdicG1uLWljb24tc2NyaXB0JyxcclxuICAgICAgICBzY29wZVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXMoZWxlbWVudCwgJ2JwbW46QnVzaW5lc3NSdWxlVGFzaycpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmxvZyh7XHJcbiAgICAgICAgdGV4dDogZWxlbWVudE5hbWUgfHwgJ0J1c2luZXNzIFJ1bGUgVGFzaycsXHJcbiAgICAgICAgaWNvbjogJ2JwbW4taWNvbi1idXNpbmVzcy1ydWxlJyxcclxuICAgICAgICBzY29wZVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXMoZWxlbWVudCwgJ2JwbW46TWFudWFsVGFzaycpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmxvZyh7XHJcbiAgICAgICAgdGV4dDogZWxlbWVudE5hbWUgfHwgJ01hbnVhbCBUYXNrJyxcclxuICAgICAgICBpY29uOiAnYnBtbi1pY29uLW1hbnVhbC10YXNrJyxcclxuICAgICAgICBzY29wZVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXMoZWxlbWVudCwgJ2JwbW46UmVjZWl2ZVRhc2snKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5sb2coe1xyXG4gICAgICAgIHRleHQ6IGVsZW1lbnROYW1lIHx8ICdSZWNlaXZlIFRhc2snLFxyXG4gICAgICAgIGljb246ICdicG1uLWljb24tcmVjZWl2ZScsXHJcbiAgICAgICAgc2NvcGVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzKGVsZW1lbnQsICdicG1uOlNlbmRUYXNrJykpIHtcclxuICAgICAgcmV0dXJuIHRoaXMubG9nKHtcclxuICAgICAgICB0ZXh0OiBlbGVtZW50TmFtZSB8fCAnU2VuZCBUYXNrJyxcclxuICAgICAgICBpY29uOiAnYnBtbi1pY29uLXNlbmQnLFxyXG4gICAgICAgIHNjb3BlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpcyhlbGVtZW50LCAnYnBtbjpUYXNrJykpIHtcclxuICAgICAgcmV0dXJuIHRoaXMubG9nKHtcclxuICAgICAgICB0ZXh0OiBlbGVtZW50TmFtZSB8fCAnVGFzaycsXHJcbiAgICAgICAgaWNvbjogJ2JwbW4taWNvbi10YXNrJyxcclxuICAgICAgICBzY29wZVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBsb2cgZ2F0ZXdheXMgLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgaWYgKGlzKGVsZW1lbnQsICdicG1uOkV4Y2x1c2l2ZUdhdGV3YXknKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5sb2coe1xyXG4gICAgICAgIHRleHQ6IGVsZW1lbnROYW1lIHx8ICdFeGNsdXNpdmUgR2F0ZXdheScsXHJcbiAgICAgICAgaWNvbjogJ2JwbW4taWNvbi1nYXRld2F5LXhvcicsXHJcbiAgICAgICAgc2NvcGVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzKGVsZW1lbnQsICdicG1uOlBhcmFsbGVsR2F0ZXdheScpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmxvZyh7XHJcbiAgICAgICAgdGV4dDogZWxlbWVudE5hbWUgfHwgJ1BhcmFsbGVsIEdhdGV3YXknLFxyXG4gICAgICAgIGljb246ICdicG1uLWljb24tZ2F0ZXdheS1wYXJhbGxlbCcsXHJcbiAgICAgICAgc2NvcGVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzKGVsZW1lbnQsICdicG1uOkluY2x1c2l2ZUdhdGV3YXknKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5sb2coe1xyXG4gICAgICAgIHRleHQ6IGVsZW1lbnROYW1lIHx8ICdJbmNsdXNpdmUgR2F0ZXdheScsXHJcbiAgICAgICAgaWNvbjogJ2JwbW4taWNvbi1nYXRld2F5LW9yJyxcclxuICAgICAgICBzY29wZVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBsb2cgZXZlbnRzIC8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICBpZiAoaXMoZWxlbWVudCwgJ2JwbW46U3RhcnRFdmVudCcpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmxvZyh7XHJcbiAgICAgICAgdGV4dDogZWxlbWVudE5hbWUgfHwgJ1N0YXJ0IEV2ZW50JyxcclxuICAgICAgICBpY29uOiBgYnBtbi1pY29uLXN0YXJ0LWV2ZW50LSR7Z2V0RXZlbnRUeXBlU3RyaW5nKGVsZW1lbnQpfWAsXHJcbiAgICAgICAgc2NvcGVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzKGVsZW1lbnQsICdicG1uOkludGVybWVkaWF0ZUNhdGNoRXZlbnQnKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5sb2coe1xyXG4gICAgICAgIHRleHQ6IGVsZW1lbnROYW1lIHx8ICdJbnRlcm1lZGlhdGUgRXZlbnQnLFxyXG4gICAgICAgIGljb246IGdldEljb25Gb3JJbnRlcm1lZGlhdGVFdmVudChlbGVtZW50LCAnY2F0Y2gnKSxcclxuICAgICAgICBzY29wZVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXMoZWxlbWVudCwgJ2JwbW46SW50ZXJtZWRpYXRlVGhyb3dFdmVudCcpKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmxvZyh7XHJcbiAgICAgICAgdGV4dDogZWxlbWVudE5hbWUgfHwgJ0ludGVybWVkaWF0ZSBFdmVudCcsXHJcbiAgICAgICAgaWNvbjogZ2V0SWNvbkZvckludGVybWVkaWF0ZUV2ZW50KGVsZW1lbnQsICd0aHJvdycpLFxyXG4gICAgICAgIHNjb3BlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpcyhlbGVtZW50LCAnYnBtbjpCb3VuZGFyeUV2ZW50JykpIHtcclxuICAgICAgcmV0dXJuIHRoaXMubG9nKHtcclxuICAgICAgICB0ZXh0OiBlbGVtZW50TmFtZSB8fCAnQm91bmRhcnkgRXZlbnQnLFxyXG4gICAgICAgIGljb246IGdldEljb25Gb3JJbnRlcm1lZGlhdGVFdmVudChlbGVtZW50LCAnY2F0Y2gnKSxcclxuICAgICAgICBzY29wZVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXMoZWxlbWVudCwgJ2JwbW46RW5kRXZlbnQnKSkge1xyXG5cclxuICAgICAgLy8gVE9ETzogTm8gdHJhY2UgZXZlbnQgZm9yIHRlcm1pbmF0ZSBlbmQgZXZlbnRzIGlzIGVtaXR0ZWRcclxuICAgICAgcmV0dXJuIHRoaXMubG9nKHtcclxuICAgICAgICB0ZXh0OiBlbGVtZW50TmFtZSB8fCAnRW5kIEV2ZW50JyxcclxuICAgICAgICBpY29uOiBgYnBtbi1pY29uLWVuZC1ldmVudC0ke2dldEV2ZW50VHlwZVN0cmluZyhlbGVtZW50KX1gLFxyXG4gICAgICAgIHNjb3BlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuXHJcbiAgZXZlbnRCdXMub24oW1xyXG4gICAgVE9HR0xFX01PREVfRVZFTlQsXHJcbiAgICBSRVNFVF9TSU1VTEFUSU9OX0VWRU5UXHJcbiAgXSwgZXZlbnQgPT4ge1xyXG4gICAgdGhpcy5jbGVhcigpO1xyXG4gICAgdGhpcy50b2dnbGUoZmFsc2UpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5Mb2cucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgdGhpcy5fY29udGFpbmVyID0gZG9taWZ5KGBcclxuICAgIDxkaXYgY2xhc3M9XCJidHMtbG9nIGhpZGRlbiBkanMtc2Nyb2xsYWJsZVwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiYnRzLWhlYWRlclwiPlxyXG4gICAgICAgICR7IExvZ0ljb24oJ2J0cy1sb2ctaWNvbicpIH1cclxuICAgICAgICBTaW11bGF0aW9uIExvZ1xyXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidHMtY2xvc2VcIj5cclxuICAgICAgICAgICR7IFRpbWVzSWNvbigpIH1cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJidHMtY29udGVudFwiPlxyXG4gICAgICAgIDxwIGNsYXNzPVwiYnRzLWVudHJ5IHBsYWNlaG9sZGVyXCI+Tm8gRW50cmllczwvcD5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICBgKTtcclxuXHJcbiAgdGhpcy5fcGxhY2Vob2xkZXIgPSBkb21RdWVyeSgnLmJ0cy1wbGFjZWhvbGRlcicsIHRoaXMuX2NvbnRhaW5lcik7XHJcblxyXG4gIHRoaXMuX2NvbnRlbnQgPSBkb21RdWVyeSgnLmJ0cy1jb250ZW50JywgdGhpcy5fY29udGFpbmVyKTtcclxuXHJcbiAgZG9tRXZlbnQuYmluZCh0aGlzLl9jb250ZW50LCAnbW91c2Vkb3duJywgZXZlbnQgPT4ge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgfSk7XHJcblxyXG4gIHRoaXMuX2Nsb3NlID0gZG9tUXVlcnkoJy5idHMtY2xvc2UnLCB0aGlzLl9jb250YWluZXIpO1xyXG5cclxuICBkb21FdmVudC5iaW5kKHRoaXMuX2Nsb3NlLCAnY2xpY2snLCAoKSA9PiB7XHJcbiAgICB0aGlzLnRvZ2dsZShmYWxzZSk7XHJcbiAgfSk7XHJcblxyXG4gIHRoaXMuX2ljb24gPSBkb21RdWVyeSgnLmJ0cy1sb2ctaWNvbicsIHRoaXMuX2NvbnRhaW5lcik7XHJcblxyXG4gIGRvbUV2ZW50LmJpbmQodGhpcy5faWNvbiwgJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgdGhpcy50b2dnbGUoKTtcclxuICB9KTtcclxuXHJcbiAgdGhpcy5fY2FudmFzLmdldENvbnRhaW5lcigpLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lcik7XHJcblxyXG4gIHRoaXMucGFsZXR0ZUVudHJ5ID0gZG9taWZ5KGBcclxuICAgIDxkaXYgY2xhc3M9XCJidHMtZW50cnlcIiB0aXRsZT1cIlRvZ2dsZSBTaW11bGF0aW9uIExvZ1wiPlxyXG4gICAgICAkeyBMb2dJY29uKCkgfVxyXG4gICAgPC9kaXY+XHJcbiAgYCk7XHJcblxyXG4gIGRvbUV2ZW50LmJpbmQodGhpcy5wYWxldHRlRW50cnksICdjbGljaycsICgpID0+IHtcclxuICAgIHRoaXMudG9nZ2xlKCk7XHJcbiAgfSk7XHJcblxyXG4gIHRoaXMuX3Rva2VuU2ltdWxhdGlvblBhbGV0dGUuYWRkRW50cnkodGhpcy5wYWxldHRlRW50cnksIDMpO1xyXG59O1xyXG5cclxuTG9nLnByb3RvdHlwZS5pc1Nob3duID0gZnVuY3Rpb24oKSB7XHJcbiAgY29uc3QgY29udGFpbmVyID0gdGhpcy5fY29udGFpbmVyO1xyXG5cclxuICByZXR1cm4gIWRvbUNsYXNzZXMoY29udGFpbmVyKS5oYXMoJ2hpZGRlbicpO1xyXG59O1xyXG5cclxuTG9nLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbihzaG93biA9ICF0aGlzLmlzU2hvd24oKSkge1xyXG4gIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcjtcclxuXHJcbiAgaWYgKHNob3duKSB7XHJcbiAgICBkb21DbGFzc2VzKGNvbnRhaW5lcikucmVtb3ZlKCdoaWRkZW4nKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZG9tQ2xhc3Nlcyhjb250YWluZXIpLmFkZCgnaGlkZGVuJyk7XHJcbiAgfVxyXG59O1xyXG5cclxuTG9nLnByb3RvdHlwZS5sb2cgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcblxyXG4gIGNvbnN0IHtcclxuICAgIHRleHQsXHJcbiAgICB0eXBlID0gJ2luZm8nLFxyXG4gICAgaWNvbiA9IElDT05fSU5GTyxcclxuICAgIHNjb3BlXHJcbiAgfSA9IG9wdGlvbnM7XHJcblxyXG4gIGNvbnN0IGNvbnRlbnQgPSB0aGlzLl9jb250ZW50O1xyXG5cclxuICBkb21DbGFzc2VzKHRoaXMuX3BsYWNlaG9sZGVyKS5hZGQoJ2hpZGRlbicpO1xyXG5cclxuICBpZiAoIXRoaXMuaXNTaG93bigpKSB7XHJcbiAgICB0aGlzLl9ub3RpZmljYXRpb25zLnNob3dOb3RpZmljYXRpb24ob3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBpY29uTWFya3VwID0gaWNvbi5zdGFydHNXaXRoKCc8JykgPyBpY29uIDogYDxpIGNsYXNzPVwiJHtpY29ufVwiPjwvaT5gO1xyXG5cclxuICBjb25zdCBjb2xvcnMgPSBzY29wZSAmJiBzY29wZS5jb2xvcnM7XHJcblxyXG4gIGNvbnN0IGNvbG9yTWFya3VwID0gY29sb3JzID8gYHN0eWxlPVwiYmFja2dyb3VuZDogJHtjb2xvcnMucHJpbWFyeX07IGNvbG9yOiAke2NvbG9ycy5hdXhpbGlhcnl9XCJgIDogJyc7XHJcblxyXG4gIGNvbnN0IGxvZ0VudHJ5ID0gZG9taWZ5KGBcclxuICAgIDxwIGNsYXNzPVwiYnRzLWVudHJ5ICR7IHR5cGUgfSAke1xyXG4gICAgICBzY29wZSAmJiB0aGlzLl9zY29wZUZpbHRlci5pc1Nob3duKHNjb3BlKSA/ICcnIDogJ2luYWN0aXZlJ1xyXG4gICAgfVwiICR7XHJcbiAgICAgIHNjb3BlID8gYGRhdGEtc2NvcGUtaWQ9XCIke3Njb3BlLmlkfVwiYCA6ICcnXHJcbiAgICB9PlxyXG4gICAgICA8c3BhbiBjbGFzcz1cImJ0cy1pY29uXCI+JHtpY29uTWFya3VwfTwvc3Bhbj5cclxuICAgICAgPHNwYW4gY2xhc3M9XCJidHMtdGV4dFwiIHRpdGxlPVwiJHsgdGV4dCB9XCI+JHt0ZXh0fTwvc3Bhbj5cclxuICAgICAgJHtcclxuICAgICAgICBzY29wZVxyXG4gICAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJidHMtc2NvcGVcIiBkYXRhLXNjb3BlLWlkPVwiJHtzY29wZS5pZH1cIiAke2NvbG9yTWFya3VwfT4ke3Njb3BlLmlkfTwvc3Bhbj5gXHJcbiAgICAgICAgICA6ICcnXHJcbiAgICAgIH1cclxuICAgIDwvcD5cclxuICBgKTtcclxuXHJcbiAgZG9tRGVsZWdhdGUuYmluZChsb2dFbnRyeSwgJy5idHMtc2NvcGVbZGF0YS1zY29wZS1pZF0nLCAnY2xpY2snLCBldmVudCA9PiB7XHJcbiAgICB0aGlzLl9zY29wZUZpbHRlci50b2dnbGUoc2NvcGUpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBkZXRlcm1pbmUgaWYgdGhlIGNvbnRhaW5lciBzaG91bGQgc2Nyb2xsLFxyXG4gIC8vIGJlY2F1c2UgaXQgaXMgY3VycmVudGx5IHNjcm9sbGVkIHRvIHRoZSB2ZXJ5IGJvdHRvbVxyXG4gIGNvbnN0IHNob3VsZFNjcm9sbCA9IE1hdGguYWJzKGNvbnRlbnQuY2xpZW50SGVpZ2h0ICsgY29udGVudC5zY3JvbGxUb3AgLSBjb250ZW50LnNjcm9sbEhlaWdodCkgPCAyO1xyXG5cclxuICBjb250ZW50LmFwcGVuZENoaWxkKGxvZ0VudHJ5KTtcclxuXHJcbiAgaWYgKHNob3VsZFNjcm9sbCkge1xyXG4gICAgY29udGVudC5zY3JvbGxUb3AgPSBjb250ZW50LnNjcm9sbEhlaWdodDtcclxuICB9XHJcbn07XHJcblxyXG5Mb2cucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XHJcbiAgd2hpbGUgKHRoaXMuX2NvbnRlbnQuZmlyc3RDaGlsZCkge1xyXG4gICAgdGhpcy5fY29udGVudC5yZW1vdmVDaGlsZCh0aGlzLl9jb250ZW50LmZpcnN0Q2hpbGQpO1xyXG4gIH1cclxuXHJcbiAgdGhpcy5fcGxhY2Vob2xkZXIgPSBkb21pZnkoJzxwIGNsYXNzPVwiYnRzLWVudHJ5IHBsYWNlaG9sZGVyXCI+Tm8gRW50cmllczwvcD4nKTtcclxuXHJcbiAgdGhpcy5fY29udGVudC5hcHBlbmRDaGlsZCh0aGlzLl9wbGFjZWhvbGRlcik7XHJcbn07XHJcblxyXG5Mb2cuJGluamVjdCA9IFtcclxuICAnZXZlbnRCdXMnLFxyXG4gICdub3RpZmljYXRpb25zJyxcclxuICAndG9rZW5TaW11bGF0aW9uUGFsZXR0ZScsXHJcbiAgJ2NhbnZhcycsXHJcbiAgJ3Njb3BlRmlsdGVyJyxcclxuICAnc2ltdWxhdG9yJ1xyXG5dOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/features/log/Log.js\n");

/***/ }),

/***/ "./lib/features/log/index.js":
/*!***********************************!*\
  !*** ./lib/features/log/index.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Log__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Log */ \"./lib/features/log/Log.js\");\n/* harmony import */ var _scope_filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scope-filter */ \"./lib/features/scope-filter/index.js\");\n/* harmony import */ var _notifications__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../notifications */ \"./lib/features/notifications/index.js\");\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _notifications__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _scope_filter__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n  ],\n  __init__: [\n    'log'\n  ],\n  log: [ 'type', _Log__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvbG9nL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBd0I7O0FBRXdCO0FBQ0c7O0FBRW5ELGlFQUFlO0FBQ2Y7QUFDQSxJQUFJLHNEQUFtQjtBQUN2QixJQUFJLHFEQUFpQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw0Q0FBRztBQUNwQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2ZlYXR1cmVzL2xvZy9pbmRleC5qcz82NWE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMb2cgZnJvbSAnLi9Mb2cnO1xuXG5pbXBvcnQgU2NvcGVGaWx0ZXJNb2R1bGUgZnJvbSAnLi4vc2NvcGUtZmlsdGVyJztcbmltcG9ydCBOb3RpZmljYXRpb25zTW9kdWxlIGZyb20gJy4uL25vdGlmaWNhdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgTm90aWZpY2F0aW9uc01vZHVsZSxcbiAgICBTY29wZUZpbHRlck1vZHVsZVxuICBdLFxuICBfX2luaXRfXzogW1xuICAgICdsb2cnXG4gIF0sXG4gIGxvZzogWyAndHlwZScsIExvZyBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/features/log/index.js\n");

/***/ }),

/***/ "./lib/features/neutral-element-colors/NeutralElementColors.js":
/*!*********************************************************************!*\
  !*** ./lib/features/neutral-element-colors/NeutralElementColors.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ NeutralElementColors)\n/* harmony export */ });\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n\n\nconst ID = 'neutral-element-colors';\n\nfunction NeutralElementColors(\n    eventBus, elementRegistry, elementColors) {\n\n  this._elementRegistry = elementRegistry;\n  this._elementColors = elementColors;\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.TOGGLE_MODE_EVENT, event => {\n    const { active } = event;\n\n    if (active) {\n      this._setNeutralColors();\n    }\n  });\n}\n\nNeutralElementColors.prototype._setNeutralColors = function() {\n  this._elementRegistry.forEach(element => {\n    this._elementColors.add(element, ID, {\n      stroke: '#212121',\n      fill: '#fff'\n    });\n  });\n};\n\nNeutralElementColors.$inject = [\n  'eventBus',\n  'elementRegistry',\n  'elementColors'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvbmV1dHJhbC1lbGVtZW50LWNvbG9ycy9OZXV0cmFsRWxlbWVudENvbG9ycy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUVnQzs7QUFFaEM7O0FBRWU7QUFDZjs7QUFFQTtBQUNBOztBQUVBLGNBQWMsZ0VBQWlCO0FBQy9CLFlBQVksU0FBUzs7QUFFckI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvZmVhdHVyZXMvbmV1dHJhbC1lbGVtZW50LWNvbG9ycy9OZXV0cmFsRWxlbWVudENvbG9ycy5qcz85ZjMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFRPR0dMRV9NT0RFX0VWRU5UXG59IGZyb20gJy4uLy4uL3V0aWwvRXZlbnRIZWxwZXInO1xuXG5jb25zdCBJRCA9ICduZXV0cmFsLWVsZW1lbnQtY29sb3JzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTmV1dHJhbEVsZW1lbnRDb2xvcnMoXG4gICAgZXZlbnRCdXMsIGVsZW1lbnRSZWdpc3RyeSwgZWxlbWVudENvbG9ycykge1xuXG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeSA9IGVsZW1lbnRSZWdpc3RyeTtcbiAgdGhpcy5fZWxlbWVudENvbG9ycyA9IGVsZW1lbnRDb2xvcnM7XG5cbiAgZXZlbnRCdXMub24oVE9HR0xFX01PREVfRVZFTlQsIGV2ZW50ID0+IHtcbiAgICBjb25zdCB7IGFjdGl2ZSB9ID0gZXZlbnQ7XG5cbiAgICBpZiAoYWN0aXZlKSB7XG4gICAgICB0aGlzLl9zZXROZXV0cmFsQ29sb3JzKCk7XG4gICAgfVxuICB9KTtcbn1cblxuTmV1dHJhbEVsZW1lbnRDb2xvcnMucHJvdG90eXBlLl9zZXROZXV0cmFsQ29sb3JzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2VsZW1lbnRSZWdpc3RyeS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgIHRoaXMuX2VsZW1lbnRDb2xvcnMuYWRkKGVsZW1lbnQsIElELCB7XG4gICAgICBzdHJva2U6ICcjMjEyMTIxJyxcbiAgICAgIGZpbGw6ICcjZmZmJ1xuICAgIH0pO1xuICB9KTtcbn07XG5cbk5ldXRyYWxFbGVtZW50Q29sb3JzLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdlbGVtZW50UmVnaXN0cnknLFxuICAnZWxlbWVudENvbG9ycydcbl07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/neutral-element-colors/NeutralElementColors.js\n");

/***/ }),

/***/ "./lib/features/neutral-element-colors/index.js":
/*!******************************************************!*\
  !*** ./lib/features/neutral-element-colors/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _NeutralElementColors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./NeutralElementColors */ \"./lib/features/neutral-element-colors/NeutralElementColors.js\");\n/* harmony import */ var _element_colors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../element-colors */ \"./lib/features/element-colors/index.js\");\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [ _element_colors__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ],\n  __init__: [\n    'neutralElementColors'\n  ],\n  neutralElementColors: [ 'type', _NeutralElementColors__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvbmV1dHJhbC1lbGVtZW50LWNvbG9ycy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMEQ7QUFDTjs7QUFFcEQsaUVBQWU7QUFDZixpQkFBaUIsdURBQW1CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyw2REFBb0I7QUFDdEQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9mZWF0dXJlcy9uZXV0cmFsLWVsZW1lbnQtY29sb3JzL2luZGV4LmpzPzZiNDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE5ldXRyYWxFbGVtZW50Q29sb3JzIGZyb20gJy4vTmV1dHJhbEVsZW1lbnRDb2xvcnMnO1xuaW1wb3J0IEVsZW1lbnRDb2xvcnNNb2R1bGUgZnJvbSAnLi4vZWxlbWVudC1jb2xvcnMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbIEVsZW1lbnRDb2xvcnNNb2R1bGUgXSxcbiAgX19pbml0X186IFtcbiAgICAnbmV1dHJhbEVsZW1lbnRDb2xvcnMnXG4gIF0sXG4gIG5ldXRyYWxFbGVtZW50Q29sb3JzOiBbICd0eXBlJywgTmV1dHJhbEVsZW1lbnRDb2xvcnMgXVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/features/neutral-element-colors/index.js\n");

/***/ }),

/***/ "./lib/features/notifications/Notifications.js":
/*!*****************************************************!*\
  !*** ./lib/features/notifications/Notifications.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Notifications)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/node_modules/domify/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(min_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../icons */ \"./lib/icons/index.js\");\n\n\n\n\n\n\n\nconst NOTIFICATION_TIME_TO_LIVE = 2000; // ms\n\nconst INFO_ICON = (0,_icons__WEBPACK_IMPORTED_MODULE_0__.InfoIcon)();\n\n\nfunction Notifications(eventBus, canvas, scopeFilter) {\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  this._scopeFilter = scopeFilter;\n\n  this._init();\n\n  eventBus.on([\n    _util_EventHelper__WEBPACK_IMPORTED_MODULE_1__.TOGGLE_MODE_EVENT,\n    _util_EventHelper__WEBPACK_IMPORTED_MODULE_1__.RESET_SIMULATION_EVENT\n  ], event => {\n    this.clear();\n  });\n}\n\nNotifications.prototype._init = function() {\n  this.container = min_dom__WEBPACK_IMPORTED_MODULE_2___default()('<div class=\"bts-notifications\"></div>');\n\n  this._canvas.getContainer().appendChild(this.container);\n};\n\nNotifications.prototype.showNotification = function(options) {\n\n  const {\n    text,\n    type = 'info',\n    icon = INFO_ICON,\n    scope,\n    ttl = NOTIFICATION_TIME_TO_LIVE\n  } = options;\n\n  if (scope && !this._scopeFilter.isShown(scope)) {\n    return;\n  }\n\n  const iconMarkup = icon.startsWith('<')\n    ? icon\n    : `<i class=\"${ icon }\"></i>`;\n\n  const colors = scope && scope.colors;\n\n  const colorMarkup = colors ? `style=\"color: ${colors.auxiliary}; background: ${colors.primary}\"` : '';\n\n  const notification = min_dom__WEBPACK_IMPORTED_MODULE_2___default()(`\n    <div class=\"bts-notification ${type}\">\n      <span class=\"bts-icon\">${iconMarkup}</span>\n      <span class=\"bts-text\" title=\"${ text }\">${text}</span>\n      ${ scope ? `<span class=\"bts-scope\" ${colorMarkup}>${scope.id}</span>` : '' }\n    </div>\n  `);\n\n  this.container.appendChild(notification);\n\n  // prevent more than 5 notifications at once\n  while (this.container.children.length > 5) {\n    this.container.children[0].remove();\n  }\n\n  setTimeout(function() {\n    notification.remove();\n  }, ttl);\n};\n\nNotifications.prototype.clear = function() {\n  while (this.container.children.length) {\n    this.container.children[0].remove();\n  }\n};\n\nNotifications.$inject = [\n  'eventBus',\n  'canvas',\n  'scopeFilter'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvbm90aWZpY2F0aW9ucy9Ob3RpZmljYXRpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRWlCOztBQUtlOztBQUlYOzs7QUFHckIsd0NBQXdDOztBQUV4QyxrQkFBa0IsZ0RBQVE7OztBQUdYO0FBQ2Y7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsSUFBSSxnRUFBaUI7QUFDckIsSUFBSSxxRUFBc0I7QUFDMUI7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLG1CQUFtQiw4Q0FBTTs7QUFFekI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLE1BQU07O0FBRTFCOztBQUVBLGdEQUFnRCxtQkFBbUIsY0FBYyxlQUFlOztBQUVoRyx1QkFBdUIsOENBQU07QUFDN0IsbUNBQW1DLEtBQUs7QUFDeEMsK0JBQStCLFdBQVc7QUFDMUMsdUNBQXVDLE1BQU0sSUFBSSxLQUFLO0FBQ3RELFNBQVMsbUNBQW1DLFlBQVksR0FBRyxTQUFTO0FBQ3BFO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvZmVhdHVyZXMvbm90aWZpY2F0aW9ucy9Ob3RpZmljYXRpb25zLmpzPzE0OTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZG9taWZ5XG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBUT0dHTEVfTU9ERV9FVkVOVCxcbiAgUkVTRVRfU0lNVUxBVElPTl9FVkVOVFxufSBmcm9tICcuLi8uLi91dGlsL0V2ZW50SGVscGVyJztcblxuaW1wb3J0IHtcbiAgSW5mb0ljb25cbn0gZnJvbSAnLi4vLi4vaWNvbnMnO1xuXG5cbmNvbnN0IE5PVElGSUNBVElPTl9USU1FX1RPX0xJVkUgPSAyMDAwOyAvLyBtc1xuXG5jb25zdCBJTkZPX0lDT04gPSBJbmZvSWNvbigpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE5vdGlmaWNhdGlvbnMoZXZlbnRCdXMsIGNhbnZhcywgc2NvcGVGaWx0ZXIpIHtcbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICB0aGlzLl9zY29wZUZpbHRlciA9IHNjb3BlRmlsdGVyO1xuXG4gIHRoaXMuX2luaXQoKTtcblxuICBldmVudEJ1cy5vbihbXG4gICAgVE9HR0xFX01PREVfRVZFTlQsXG4gICAgUkVTRVRfU0lNVUxBVElPTl9FVkVOVFxuICBdLCBldmVudCA9PiB7XG4gICAgdGhpcy5jbGVhcigpO1xuICB9KTtcbn1cblxuTm90aWZpY2F0aW9ucy5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jb250YWluZXIgPSBkb21pZnkoJzxkaXYgY2xhc3M9XCJidHMtbm90aWZpY2F0aW9uc1wiPjwvZGl2PicpO1xuXG4gIHRoaXMuX2NhbnZhcy5nZXRDb250YWluZXIoKS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG59O1xuXG5Ob3RpZmljYXRpb25zLnByb3RvdHlwZS5zaG93Tm90aWZpY2F0aW9uID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXG4gIGNvbnN0IHtcbiAgICB0ZXh0LFxuICAgIHR5cGUgPSAnaW5mbycsXG4gICAgaWNvbiA9IElORk9fSUNPTixcbiAgICBzY29wZSxcbiAgICB0dGwgPSBOT1RJRklDQVRJT05fVElNRV9UT19MSVZFXG4gIH0gPSBvcHRpb25zO1xuXG4gIGlmIChzY29wZSAmJiAhdGhpcy5fc2NvcGVGaWx0ZXIuaXNTaG93bihzY29wZSkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBpY29uTWFya3VwID0gaWNvbi5zdGFydHNXaXRoKCc8JylcbiAgICA/IGljb25cbiAgICA6IGA8aSBjbGFzcz1cIiR7IGljb24gfVwiPjwvaT5gO1xuXG4gIGNvbnN0IGNvbG9ycyA9IHNjb3BlICYmIHNjb3BlLmNvbG9ycztcblxuICBjb25zdCBjb2xvck1hcmt1cCA9IGNvbG9ycyA/IGBzdHlsZT1cImNvbG9yOiAke2NvbG9ycy5hdXhpbGlhcnl9OyBiYWNrZ3JvdW5kOiAke2NvbG9ycy5wcmltYXJ5fVwiYCA6ICcnO1xuXG4gIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGRvbWlmeShgXG4gICAgPGRpdiBjbGFzcz1cImJ0cy1ub3RpZmljYXRpb24gJHt0eXBlfVwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCJidHMtaWNvblwiPiR7aWNvbk1hcmt1cH08L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz1cImJ0cy10ZXh0XCIgdGl0bGU9XCIkeyB0ZXh0IH1cIj4ke3RleHR9PC9zcGFuPlxuICAgICAgJHsgc2NvcGUgPyBgPHNwYW4gY2xhc3M9XCJidHMtc2NvcGVcIiAke2NvbG9yTWFya3VwfT4ke3Njb3BlLmlkfTwvc3Bhbj5gIDogJycgfVxuICAgIDwvZGl2PlxuICBgKTtcblxuICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChub3RpZmljYXRpb24pO1xuXG4gIC8vIHByZXZlbnQgbW9yZSB0aGFuIDUgbm90aWZpY2F0aW9ucyBhdCBvbmNlXG4gIHdoaWxlICh0aGlzLmNvbnRhaW5lci5jaGlsZHJlbi5sZW5ndGggPiA1KSB7XG4gICAgdGhpcy5jb250YWluZXIuY2hpbGRyZW5bMF0ucmVtb3ZlKCk7XG4gIH1cblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIG5vdGlmaWNhdGlvbi5yZW1vdmUoKTtcbiAgfSwgdHRsKTtcbn07XG5cbk5vdGlmaWNhdGlvbnMucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIHdoaWxlICh0aGlzLmNvbnRhaW5lci5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICB0aGlzLmNvbnRhaW5lci5jaGlsZHJlblswXS5yZW1vdmUoKTtcbiAgfVxufTtcblxuTm90aWZpY2F0aW9ucy4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnY2FudmFzJyxcbiAgJ3Njb3BlRmlsdGVyJ1xuXTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/features/notifications/Notifications.js\n");

/***/ }),

/***/ "./lib/features/notifications/index.js":
/*!*********************************************!*\
  !*** ./lib/features/notifications/index.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _scope_filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scope-filter */ \"./lib/features/scope-filter/index.js\");\n/* harmony import */ var _Notifications__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Notifications */ \"./lib/features/notifications/Notifications.js\");\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _scope_filter__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n  ],\n  notifications: [ 'type', _Notifications__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvbm90aWZpY2F0aW9ucy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0Q7O0FBRUo7O0FBRTVDLGlFQUFlO0FBQ2Y7QUFDQSxJQUFJLHFEQUFpQjtBQUNyQjtBQUNBLDJCQUEyQixzREFBYTtBQUN4QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2ZlYXR1cmVzL25vdGlmaWNhdGlvbnMvaW5kZXguanM/Y2JlMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2NvcGVGaWx0ZXJNb2R1bGUgZnJvbSAnLi4vc2NvcGUtZmlsdGVyJztcblxuaW1wb3J0IE5vdGlmaWNhdGlvbnMgZnJvbSAnLi9Ob3RpZmljYXRpb25zJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIFNjb3BlRmlsdGVyTW9kdWxlXG4gIF0sXG4gIG5vdGlmaWNhdGlvbnM6IFsgJ3R5cGUnLCBOb3RpZmljYXRpb25zIF1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/notifications/index.js\n");

/***/ }),

/***/ "./lib/features/palette/Palette.js":
/*!*****************************************!*\
  !*** ./lib/features/palette/Palette.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Palette)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/dist/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/node_modules/domify/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(min_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n\r\n\r\n\r\n\r\n\r\nfunction Palette(eventBus, canvas) {\r\n  var self = this;\r\n\r\n  this._canvas = canvas;\r\n\r\n  this.entries = [];\r\n\r\n  this._init();\r\n\r\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.TOGGLE_MODE_EVENT, function(context) {\r\n    var active = context.active;\r\n\r\n    if (active) {\r\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(self.container).remove('hidden');\r\n    } else {\r\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(self.container).add('hidden');\r\n    }\r\n  });\r\n}\r\n\r\nPalette.prototype._init = function() {\r\n  this.container = min_dom__WEBPACK_IMPORTED_MODULE_2___default()('<div class=\"bts-palette hidden\"></div>');\r\n\r\n  this._canvas.getContainer().appendChild(this.container);\r\n};\r\n\r\nPalette.prototype.addEntry = function(entry, index) {\r\n  var childIndex = 0;\r\n\r\n  this.entries.forEach(function(entry) {\r\n    if (index >= entry.index) {\r\n      childIndex++;\r\n    }\r\n  });\r\n\r\n  this.container.insertBefore(entry, this.container.childNodes[childIndex]);\r\n\r\n  this.entries.push({\r\n    entry: entry,\r\n    index: index\r\n  });\r\n};\r\n\r\nPalette.$inject = [ 'eventBus', 'canvas' ];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvcGFsZXR0ZS9QYWxldHRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR2lCO0FBQ2pCO0FBR2dDO0FBQ2hDO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdFQUFpQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxNQUFNLGdEQUFVO0FBQ2hCLE1BQU07QUFDTixNQUFNLGdEQUFVO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw4Q0FBTTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvZmVhdHVyZXMvcGFsZXR0ZS9QYWxldHRlLmpzPzg0ZTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBkb21pZnksXHJcbiAgY2xhc3NlcyBhcyBkb21DbGFzc2VzXHJcbn0gZnJvbSAnbWluLWRvbSc7XHJcblxyXG5pbXBvcnQge1xyXG4gIFRPR0dMRV9NT0RFX0VWRU5UXHJcbn0gZnJvbSAnLi4vLi4vdXRpbC9FdmVudEhlbHBlcic7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGFsZXR0ZShldmVudEJ1cywgY2FudmFzKSB7XHJcbiAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XHJcblxyXG4gIHRoaXMuZW50cmllcyA9IFtdO1xyXG5cclxuICB0aGlzLl9pbml0KCk7XHJcblxyXG4gIGV2ZW50QnVzLm9uKFRPR0dMRV9NT0RFX0VWRU5ULCBmdW5jdGlvbihjb250ZXh0KSB7XHJcbiAgICB2YXIgYWN0aXZlID0gY29udGV4dC5hY3RpdmU7XHJcblxyXG4gICAgaWYgKGFjdGl2ZSkge1xyXG4gICAgICBkb21DbGFzc2VzKHNlbGYuY29udGFpbmVyKS5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZG9tQ2xhc3NlcyhzZWxmLmNvbnRhaW5lcikuYWRkKCdoaWRkZW4nKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuUGFsZXR0ZS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHtcclxuICB0aGlzLmNvbnRhaW5lciA9IGRvbWlmeSgnPGRpdiBjbGFzcz1cImJ0cy1wYWxldHRlIGhpZGRlblwiPjwvZGl2PicpO1xyXG5cclxuICB0aGlzLl9jYW52YXMuZ2V0Q29udGFpbmVyKCkuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xyXG59O1xyXG5cclxuUGFsZXR0ZS5wcm90b3R5cGUuYWRkRW50cnkgPSBmdW5jdGlvbihlbnRyeSwgaW5kZXgpIHtcclxuICB2YXIgY2hpbGRJbmRleCA9IDA7XHJcblxyXG4gIHRoaXMuZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uKGVudHJ5KSB7XHJcbiAgICBpZiAoaW5kZXggPj0gZW50cnkuaW5kZXgpIHtcclxuICAgICAgY2hpbGRJbmRleCsrO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB0aGlzLmNvbnRhaW5lci5pbnNlcnRCZWZvcmUoZW50cnksIHRoaXMuY29udGFpbmVyLmNoaWxkTm9kZXNbY2hpbGRJbmRleF0pO1xyXG5cclxuICB0aGlzLmVudHJpZXMucHVzaCh7XHJcbiAgICBlbnRyeTogZW50cnksXHJcbiAgICBpbmRleDogaW5kZXhcclxuICB9KTtcclxufTtcclxuXHJcblBhbGV0dGUuJGluamVjdCA9IFsgJ2V2ZW50QnVzJywgJ2NhbnZhcycgXTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/features/palette/Palette.js\n");

/***/ }),

/***/ "./lib/features/palette/index.js":
/*!***************************************!*\
  !*** ./lib/features/palette/index.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Palette__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Palette */ \"./lib/features/palette/Palette.js\");\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [\n    'tokenSimulationPalette'\n  ],\n  tokenSimulationPalette: [ 'type', _Palette__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvcGFsZXR0ZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnQzs7QUFFaEMsaUVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsZ0RBQU87QUFDM0MsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9mZWF0dXJlcy9wYWxldHRlL2luZGV4LmpzPzQ1NDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBhbGV0dGUgZnJvbSAnLi9QYWxldHRlJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogW1xuICAgICd0b2tlblNpbXVsYXRpb25QYWxldHRlJ1xuICBdLFxuICB0b2tlblNpbXVsYXRpb25QYWxldHRlOiBbICd0eXBlJywgUGFsZXR0ZSBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/features/palette/index.js\n");

/***/ }),

/***/ "./lib/features/pause-simulation/PauseSimulation.js":
/*!**********************************************************!*\
  !*** ./lib/features/pause-simulation/PauseSimulation.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PauseSimulation)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/node_modules/domify/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(min_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/dist/index.js\");\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../icons */ \"./lib/icons/index.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst PLAY_MARKUP = (0,_icons__WEBPACK_IMPORTED_MODULE_0__.PlayIcon)();\r\nconst PAUSE_MARKUP = (0,_icons__WEBPACK_IMPORTED_MODULE_0__.PauseIcon)();\r\n\r\nconst HIGH_PRIORITY = 1500;\r\n\r\n\r\nfunction PauseSimulation(\r\n    eventBus, tokenSimulationPalette,\r\n    notifications, canvas) {\r\n\r\n  this._eventBus = eventBus;\r\n  this._tokenSimulationPalette = tokenSimulationPalette;\r\n  this._notifications = notifications;\r\n\r\n  this.canvasParent = canvas.getContainer().parentNode;\r\n\r\n  this.isActive = false;\r\n  this.isPaused = true;\r\n\r\n  this._init();\r\n\r\n  // unpause on simulation start\r\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_1__.SCOPE_CREATE_EVENT, HIGH_PRIORITY, event => {\r\n    this.activate();\r\n    this.unpause();\r\n  });\r\n\r\n  eventBus.on([\r\n    _util_EventHelper__WEBPACK_IMPORTED_MODULE_1__.RESET_SIMULATION_EVENT,\r\n    _util_EventHelper__WEBPACK_IMPORTED_MODULE_1__.TOGGLE_MODE_EVENT\r\n  ], () => {\r\n    this.deactivate();\r\n    this.pause();\r\n  });\r\n\r\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_1__.TRACE_EVENT, HIGH_PRIORITY, event => {\r\n    this.unpause();\r\n  });\r\n}\r\n\r\nPauseSimulation.prototype._init = function() {\r\n  this.paletteEntry = min_dom__WEBPACK_IMPORTED_MODULE_2___default()(`\r\n    <div class=\"bts-entry disabled\" title=\"Play/Pause Simulation\">\r\n      ${ PLAY_MARKUP }\r\n    </div>\r\n  `);\r\n\r\n  min_dom__WEBPACK_IMPORTED_MODULE_3__.event.bind(this.paletteEntry, 'click', this.toggle.bind(this));\r\n\r\n  this._tokenSimulationPalette.addEntry(this.paletteEntry, 1);\r\n};\r\n\r\nPauseSimulation.prototype.toggle = function() {\r\n  if (this.isPaused) {\r\n    this.unpause();\r\n  } else {\r\n    this.pause();\r\n  }\r\n};\r\n\r\nPauseSimulation.prototype.pause = function() {\r\n  if (!this.isActive) {\r\n    return;\r\n  }\r\n\r\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_3__.classes)(this.paletteEntry).remove('active');\r\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_3__.classes)(this.canvasParent).add('paused');\r\n\r\n  this.paletteEntry.innerHTML = PLAY_MARKUP;\r\n\r\n  this._eventBus.fire(_util_EventHelper__WEBPACK_IMPORTED_MODULE_1__.PAUSE_SIMULATION_EVENT);\r\n\r\n  this._notifications.showNotification({\r\n    text: 'Pause Simulation'\r\n  });\r\n\r\n  this.isPaused = true;\r\n};\r\n\r\nPauseSimulation.prototype.unpause = function() {\r\n\r\n  if (!this.isActive || !this.isPaused) {\r\n    return;\r\n  }\r\n\r\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_3__.classes)(this.paletteEntry).add('active');\r\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_3__.classes)(this.canvasParent).remove('paused');\r\n\r\n  this.paletteEntry.innerHTML = PAUSE_MARKUP;\r\n\r\n  this._eventBus.fire(_util_EventHelper__WEBPACK_IMPORTED_MODULE_1__.PLAY_SIMULATION_EVENT);\r\n\r\n  this._notifications.showNotification({\r\n    text: 'Play Simulation'\r\n  });\r\n\r\n  this.isPaused = false;\r\n};\r\n\r\nPauseSimulation.prototype.activate = function() {\r\n  this.isActive = true;\r\n\r\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_3__.classes)(this.paletteEntry).remove('disabled');\r\n};\r\n\r\nPauseSimulation.prototype.deactivate = function() {\r\n  this.isActive = false;\r\n\r\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_3__.classes)(this.paletteEntry).remove('active');\r\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_3__.classes)(this.paletteEntry).add('disabled');\r\n};\r\n\r\nPauseSimulation.$inject = [\r\n  'eventBus',\r\n  'tokenSimulationPalette',\r\n  'notifications',\r\n  'canvas'\r\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvcGF1c2Utc2ltdWxhdGlvbi9QYXVzZVNpbXVsYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBSWlCO0FBQ2pCO0FBUWdDO0FBQ2hDO0FBSXFCO0FBQ3JCO0FBQ0E7QUFDQSxvQkFBb0IsZ0RBQVE7QUFDNUIscUJBQXFCLGlEQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGlFQUFrQjtBQUNoQztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxJQUFJLHFFQUFzQjtBQUMxQixJQUFJLGdFQUFpQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxjQUFjLDBEQUFXO0FBQ3pCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw4Q0FBTTtBQUM1QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxFQUFFLDBDQUFRO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxnREFBVTtBQUNaLEVBQUUsZ0RBQVU7QUFDWjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IscUVBQXNCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsZ0RBQVU7QUFDWixFQUFFLGdEQUFVO0FBQ1o7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG9FQUFxQjtBQUMzQztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLGdEQUFVO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsZ0RBQVU7QUFDWixFQUFFLGdEQUFVO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9mZWF0dXJlcy9wYXVzZS1zaW11bGF0aW9uL1BhdXNlU2ltdWxhdGlvbi5qcz8yMGExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgZG9taWZ5LFxyXG4gIGNsYXNzZXMgYXMgZG9tQ2xhc3NlcyxcclxuICBldmVudCBhcyBkb21FdmVudFxyXG59IGZyb20gJ21pbi1kb20nO1xyXG5cclxuaW1wb3J0IHtcclxuICBUT0dHTEVfTU9ERV9FVkVOVCxcclxuICBQTEFZX1NJTVVMQVRJT05fRVZFTlQsXHJcbiAgUEFVU0VfU0lNVUxBVElPTl9FVkVOVCxcclxuICBSRVNFVF9TSU1VTEFUSU9OX0VWRU5ULFxyXG4gIFNDT1BFX0NSRUFURV9FVkVOVCxcclxuICBUUkFDRV9FVkVOVFxyXG59IGZyb20gJy4uLy4uL3V0aWwvRXZlbnRIZWxwZXInO1xyXG5cclxuaW1wb3J0IHtcclxuICBQbGF5SWNvbixcclxuICBQYXVzZUljb25cclxufSBmcm9tICcuLi8uLi9pY29ucyc7XHJcblxyXG5cclxuY29uc3QgUExBWV9NQVJLVVAgPSBQbGF5SWNvbigpO1xyXG5jb25zdCBQQVVTRV9NQVJLVVAgPSBQYXVzZUljb24oKTtcclxuXHJcbmNvbnN0IEhJR0hfUFJJT1JJVFkgPSAxNTAwO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBhdXNlU2ltdWxhdGlvbihcclxuICAgIGV2ZW50QnVzLCB0b2tlblNpbXVsYXRpb25QYWxldHRlLFxyXG4gICAgbm90aWZpY2F0aW9ucywgY2FudmFzKSB7XHJcblxyXG4gIHRoaXMuX2V2ZW50QnVzID0gZXZlbnRCdXM7XHJcbiAgdGhpcy5fdG9rZW5TaW11bGF0aW9uUGFsZXR0ZSA9IHRva2VuU2ltdWxhdGlvblBhbGV0dGU7XHJcbiAgdGhpcy5fbm90aWZpY2F0aW9ucyA9IG5vdGlmaWNhdGlvbnM7XHJcblxyXG4gIHRoaXMuY2FudmFzUGFyZW50ID0gY2FudmFzLmdldENvbnRhaW5lcigpLnBhcmVudE5vZGU7XHJcblxyXG4gIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcclxuICB0aGlzLmlzUGF1c2VkID0gdHJ1ZTtcclxuXHJcbiAgdGhpcy5faW5pdCgpO1xyXG5cclxuICAvLyB1bnBhdXNlIG9uIHNpbXVsYXRpb24gc3RhcnRcclxuICBldmVudEJ1cy5vbihTQ09QRV9DUkVBVEVfRVZFTlQsIEhJR0hfUFJJT1JJVFksIGV2ZW50ID0+IHtcclxuICAgIHRoaXMuYWN0aXZhdGUoKTtcclxuICAgIHRoaXMudW5wYXVzZSgpO1xyXG4gIH0pO1xyXG5cclxuICBldmVudEJ1cy5vbihbXHJcbiAgICBSRVNFVF9TSU1VTEFUSU9OX0VWRU5ULFxyXG4gICAgVE9HR0xFX01PREVfRVZFTlRcclxuICBdLCAoKSA9PiB7XHJcbiAgICB0aGlzLmRlYWN0aXZhdGUoKTtcclxuICAgIHRoaXMucGF1c2UoKTtcclxuICB9KTtcclxuXHJcbiAgZXZlbnRCdXMub24oVFJBQ0VfRVZFTlQsIEhJR0hfUFJJT1JJVFksIGV2ZW50ID0+IHtcclxuICAgIHRoaXMudW5wYXVzZSgpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5QYXVzZVNpbXVsYXRpb24ucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgdGhpcy5wYWxldHRlRW50cnkgPSBkb21pZnkoYFxyXG4gICAgPGRpdiBjbGFzcz1cImJ0cy1lbnRyeSBkaXNhYmxlZFwiIHRpdGxlPVwiUGxheS9QYXVzZSBTaW11bGF0aW9uXCI+XHJcbiAgICAgICR7IFBMQVlfTUFSS1VQIH1cclxuICAgIDwvZGl2PlxyXG4gIGApO1xyXG5cclxuICBkb21FdmVudC5iaW5kKHRoaXMucGFsZXR0ZUVudHJ5LCAnY2xpY2snLCB0aGlzLnRvZ2dsZS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgdGhpcy5fdG9rZW5TaW11bGF0aW9uUGFsZXR0ZS5hZGRFbnRyeSh0aGlzLnBhbGV0dGVFbnRyeSwgMSk7XHJcbn07XHJcblxyXG5QYXVzZVNpbXVsYXRpb24ucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uKCkge1xyXG4gIGlmICh0aGlzLmlzUGF1c2VkKSB7XHJcbiAgICB0aGlzLnVucGF1c2UoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhpcy5wYXVzZSgpO1xyXG4gIH1cclxufTtcclxuXHJcblBhdXNlU2ltdWxhdGlvbi5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbigpIHtcclxuICBpZiAoIXRoaXMuaXNBY3RpdmUpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGRvbUNsYXNzZXModGhpcy5wYWxldHRlRW50cnkpLnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgZG9tQ2xhc3Nlcyh0aGlzLmNhbnZhc1BhcmVudCkuYWRkKCdwYXVzZWQnKTtcclxuXHJcbiAgdGhpcy5wYWxldHRlRW50cnkuaW5uZXJIVE1MID0gUExBWV9NQVJLVVA7XHJcblxyXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoUEFVU0VfU0lNVUxBVElPTl9FVkVOVCk7XHJcblxyXG4gIHRoaXMuX25vdGlmaWNhdGlvbnMuc2hvd05vdGlmaWNhdGlvbih7XHJcbiAgICB0ZXh0OiAnUGF1c2UgU2ltdWxhdGlvbidcclxuICB9KTtcclxuXHJcbiAgdGhpcy5pc1BhdXNlZCA9IHRydWU7XHJcbn07XHJcblxyXG5QYXVzZVNpbXVsYXRpb24ucHJvdG90eXBlLnVucGF1c2UgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgaWYgKCF0aGlzLmlzQWN0aXZlIHx8ICF0aGlzLmlzUGF1c2VkKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBkb21DbGFzc2VzKHRoaXMucGFsZXR0ZUVudHJ5KS5hZGQoJ2FjdGl2ZScpO1xyXG4gIGRvbUNsYXNzZXModGhpcy5jYW52YXNQYXJlbnQpLnJlbW92ZSgncGF1c2VkJyk7XHJcblxyXG4gIHRoaXMucGFsZXR0ZUVudHJ5LmlubmVySFRNTCA9IFBBVVNFX01BUktVUDtcclxuXHJcbiAgdGhpcy5fZXZlbnRCdXMuZmlyZShQTEFZX1NJTVVMQVRJT05fRVZFTlQpO1xyXG5cclxuICB0aGlzLl9ub3RpZmljYXRpb25zLnNob3dOb3RpZmljYXRpb24oe1xyXG4gICAgdGV4dDogJ1BsYXkgU2ltdWxhdGlvbidcclxuICB9KTtcclxuXHJcbiAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG59O1xyXG5cclxuUGF1c2VTaW11bGF0aW9uLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xyXG5cclxuICBkb21DbGFzc2VzKHRoaXMucGFsZXR0ZUVudHJ5KS5yZW1vdmUoJ2Rpc2FibGVkJyk7XHJcbn07XHJcblxyXG5QYXVzZVNpbXVsYXRpb24ucHJvdG90eXBlLmRlYWN0aXZhdGUgPSBmdW5jdGlvbigpIHtcclxuICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XHJcblxyXG4gIGRvbUNsYXNzZXModGhpcy5wYWxldHRlRW50cnkpLnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgZG9tQ2xhc3Nlcyh0aGlzLnBhbGV0dGVFbnRyeSkuYWRkKCdkaXNhYmxlZCcpO1xyXG59O1xyXG5cclxuUGF1c2VTaW11bGF0aW9uLiRpbmplY3QgPSBbXHJcbiAgJ2V2ZW50QnVzJyxcclxuICAndG9rZW5TaW11bGF0aW9uUGFsZXR0ZScsXHJcbiAgJ25vdGlmaWNhdGlvbnMnLFxyXG4gICdjYW52YXMnXHJcbl07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/pause-simulation/PauseSimulation.js\n");

/***/ }),

/***/ "./lib/features/pause-simulation/index.js":
/*!************************************************!*\
  !*** ./lib/features/pause-simulation/index.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PauseSimulation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PauseSimulation */ \"./lib/features/pause-simulation/PauseSimulation.js\");\n/* harmony import */ var _notifications__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../notifications */ \"./lib/features/notifications/index.js\");\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _notifications__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n  ],\n  __init__: [\n    'pauseSimulation'\n  ],\n  pauseSimulation: [ 'type', _PauseSimulation__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvcGF1c2Utc2ltdWxhdGlvbi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0Q7O0FBRUc7O0FBRW5ELGlFQUFlO0FBQ2Y7QUFDQSxJQUFJLHNEQUFtQjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix3REFBZTtBQUM1QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2ZlYXR1cmVzL3BhdXNlLXNpbXVsYXRpb24vaW5kZXguanM/Yjc1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGF1c2VTaW11bGF0aW9uIGZyb20gJy4vUGF1c2VTaW11bGF0aW9uJztcblxuaW1wb3J0IE5vdGlmaWNhdGlvbnNNb2R1bGUgZnJvbSAnLi4vbm90aWZpY2F0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBOb3RpZmljYXRpb25zTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbXG4gICAgJ3BhdXNlU2ltdWxhdGlvbidcbiAgXSxcbiAgcGF1c2VTaW11bGF0aW9uOiBbICd0eXBlJywgUGF1c2VTaW11bGF0aW9uIF1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/pause-simulation/index.js\n");

/***/ }),

/***/ "./lib/features/reset-simulation/ResetSimulation.js":
/*!**********************************************************!*\
  !*** ./lib/features/reset-simulation/ResetSimulation.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ResetSimulation)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/dist/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/node_modules/domify/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(min_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../icons */ \"./lib/icons/index.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction ResetSimulation(eventBus, tokenSimulationPalette, notifications) {\r\n  this._eventBus = eventBus;\r\n  this._tokenSimulationPalette = tokenSimulationPalette;\r\n  this._notifications = notifications;\r\n\r\n  this._init();\r\n\r\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.SCOPE_CREATE_EVENT, () => {\r\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(this._paletteEntry).remove('disabled');\r\n  });\r\n\r\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.TOGGLE_MODE_EVENT, (event) => {\r\n    const active = this._active = event.active;\r\n\r\n    if (!active) {\r\n      this.resetSimulation();\r\n    }\r\n  });\r\n}\r\n\r\nResetSimulation.prototype._init = function() {\r\n  this._paletteEntry = min_dom__WEBPACK_IMPORTED_MODULE_2___default()(`\r\n    <div class=\"bts-entry disabled\" title=\"Reset Simulation\">\r\n      ${ (0,_icons__WEBPACK_IMPORTED_MODULE_3__.ResetIcon)() }\r\n    </div>\r\n  `);\r\n\r\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.event.bind(this._paletteEntry, 'click', () => {\r\n    this.resetSimulation();\r\n\r\n    this._notifications.showNotification({\r\n      text: 'Reset Simulation',\r\n      type: 'info'\r\n    });\r\n  });\r\n\r\n  this._tokenSimulationPalette.addEntry(this._paletteEntry, 2);\r\n};\r\n\r\nResetSimulation.prototype.resetSimulation = function() {\r\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(this._paletteEntry).add('disabled');\r\n\r\n  this._eventBus.fire(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.RESET_SIMULATION_EVENT);\r\n};\r\n\r\nResetSimulation.$inject = [\r\n  'eventBus',\r\n  'tokenSimulationPalette',\r\n  'notifications'\r\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvcmVzZXQtc2ltdWxhdGlvbi9SZXNldFNpbXVsYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBSWlCO0FBQ2pCO0FBS2dDO0FBQ2hDO0FBR3FCO0FBQ3JCO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsaUVBQWtCO0FBQ2hDLElBQUksZ0RBQVU7QUFDZCxHQUFHO0FBQ0g7QUFDQSxjQUFjLGdFQUFpQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw4Q0FBTTtBQUM3QjtBQUNBLFNBQVMsaURBQVM7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsRUFBRSwwQ0FBUTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLGdEQUFVO0FBQ1o7QUFDQSxzQkFBc0IscUVBQXNCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2ZlYXR1cmVzL3Jlc2V0LXNpbXVsYXRpb24vUmVzZXRTaW11bGF0aW9uLmpzPzQ0OTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBkb21pZnksXHJcbiAgY2xhc3NlcyBhcyBkb21DbGFzc2VzLFxyXG4gIGV2ZW50IGFzIGRvbUV2ZW50XHJcbn0gZnJvbSAnbWluLWRvbSc7XHJcblxyXG5pbXBvcnQge1xyXG4gIFRPR0dMRV9NT0RFX0VWRU5ULFxyXG4gIFJFU0VUX1NJTVVMQVRJT05fRVZFTlQsXHJcbiAgU0NPUEVfQ1JFQVRFX0VWRU5UXHJcbn0gZnJvbSAnLi4vLi4vdXRpbC9FdmVudEhlbHBlcic7XHJcblxyXG5pbXBvcnQge1xyXG4gIFJlc2V0SWNvblxyXG59IGZyb20gJy4uLy4uL2ljb25zJztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZXNldFNpbXVsYXRpb24oZXZlbnRCdXMsIHRva2VuU2ltdWxhdGlvblBhbGV0dGUsIG5vdGlmaWNhdGlvbnMpIHtcclxuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xyXG4gIHRoaXMuX3Rva2VuU2ltdWxhdGlvblBhbGV0dGUgPSB0b2tlblNpbXVsYXRpb25QYWxldHRlO1xyXG4gIHRoaXMuX25vdGlmaWNhdGlvbnMgPSBub3RpZmljYXRpb25zO1xyXG5cclxuICB0aGlzLl9pbml0KCk7XHJcblxyXG4gIGV2ZW50QnVzLm9uKFNDT1BFX0NSRUFURV9FVkVOVCwgKCkgPT4ge1xyXG4gICAgZG9tQ2xhc3Nlcyh0aGlzLl9wYWxldHRlRW50cnkpLnJlbW92ZSgnZGlzYWJsZWQnKTtcclxuICB9KTtcclxuXHJcbiAgZXZlbnRCdXMub24oVE9HR0xFX01PREVfRVZFTlQsIChldmVudCkgPT4ge1xyXG4gICAgY29uc3QgYWN0aXZlID0gdGhpcy5fYWN0aXZlID0gZXZlbnQuYWN0aXZlO1xyXG5cclxuICAgIGlmICghYWN0aXZlKSB7XHJcbiAgICAgIHRoaXMucmVzZXRTaW11bGF0aW9uKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcblJlc2V0U2ltdWxhdGlvbi5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbigpIHtcclxuICB0aGlzLl9wYWxldHRlRW50cnkgPSBkb21pZnkoYFxyXG4gICAgPGRpdiBjbGFzcz1cImJ0cy1lbnRyeSBkaXNhYmxlZFwiIHRpdGxlPVwiUmVzZXQgU2ltdWxhdGlvblwiPlxyXG4gICAgICAkeyBSZXNldEljb24oKSB9XHJcbiAgICA8L2Rpdj5cclxuICBgKTtcclxuXHJcbiAgZG9tRXZlbnQuYmluZCh0aGlzLl9wYWxldHRlRW50cnksICdjbGljaycsICgpID0+IHtcclxuICAgIHRoaXMucmVzZXRTaW11bGF0aW9uKCk7XHJcblxyXG4gICAgdGhpcy5fbm90aWZpY2F0aW9ucy5zaG93Tm90aWZpY2F0aW9uKHtcclxuICAgICAgdGV4dDogJ1Jlc2V0IFNpbXVsYXRpb24nLFxyXG4gICAgICB0eXBlOiAnaW5mbydcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICB0aGlzLl90b2tlblNpbXVsYXRpb25QYWxldHRlLmFkZEVudHJ5KHRoaXMuX3BhbGV0dGVFbnRyeSwgMik7XHJcbn07XHJcblxyXG5SZXNldFNpbXVsYXRpb24ucHJvdG90eXBlLnJlc2V0U2ltdWxhdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gIGRvbUNsYXNzZXModGhpcy5fcGFsZXR0ZUVudHJ5KS5hZGQoJ2Rpc2FibGVkJyk7XHJcblxyXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoUkVTRVRfU0lNVUxBVElPTl9FVkVOVCk7XHJcbn07XHJcblxyXG5SZXNldFNpbXVsYXRpb24uJGluamVjdCA9IFtcclxuICAnZXZlbnRCdXMnLFxyXG4gICd0b2tlblNpbXVsYXRpb25QYWxldHRlJyxcclxuICAnbm90aWZpY2F0aW9ucydcclxuXTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/features/reset-simulation/ResetSimulation.js\n");

/***/ }),

/***/ "./lib/features/reset-simulation/index.js":
/*!************************************************!*\
  !*** ./lib/features/reset-simulation/index.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ResetSimulation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ResetSimulation */ \"./lib/features/reset-simulation/ResetSimulation.js\");\n/* harmony import */ var _notifications__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../notifications */ \"./lib/features/notifications/index.js\");\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _notifications__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n  ],\n  __init__: [\n    'resetSimulation'\n  ],\n  resetSimulation: [ 'type', _ResetSimulation__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvcmVzZXQtc2ltdWxhdGlvbi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0Q7O0FBRUc7O0FBRW5ELGlFQUFlO0FBQ2Y7QUFDQSxJQUFJLHNEQUFtQjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix3REFBZTtBQUM1QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2ZlYXR1cmVzL3Jlc2V0LXNpbXVsYXRpb24vaW5kZXguanM/ZDVkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVzZXRTaW11bGF0aW9uIGZyb20gJy4vUmVzZXRTaW11bGF0aW9uJztcblxuaW1wb3J0IE5vdGlmaWNhdGlvbnNNb2R1bGUgZnJvbSAnLi4vbm90aWZpY2F0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBOb3RpZmljYXRpb25zTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbXG4gICAgJ3Jlc2V0U2ltdWxhdGlvbidcbiAgXSxcbiAgcmVzZXRTaW11bGF0aW9uOiBbICd0eXBlJywgUmVzZXRTaW11bGF0aW9uIF1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/reset-simulation/index.js\n");

/***/ }),

/***/ "./lib/features/scope-filter/ScopeFilter.js":
/*!**************************************************!*\
  !*** ./lib/features/scope-filter/ScopeFilter.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ScopeFilter)\n/* harmony export */ });\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n\n\nconst DEFAULT_SCOPE_FILTER = (s) => true;\n\n\nfunction ScopeFilter(eventBus, simulator) {\n  this._eventBus = eventBus;\n  this._simulator = simulator;\n\n  this._filter = DEFAULT_SCOPE_FILTER;\n\n  eventBus.on([\n    _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.TOGGLE_MODE_EVENT,\n    _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.RESET_SIMULATION_EVENT\n  ], () => {\n    this._filter = DEFAULT_SCOPE_FILTER;\n  });\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.SCOPE_DESTROYED_EVENT, event => {\n\n    const {\n      scope\n    } = event;\n\n    // if we're currently filtering, ensure newly\n    // created instance is shown\n\n    if (this._scope === scope && scope.parent) {\n      this.toggle(scope.parent);\n    }\n  });\n\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.SCOPE_CREATE_EVENT, event => {\n\n    const {\n      scope\n    } = event;\n\n    // if we're currently filtering, ensure newly\n    // created instance is shown\n\n    if (!scope.parent && this._scope && !isAncestor(this._scope, scope)) {\n      this.toggle(null);\n    }\n  });\n}\n\nScopeFilter.prototype.toggle = function(scope) {\n\n  const setFilter = this._scope !== scope;\n\n  this._scope = setFilter ? scope : null;\n\n  this._filter =\n    this._scope\n      ? s => isAncestor(this._scope, s)\n      : s => true;\n\n  this._eventBus.fire(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.SCOPE_FILTER_CHANGED_EVENT, {\n    filter: this._filter,\n    scope: this._scope\n  });\n};\n\nScopeFilter.prototype.isShown = function(scope) {\n\n  if (typeof scope === 'string') {\n    scope = this._simulator.findScope(s => s.id === scope);\n  }\n\n  return scope && this._filter(scope);\n};\n\nScopeFilter.prototype.findScope = function(options) {\n  return this._simulator.findScopes(options).filter(s => this.isShown(s))[0];\n};\n\nScopeFilter.$inject = [\n  'eventBus',\n  'simulator'\n];\n\nfunction isAncestor(parent, scope) {\n  do {\n    if (parent === scope) {\n      return true;\n    }\n  } while ((scope = scope.parent));\n\n  return false;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvc2NvcGUtZmlsdGVyL1Njb3BlRmlsdGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBTWdDOztBQUVoQzs7O0FBR2U7QUFDZjtBQUNBOztBQUVBOztBQUVBO0FBQ0EsSUFBSSxnRUFBaUI7QUFDckIsSUFBSSxxRUFBc0I7QUFDMUI7QUFDQTtBQUNBLEdBQUc7O0FBRUgsY0FBYyxvRUFBcUI7O0FBRW5DO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0gsY0FBYyxpRUFBa0I7O0FBRWhDO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFzQix5RUFBMEI7QUFDaEQ7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9mZWF0dXJlcy9zY29wZS1maWx0ZXIvU2NvcGVGaWx0ZXIuanM/MjE4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBTQ09QRV9GSUxURVJfQ0hBTkdFRF9FVkVOVCxcbiAgVE9HR0xFX01PREVfRVZFTlQsXG4gIFJFU0VUX1NJTVVMQVRJT05fRVZFTlQsXG4gIFNDT1BFX0NSRUFURV9FVkVOVCxcbiAgU0NPUEVfREVTVFJPWUVEX0VWRU5UXG59IGZyb20gJy4uLy4uL3V0aWwvRXZlbnRIZWxwZXInO1xuXG5jb25zdCBERUZBVUxUX1NDT1BFX0ZJTFRFUiA9IChzKSA9PiB0cnVlO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNjb3BlRmlsdGVyKGV2ZW50QnVzLCBzaW11bGF0b3IpIHtcbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fc2ltdWxhdG9yID0gc2ltdWxhdG9yO1xuXG4gIHRoaXMuX2ZpbHRlciA9IERFRkFVTFRfU0NPUEVfRklMVEVSO1xuXG4gIGV2ZW50QnVzLm9uKFtcbiAgICBUT0dHTEVfTU9ERV9FVkVOVCxcbiAgICBSRVNFVF9TSU1VTEFUSU9OX0VWRU5UXG4gIF0sICgpID0+IHtcbiAgICB0aGlzLl9maWx0ZXIgPSBERUZBVUxUX1NDT1BFX0ZJTFRFUjtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oU0NPUEVfREVTVFJPWUVEX0VWRU5ULCBldmVudCA9PiB7XG5cbiAgICBjb25zdCB7XG4gICAgICBzY29wZVxuICAgIH0gPSBldmVudDtcblxuICAgIC8vIGlmIHdlJ3JlIGN1cnJlbnRseSBmaWx0ZXJpbmcsIGVuc3VyZSBuZXdseVxuICAgIC8vIGNyZWF0ZWQgaW5zdGFuY2UgaXMgc2hvd25cblxuICAgIGlmICh0aGlzLl9zY29wZSA9PT0gc2NvcGUgJiYgc2NvcGUucGFyZW50KSB7XG4gICAgICB0aGlzLnRvZ2dsZShzY29wZS5wYXJlbnQpO1xuICAgIH1cbiAgfSk7XG5cblxuICBldmVudEJ1cy5vbihTQ09QRV9DUkVBVEVfRVZFTlQsIGV2ZW50ID0+IHtcblxuICAgIGNvbnN0IHtcbiAgICAgIHNjb3BlXG4gICAgfSA9IGV2ZW50O1xuXG4gICAgLy8gaWYgd2UncmUgY3VycmVudGx5IGZpbHRlcmluZywgZW5zdXJlIG5ld2x5XG4gICAgLy8gY3JlYXRlZCBpbnN0YW5jZSBpcyBzaG93blxuXG4gICAgaWYgKCFzY29wZS5wYXJlbnQgJiYgdGhpcy5fc2NvcGUgJiYgIWlzQW5jZXN0b3IodGhpcy5fc2NvcGUsIHNjb3BlKSkge1xuICAgICAgdGhpcy50b2dnbGUobnVsbCk7XG4gICAgfVxuICB9KTtcbn1cblxuU2NvcGVGaWx0ZXIucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uKHNjb3BlKSB7XG5cbiAgY29uc3Qgc2V0RmlsdGVyID0gdGhpcy5fc2NvcGUgIT09IHNjb3BlO1xuXG4gIHRoaXMuX3Njb3BlID0gc2V0RmlsdGVyID8gc2NvcGUgOiBudWxsO1xuXG4gIHRoaXMuX2ZpbHRlciA9XG4gICAgdGhpcy5fc2NvcGVcbiAgICAgID8gcyA9PiBpc0FuY2VzdG9yKHRoaXMuX3Njb3BlLCBzKVxuICAgICAgOiBzID0+IHRydWU7XG5cbiAgdGhpcy5fZXZlbnRCdXMuZmlyZShTQ09QRV9GSUxURVJfQ0hBTkdFRF9FVkVOVCwge1xuICAgIGZpbHRlcjogdGhpcy5fZmlsdGVyLFxuICAgIHNjb3BlOiB0aGlzLl9zY29wZVxuICB9KTtcbn07XG5cblNjb3BlRmlsdGVyLnByb3RvdHlwZS5pc1Nob3duID0gZnVuY3Rpb24oc2NvcGUpIHtcblxuICBpZiAodHlwZW9mIHNjb3BlID09PSAnc3RyaW5nJykge1xuICAgIHNjb3BlID0gdGhpcy5fc2ltdWxhdG9yLmZpbmRTY29wZShzID0+IHMuaWQgPT09IHNjb3BlKTtcbiAgfVxuXG4gIHJldHVybiBzY29wZSAmJiB0aGlzLl9maWx0ZXIoc2NvcGUpO1xufTtcblxuU2NvcGVGaWx0ZXIucHJvdG90eXBlLmZpbmRTY29wZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRoaXMuX3NpbXVsYXRvci5maW5kU2NvcGVzKG9wdGlvbnMpLmZpbHRlcihzID0+IHRoaXMuaXNTaG93bihzKSlbMF07XG59O1xuXG5TY29wZUZpbHRlci4kaW5qZWN0ID0gW1xuICAnZXZlbnRCdXMnLFxuICAnc2ltdWxhdG9yJ1xuXTtcblxuZnVuY3Rpb24gaXNBbmNlc3RvcihwYXJlbnQsIHNjb3BlKSB7XG4gIGRvIHtcbiAgICBpZiAocGFyZW50ID09PSBzY29wZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9IHdoaWxlICgoc2NvcGUgPSBzY29wZS5wYXJlbnQpKTtcblxuICByZXR1cm4gZmFsc2U7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/scope-filter/ScopeFilter.js\n");

/***/ }),

/***/ "./lib/features/scope-filter/index.js":
/*!********************************************!*\
  !*** ./lib/features/scope-filter/index.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ScopeFilter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ScopeFilter */ \"./lib/features/scope-filter/ScopeFilter.js\");\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  scopeFilter: [ 'type', _ScopeFilter__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvc2NvcGUtZmlsdGVyL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXdDOztBQUV4QyxpRUFBZTtBQUNmLHlCQUF5QixvREFBVztBQUNwQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2ZlYXR1cmVzL3Njb3BlLWZpbHRlci9pbmRleC5qcz8yY2E0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTY29wZUZpbHRlciBmcm9tICcuL1Njb3BlRmlsdGVyJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBzY29wZUZpbHRlcjogWyAndHlwZScsIFNjb3BlRmlsdGVyIF1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/scope-filter/index.js\n");

/***/ }),

/***/ "./lib/features/set-animation-speed/SetAnimationSpeed.js":
/*!***************************************************************!*\
  !*** ./lib/features/set-animation-speed/SetAnimationSpeed.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SetAnimationSpeed)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/dist/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/node_modules/domify/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(min_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../icons */ \"./lib/icons/index.js\");\n\n\n\n\nconst SPEEDS = [\n  [ 'Slow', 0.5 ],\n  [ 'Normal', 1 ],\n  [ 'Fast', 2 ]\n];\n\n\n\n\nfunction SetAnimationSpeed(canvas, animation, eventBus) {\n  this._canvas = canvas;\n  this._animation = animation;\n  this._eventBus = eventBus;\n\n  this._init(animation.getAnimationSpeed());\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.TOGGLE_MODE_EVENT, event => {\n    const active = event.active;\n\n    if (!active) {\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(this._container).add('hidden');\n    } else {\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(this._container).remove('hidden');\n    }\n  });\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.ANIMATION_SPEED_CHANGED_EVENT, event => {\n    this.setActive(event.speed);\n  });\n}\n\nSetAnimationSpeed.prototype.getToggleSpeed = function(element) {\n  return parseFloat(element.dataset.speed);\n};\n\nSetAnimationSpeed.prototype._init = function(animationSpeed) {\n  this._container = min_dom__WEBPACK_IMPORTED_MODULE_2___default()(`\n    <div class=\"bts-set-animation-speed hidden\">\n      ${ (0,_icons__WEBPACK_IMPORTED_MODULE_3__.TachometerIcon)() }\n      <div class=\"bts-animation-speed-buttons\">\n        ${\n          SPEEDS.map(([ label, speed ], idx) => `\n            <button title=\"Set animation speed = ${ label }\" data-speed=\"${ speed }\" class=\"bts-animation-speed-button ${speed === animationSpeed ? 'active' : ''}\">\n              ${\n                Array.from({ length: idx + 1 }).map(\n                  () => (0,_icons__WEBPACK_IMPORTED_MODULE_3__.AngleRightIcon)()\n                ).join('')\n              }\n            </button>\n          `).join('')\n        }\n      </div>\n    </div>\n  `);\n\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.delegate.bind(this._container, '[data-speed]', 'click', event => {\n\n    const toggle = event.delegateTarget;\n\n    const speed = this.getToggleSpeed(toggle);\n\n    this._animation.setAnimationSpeed(speed);\n  });\n\n  this._canvas.getContainer().appendChild(this._container);\n};\n\nSetAnimationSpeed.prototype.setActive = function(speed) {\n  (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.queryAll)('[data-speed]', this._container).forEach(toggle => {\n\n    const active = this.getToggleSpeed(toggle) === speed;\n\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(toggle)[active ? 'add' : 'remove']('active');\n  });\n};\n\nSetAnimationSpeed.$inject = [\n  'canvas',\n  'animation',\n  'eventBus'\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvc2V0LWFuaW1hdGlvbi1zcGVlZC9TZXRBbmltYXRpb25TcGVlZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFLaUI7O0FBS2U7O0FBRWhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBS3FCOzs7QUFHTjtBQUNmO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxjQUFjLGdFQUFpQjtBQUMvQjs7QUFFQTtBQUNBLE1BQU0sZ0RBQVU7QUFDaEIsTUFBTTtBQUNOLE1BQU0sZ0RBQVU7QUFDaEI7QUFDQSxHQUFHOztBQUVILGNBQWMsNEVBQTZCO0FBQzNDO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQiw4Q0FBTTtBQUMxQjtBQUNBLFNBQVMsc0RBQWM7QUFDdkI7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELE9BQU8saUJBQWlCLE9BQU8sc0NBQXNDLHlDQUF5QztBQUNsSztBQUNBLDZCQUE2QixpQkFBaUI7QUFDOUMsd0JBQXdCLHNEQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSw2Q0FBVzs7QUFFYjs7QUFFQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBLEVBQUUsaURBQVc7O0FBRWI7O0FBRUEsSUFBSSxnREFBVTtBQUNkLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2ZlYXR1cmVzL3NldC1hbmltYXRpb24tc3BlZWQvU2V0QW5pbWF0aW9uU3BlZWQuanM/NGVkMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBkb21pZnksXG4gIGNsYXNzZXMgYXMgZG9tQ2xhc3NlcyxcbiAgZGVsZWdhdGUgYXMgZG9tRGVsZWdhdGUsXG4gIHF1ZXJ5QWxsIGFzIGRvbVF1ZXJ5QWxsXG59IGZyb20gJ21pbi1kb20nO1xuXG5pbXBvcnQge1xuICBUT0dHTEVfTU9ERV9FVkVOVCxcbiAgQU5JTUFUSU9OX1NQRUVEX0NIQU5HRURfRVZFTlRcbn0gZnJvbSAnLi4vLi4vdXRpbC9FdmVudEhlbHBlcic7XG5cbmNvbnN0IFNQRUVEUyA9IFtcbiAgWyAnU2xvdycsIDAuNSBdLFxuICBbICdOb3JtYWwnLCAxIF0sXG4gIFsgJ0Zhc3QnLCAyIF1cbl07XG5cbmltcG9ydCB7XG4gIFRhY2hvbWV0ZXJJY29uLFxuICBBbmdsZVJpZ2h0SWNvblxufSBmcm9tICcuLi8uLi9pY29ucyc7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2V0QW5pbWF0aW9uU3BlZWQoY2FudmFzLCBhbmltYXRpb24sIGV2ZW50QnVzKSB7XG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgdGhpcy5fYW5pbWF0aW9uID0gYW5pbWF0aW9uO1xuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xuXG4gIHRoaXMuX2luaXQoYW5pbWF0aW9uLmdldEFuaW1hdGlvblNwZWVkKCkpO1xuXG4gIGV2ZW50QnVzLm9uKFRPR0dMRV9NT0RFX0VWRU5ULCBldmVudCA9PiB7XG4gICAgY29uc3QgYWN0aXZlID0gZXZlbnQuYWN0aXZlO1xuXG4gICAgaWYgKCFhY3RpdmUpIHtcbiAgICAgIGRvbUNsYXNzZXModGhpcy5fY29udGFpbmVyKS5hZGQoJ2hpZGRlbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb21DbGFzc2VzKHRoaXMuX2NvbnRhaW5lcikucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKEFOSU1BVElPTl9TUEVFRF9DSEFOR0VEX0VWRU5ULCBldmVudCA9PiB7XG4gICAgdGhpcy5zZXRBY3RpdmUoZXZlbnQuc3BlZWQpO1xuICB9KTtcbn1cblxuU2V0QW5pbWF0aW9uU3BlZWQucHJvdG90eXBlLmdldFRvZ2dsZVNwZWVkID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gcGFyc2VGbG9hdChlbGVtZW50LmRhdGFzZXQuc3BlZWQpO1xufTtcblxuU2V0QW5pbWF0aW9uU3BlZWQucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oYW5pbWF0aW9uU3BlZWQpIHtcbiAgdGhpcy5fY29udGFpbmVyID0gZG9taWZ5KGBcbiAgICA8ZGl2IGNsYXNzPVwiYnRzLXNldC1hbmltYXRpb24tc3BlZWQgaGlkZGVuXCI+XG4gICAgICAkeyBUYWNob21ldGVySWNvbigpIH1cbiAgICAgIDxkaXYgY2xhc3M9XCJidHMtYW5pbWF0aW9uLXNwZWVkLWJ1dHRvbnNcIj5cbiAgICAgICAgJHtcbiAgICAgICAgICBTUEVFRFMubWFwKChbIGxhYmVsLCBzcGVlZCBdLCBpZHgpID0+IGBcbiAgICAgICAgICAgIDxidXR0b24gdGl0bGU9XCJTZXQgYW5pbWF0aW9uIHNwZWVkID0gJHsgbGFiZWwgfVwiIGRhdGEtc3BlZWQ9XCIkeyBzcGVlZCB9XCIgY2xhc3M9XCJidHMtYW5pbWF0aW9uLXNwZWVkLWJ1dHRvbiAke3NwZWVkID09PSBhbmltYXRpb25TcGVlZCA/ICdhY3RpdmUnIDogJyd9XCI+XG4gICAgICAgICAgICAgICR7XG4gICAgICAgICAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogaWR4ICsgMSB9KS5tYXAoXG4gICAgICAgICAgICAgICAgICAoKSA9PiBBbmdsZVJpZ2h0SWNvbigpXG4gICAgICAgICAgICAgICAgKS5qb2luKCcnKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICBgKS5qb2luKCcnKVxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYCk7XG5cbiAgZG9tRGVsZWdhdGUuYmluZCh0aGlzLl9jb250YWluZXIsICdbZGF0YS1zcGVlZF0nLCAnY2xpY2snLCBldmVudCA9PiB7XG5cbiAgICBjb25zdCB0b2dnbGUgPSBldmVudC5kZWxlZ2F0ZVRhcmdldDtcblxuICAgIGNvbnN0IHNwZWVkID0gdGhpcy5nZXRUb2dnbGVTcGVlZCh0b2dnbGUpO1xuXG4gICAgdGhpcy5fYW5pbWF0aW9uLnNldEFuaW1hdGlvblNwZWVkKHNwZWVkKTtcbiAgfSk7XG5cbiAgdGhpcy5fY2FudmFzLmdldENvbnRhaW5lcigpLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lcik7XG59O1xuXG5TZXRBbmltYXRpb25TcGVlZC5wcm90b3R5cGUuc2V0QWN0aXZlID0gZnVuY3Rpb24oc3BlZWQpIHtcbiAgZG9tUXVlcnlBbGwoJ1tkYXRhLXNwZWVkXScsIHRoaXMuX2NvbnRhaW5lcikuZm9yRWFjaCh0b2dnbGUgPT4ge1xuXG4gICAgY29uc3QgYWN0aXZlID0gdGhpcy5nZXRUb2dnbGVTcGVlZCh0b2dnbGUpID09PSBzcGVlZDtcblxuICAgIGRvbUNsYXNzZXModG9nZ2xlKVthY3RpdmUgPyAnYWRkJyA6ICdyZW1vdmUnXSgnYWN0aXZlJyk7XG4gIH0pO1xufTtcblxuU2V0QW5pbWF0aW9uU3BlZWQuJGluamVjdCA9IFtcbiAgJ2NhbnZhcycsXG4gICdhbmltYXRpb24nLFxuICAnZXZlbnRCdXMnXG5dO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/set-animation-speed/SetAnimationSpeed.js\n");

/***/ }),

/***/ "./lib/features/set-animation-speed/index.js":
/*!***************************************************!*\
  !*** ./lib/features/set-animation-speed/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _SetAnimationSpeed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SetAnimationSpeed */ \"./lib/features/set-animation-speed/SetAnimationSpeed.js\");\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [\n    'setAnimationSpeed'\n  ],\n  setAnimationSpeed: [ 'type', _SetAnimationSpeed__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvc2V0LWFuaW1hdGlvbi1zcGVlZC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFvRDs7QUFFcEQsaUVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMERBQWlCO0FBQ2hELENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvZmVhdHVyZXMvc2V0LWFuaW1hdGlvbi1zcGVlZC9pbmRleC5qcz8yZWUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTZXRBbmltYXRpb25TcGVlZCBmcm9tICcuL1NldEFuaW1hdGlvblNwZWVkJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2luaXRfXzogW1xuICAgICdzZXRBbmltYXRpb25TcGVlZCdcbiAgXSxcbiAgc2V0QW5pbWF0aW9uU3BlZWQ6IFsgJ3R5cGUnLCBTZXRBbmltYXRpb25TcGVlZCBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/features/set-animation-speed/index.js\n");

/***/ }),

/***/ "./lib/features/show-scopes/ShowScopes.js":
/*!************************************************!*\
  !*** ./lib/features/show-scopes/ShowScopes.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ShowScopes)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/dist/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/node_modules/domify/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(min_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n\n\n\n\nconst FILL_COLOR = '--token-simulation-silver-base-97';\nconst STROKE_COLOR = '--token-simulation-green-base-44';\n\nconst ID = 'show-scopes';\n\nconst VERY_HIGH_PRIORITY = 3000;\n\n\nfunction ShowScopes(\n    eventBus,\n    canvas,\n    scopeFilter,\n    elementColors,\n    simulationStyles) {\n\n  this._eventBus = eventBus;\n  this._canvas = canvas;\n  this._scopeFilter = scopeFilter;\n  this._elementColors = elementColors;\n  this._simulationStyles = simulationStyles;\n\n  this._highlight = null;\n\n  this._init();\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.TOGGLE_MODE_EVENT, event => {\n    const active = event.active;\n\n    if (active) {\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(this._container).remove('hidden');\n    } else {\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(this._container).add('hidden');\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.clear)(this._container);\n\n      this.unhighlightScope();\n    }\n  });\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.SCOPE_FILTER_CHANGED_EVENT, event => {\n\n    const allElements = this.getScopeElements();\n\n    for (const element of allElements) {\n      const scopeId = element.dataset.scopeId;\n\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(element).toggle('inactive', !this._scopeFilter.isShown(scopeId));\n    }\n  });\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.SCOPE_CREATE_EVENT, event => {\n    this.addScope(event.scope);\n  });\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.SCOPE_DESTROYED_EVENT, event => {\n    this.removeScope(event.scope);\n  });\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.SCOPE_CHANGED_EVENT, event => {\n    this.updateScope(event.scope);\n  });\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.RESET_SIMULATION_EVENT, () => {\n    this.removeAllInstances();\n  });\n}\n\nShowScopes.prototype._init = function() {\n  this._container = min_dom__WEBPACK_IMPORTED_MODULE_2___default()('<div class=\"bts-scopes hidden\"></div>');\n\n  this._canvas.getContainer().appendChild(this._container);\n};\n\nShowScopes.prototype.addScope = function(scope) {\n\n  const processElements = [\n    'bpmn:Process',\n    'bpmn:SubProcess',\n    'bpmn:Participant'\n  ];\n\n  const {\n    element: scopeElement\n  } = scope;\n\n  if (!processElements.includes(scopeElement.type)) {\n    return;\n  }\n\n  const colors = scope.colors;\n\n  const colorMarkup = colors ? `style=\"color: ${colors.auxiliary}; background: ${colors.primary}\"` : '';\n\n  const html = min_dom__WEBPACK_IMPORTED_MODULE_2___default()(`\n    <div data-scope-id=\"${scope.id}\" class=\"bts-scope\"\n         title=\"View Process Instance ${scope.id}\" ${colorMarkup}>\n      ${scope.getTokens()}\n    </div>\n  `);\n\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.event.bind(html, 'click', () => {\n    this._scopeFilter.toggle(scope);\n  });\n\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.event.bind(html, 'mouseenter', () => {\n    this.highlightScope(scopeElement);\n  });\n\n  min_dom__WEBPACK_IMPORTED_MODULE_1__.event.bind(html, 'mouseleave', () => {\n    this.unhighlightScope();\n  });\n\n  if (!this._scopeFilter.isShown(scope)) {\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(html).add('inactive');\n  }\n\n  this._container.appendChild(html);\n};\n\nShowScopes.prototype.getScopeElements = function() {\n  return (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.queryAll)('[data-scope-id]', this._container);\n};\n\nShowScopes.prototype.getScopeElement = function(scope) {\n  return (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.query)(`[data-scope-id=\"${scope.id}\"]`, this._container);\n};\n\nShowScopes.prototype.updateScope = function(scope) {\n  const element = this.getScopeElement(scope);\n\n  if (element) {\n    element.textContent = scope.getTokens();\n  }\n};\n\nShowScopes.prototype.removeScope = function(scope) {\n  const element = this.getScopeElement(scope);\n\n  if (element) {\n    element.remove();\n  }\n};\n\nShowScopes.prototype.removeAllInstances = function() {\n  this._container.innerHTML = '';\n};\n\nShowScopes.prototype.highlightScope = function(element) {\n\n  this.unhighlightScope();\n\n  this._highlight = element;\n\n  this._elementColors.add(element, ID, this._getHighlightColors(), VERY_HIGH_PRIORITY);\n\n  if (!element.parent) {\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(this._canvas.getContainer()).add('highlight');\n  }\n};\n\nShowScopes.prototype.unhighlightScope = function() {\n\n  if (!this._highlight) {\n    return;\n  }\n\n  const element = this._highlight;\n\n  this._elementColors.remove(element, ID);\n\n  if (!element.parent) {\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(this._canvas.getContainer()).remove('highlight');\n  }\n\n  this._highlight = null;\n};\n\nShowScopes.prototype._getHighlightColors = function() {\n  return {\n    fill: this._simulationStyles.get(FILL_COLOR),\n    stroke: this._simulationStyles.get(STROKE_COLOR)\n  };\n};\n\nShowScopes.$inject = [\n  'eventBus',\n  'canvas',\n  'scopeFilter',\n  'elementColors',\n  'simulationStyles'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvc2hvdy1zY29wZXMvU2hvd1Njb3Blcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQU9pQjs7QUFTZTs7QUFFaEM7QUFDQTs7QUFFQTs7QUFFQTs7O0FBR2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsY0FBYyxnRUFBaUI7QUFDL0I7O0FBRUE7QUFDQSxNQUFNLGdEQUFVO0FBQ2hCLE1BQU07QUFDTixNQUFNLGdEQUFVO0FBQ2hCLE1BQU0sOENBQVE7O0FBRWQ7QUFDQTtBQUNBLEdBQUc7O0FBRUgsY0FBYyx5RUFBMEI7O0FBRXhDOztBQUVBO0FBQ0E7O0FBRUEsTUFBTSxnREFBVTtBQUNoQjtBQUNBLEdBQUc7O0FBRUgsY0FBYyxpRUFBa0I7QUFDaEM7QUFDQSxHQUFHOztBQUVILGNBQWMsb0VBQXFCO0FBQ25DO0FBQ0EsR0FBRzs7QUFFSCxjQUFjLGtFQUFtQjtBQUNqQztBQUNBLEdBQUc7O0FBRUgsY0FBYyxxRUFBc0I7QUFDcEM7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxvQkFBb0IsOENBQU07O0FBRTFCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsZ0RBQWdELG1CQUFtQixjQUFjLGVBQWU7O0FBRWhHLGVBQWUsOENBQU07QUFDckIsMEJBQTBCLFNBQVM7QUFDbkMsd0NBQXdDLFNBQVMsSUFBSSxZQUFZO0FBQ2pFLFFBQVE7QUFDUjtBQUNBOztBQUVBLEVBQUUsMENBQVE7QUFDVjtBQUNBLEdBQUc7O0FBRUgsRUFBRSwwQ0FBUTtBQUNWO0FBQ0EsR0FBRzs7QUFFSCxFQUFFLDBDQUFRO0FBQ1Y7QUFDQSxHQUFHOztBQUVIO0FBQ0EsSUFBSSxnREFBVTtBQUNkOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLGlEQUFXO0FBQ3BCOztBQUVBO0FBQ0EsU0FBUyw4Q0FBUSxvQkFBb0IsU0FBUztBQUM5Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsSUFBSSxnREFBVTtBQUNkO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsSUFBSSxnREFBVTtBQUNkOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2ZlYXR1cmVzL3Nob3ctc2NvcGVzL1Nob3dTY29wZXMuanM/YmFkZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBkb21pZnksXG4gIGNsYXNzZXMgYXMgZG9tQ2xhc3NlcyxcbiAgZXZlbnQgYXMgZG9tRXZlbnQsXG4gIHF1ZXJ5IGFzIGRvbVF1ZXJ5LFxuICBxdWVyeUFsbCBhcyBkb21RdWVyeUFsbCxcbiAgY2xlYXIgYXMgZG9tQ2xlYXJcbn0gZnJvbSAnbWluLWRvbSc7XG5cbmltcG9ydCB7XG4gIFRPR0dMRV9NT0RFX0VWRU5ULFxuICBTQ09QRV9DUkVBVEVfRVZFTlQsXG4gIFNDT1BFX0NIQU5HRURfRVZFTlQsXG4gIFNDT1BFX0ZJTFRFUl9DSEFOR0VEX0VWRU5ULFxuICBTQ09QRV9ERVNUUk9ZRURfRVZFTlQsXG4gIFJFU0VUX1NJTVVMQVRJT05fRVZFTlQsXG59IGZyb20gJy4uLy4uL3V0aWwvRXZlbnRIZWxwZXInO1xuXG5jb25zdCBGSUxMX0NPTE9SID0gJy0tdG9rZW4tc2ltdWxhdGlvbi1zaWx2ZXItYmFzZS05Nyc7XG5jb25zdCBTVFJPS0VfQ09MT1IgPSAnLS10b2tlbi1zaW11bGF0aW9uLWdyZWVuLWJhc2UtNDQnO1xuXG5jb25zdCBJRCA9ICdzaG93LXNjb3Blcyc7XG5cbmNvbnN0IFZFUllfSElHSF9QUklPUklUWSA9IDMwMDA7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2hvd1Njb3BlcyhcbiAgICBldmVudEJ1cyxcbiAgICBjYW52YXMsXG4gICAgc2NvcGVGaWx0ZXIsXG4gICAgZWxlbWVudENvbG9ycyxcbiAgICBzaW11bGF0aW9uU3R5bGVzKSB7XG5cbiAgdGhpcy5fZXZlbnRCdXMgPSBldmVudEJ1cztcbiAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICB0aGlzLl9zY29wZUZpbHRlciA9IHNjb3BlRmlsdGVyO1xuICB0aGlzLl9lbGVtZW50Q29sb3JzID0gZWxlbWVudENvbG9ycztcbiAgdGhpcy5fc2ltdWxhdGlvblN0eWxlcyA9IHNpbXVsYXRpb25TdHlsZXM7XG5cbiAgdGhpcy5faGlnaGxpZ2h0ID0gbnVsbDtcblxuICB0aGlzLl9pbml0KCk7XG5cbiAgZXZlbnRCdXMub24oVE9HR0xFX01PREVfRVZFTlQsIGV2ZW50ID0+IHtcbiAgICBjb25zdCBhY3RpdmUgPSBldmVudC5hY3RpdmU7XG5cbiAgICBpZiAoYWN0aXZlKSB7XG4gICAgICBkb21DbGFzc2VzKHRoaXMuX2NvbnRhaW5lcikucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9tQ2xhc3Nlcyh0aGlzLl9jb250YWluZXIpLmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb21DbGVhcih0aGlzLl9jb250YWluZXIpO1xuXG4gICAgICB0aGlzLnVuaGlnaGxpZ2h0U2NvcGUoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFNDT1BFX0ZJTFRFUl9DSEFOR0VEX0VWRU5ULCBldmVudCA9PiB7XG5cbiAgICBjb25zdCBhbGxFbGVtZW50cyA9IHRoaXMuZ2V0U2NvcGVFbGVtZW50cygpO1xuXG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGFsbEVsZW1lbnRzKSB7XG4gICAgICBjb25zdCBzY29wZUlkID0gZWxlbWVudC5kYXRhc2V0LnNjb3BlSWQ7XG5cbiAgICAgIGRvbUNsYXNzZXMoZWxlbWVudCkudG9nZ2xlKCdpbmFjdGl2ZScsICF0aGlzLl9zY29wZUZpbHRlci5pc1Nob3duKHNjb3BlSWQpKTtcbiAgICB9XG4gIH0pO1xuXG4gIGV2ZW50QnVzLm9uKFNDT1BFX0NSRUFURV9FVkVOVCwgZXZlbnQgPT4ge1xuICAgIHRoaXMuYWRkU2NvcGUoZXZlbnQuc2NvcGUpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbihTQ09QRV9ERVNUUk9ZRURfRVZFTlQsIGV2ZW50ID0+IHtcbiAgICB0aGlzLnJlbW92ZVNjb3BlKGV2ZW50LnNjb3BlKTtcbiAgfSk7XG5cbiAgZXZlbnRCdXMub24oU0NPUEVfQ0hBTkdFRF9FVkVOVCwgZXZlbnQgPT4ge1xuICAgIHRoaXMudXBkYXRlU2NvcGUoZXZlbnQuc2NvcGUpO1xuICB9KTtcblxuICBldmVudEJ1cy5vbihSRVNFVF9TSU1VTEFUSU9OX0VWRU5ULCAoKSA9PiB7XG4gICAgdGhpcy5yZW1vdmVBbGxJbnN0YW5jZXMoKTtcbiAgfSk7XG59XG5cblNob3dTY29wZXMucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NvbnRhaW5lciA9IGRvbWlmeSgnPGRpdiBjbGFzcz1cImJ0cy1zY29wZXMgaGlkZGVuXCI+PC9kaXY+Jyk7XG5cbiAgdGhpcy5fY2FudmFzLmdldENvbnRhaW5lcigpLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lcik7XG59O1xuXG5TaG93U2NvcGVzLnByb3RvdHlwZS5hZGRTY29wZSA9IGZ1bmN0aW9uKHNjb3BlKSB7XG5cbiAgY29uc3QgcHJvY2Vzc0VsZW1lbnRzID0gW1xuICAgICdicG1uOlByb2Nlc3MnLFxuICAgICdicG1uOlN1YlByb2Nlc3MnLFxuICAgICdicG1uOlBhcnRpY2lwYW50J1xuICBdO1xuXG4gIGNvbnN0IHtcbiAgICBlbGVtZW50OiBzY29wZUVsZW1lbnRcbiAgfSA9IHNjb3BlO1xuXG4gIGlmICghcHJvY2Vzc0VsZW1lbnRzLmluY2x1ZGVzKHNjb3BlRWxlbWVudC50eXBlKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNvbG9ycyA9IHNjb3BlLmNvbG9ycztcblxuICBjb25zdCBjb2xvck1hcmt1cCA9IGNvbG9ycyA/IGBzdHlsZT1cImNvbG9yOiAke2NvbG9ycy5hdXhpbGlhcnl9OyBiYWNrZ3JvdW5kOiAke2NvbG9ycy5wcmltYXJ5fVwiYCA6ICcnO1xuXG4gIGNvbnN0IGh0bWwgPSBkb21pZnkoYFxuICAgIDxkaXYgZGF0YS1zY29wZS1pZD1cIiR7c2NvcGUuaWR9XCIgY2xhc3M9XCJidHMtc2NvcGVcIlxuICAgICAgICAgdGl0bGU9XCJWaWV3IFByb2Nlc3MgSW5zdGFuY2UgJHtzY29wZS5pZH1cIiAke2NvbG9yTWFya3VwfT5cbiAgICAgICR7c2NvcGUuZ2V0VG9rZW5zKCl9XG4gICAgPC9kaXY+XG4gIGApO1xuXG4gIGRvbUV2ZW50LmJpbmQoaHRtbCwgJ2NsaWNrJywgKCkgPT4ge1xuICAgIHRoaXMuX3Njb3BlRmlsdGVyLnRvZ2dsZShzY29wZSk7XG4gIH0pO1xuXG4gIGRvbUV2ZW50LmJpbmQoaHRtbCwgJ21vdXNlZW50ZXInLCAoKSA9PiB7XG4gICAgdGhpcy5oaWdobGlnaHRTY29wZShzY29wZUVsZW1lbnQpO1xuICB9KTtcblxuICBkb21FdmVudC5iaW5kKGh0bWwsICdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgIHRoaXMudW5oaWdobGlnaHRTY29wZSgpO1xuICB9KTtcblxuICBpZiAoIXRoaXMuX3Njb3BlRmlsdGVyLmlzU2hvd24oc2NvcGUpKSB7XG4gICAgZG9tQ2xhc3NlcyhodG1sKS5hZGQoJ2luYWN0aXZlJyk7XG4gIH1cblxuICB0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQoaHRtbCk7XG59O1xuXG5TaG93U2NvcGVzLnByb3RvdHlwZS5nZXRTY29wZUVsZW1lbnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBkb21RdWVyeUFsbCgnW2RhdGEtc2NvcGUtaWRdJywgdGhpcy5fY29udGFpbmVyKTtcbn07XG5cblNob3dTY29wZXMucHJvdG90eXBlLmdldFNjb3BlRWxlbWVudCA9IGZ1bmN0aW9uKHNjb3BlKSB7XG4gIHJldHVybiBkb21RdWVyeShgW2RhdGEtc2NvcGUtaWQ9XCIke3Njb3BlLmlkfVwiXWAsIHRoaXMuX2NvbnRhaW5lcik7XG59O1xuXG5TaG93U2NvcGVzLnByb3RvdHlwZS51cGRhdGVTY29wZSA9IGZ1bmN0aW9uKHNjb3BlKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmdldFNjb3BlRWxlbWVudChzY29wZSk7XG5cbiAgaWYgKGVsZW1lbnQpIHtcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gc2NvcGUuZ2V0VG9rZW5zKCk7XG4gIH1cbn07XG5cblNob3dTY29wZXMucHJvdG90eXBlLnJlbW92ZVNjb3BlID0gZnVuY3Rpb24oc2NvcGUpIHtcbiAgY29uc3QgZWxlbWVudCA9IHRoaXMuZ2V0U2NvcGVFbGVtZW50KHNjb3BlKTtcblxuICBpZiAoZWxlbWVudCkge1xuICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gIH1cbn07XG5cblNob3dTY29wZXMucHJvdG90eXBlLnJlbW92ZUFsbEluc3RhbmNlcyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG59O1xuXG5TaG93U2NvcGVzLnByb3RvdHlwZS5oaWdobGlnaHRTY29wZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICB0aGlzLnVuaGlnaGxpZ2h0U2NvcGUoKTtcblxuICB0aGlzLl9oaWdobGlnaHQgPSBlbGVtZW50O1xuXG4gIHRoaXMuX2VsZW1lbnRDb2xvcnMuYWRkKGVsZW1lbnQsIElELCB0aGlzLl9nZXRIaWdobGlnaHRDb2xvcnMoKSwgVkVSWV9ISUdIX1BSSU9SSVRZKTtcblxuICBpZiAoIWVsZW1lbnQucGFyZW50KSB7XG4gICAgZG9tQ2xhc3Nlcyh0aGlzLl9jYW52YXMuZ2V0Q29udGFpbmVyKCkpLmFkZCgnaGlnaGxpZ2h0Jyk7XG4gIH1cbn07XG5cblNob3dTY29wZXMucHJvdG90eXBlLnVuaGlnaGxpZ2h0U2NvcGUgPSBmdW5jdGlvbigpIHtcblxuICBpZiAoIXRoaXMuX2hpZ2hsaWdodCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9oaWdobGlnaHQ7XG5cbiAgdGhpcy5fZWxlbWVudENvbG9ycy5yZW1vdmUoZWxlbWVudCwgSUQpO1xuXG4gIGlmICghZWxlbWVudC5wYXJlbnQpIHtcbiAgICBkb21DbGFzc2VzKHRoaXMuX2NhbnZhcy5nZXRDb250YWluZXIoKSkucmVtb3ZlKCdoaWdobGlnaHQnKTtcbiAgfVxuXG4gIHRoaXMuX2hpZ2hsaWdodCA9IG51bGw7XG59O1xuXG5TaG93U2NvcGVzLnByb3RvdHlwZS5fZ2V0SGlnaGxpZ2h0Q29sb3JzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgZmlsbDogdGhpcy5fc2ltdWxhdGlvblN0eWxlcy5nZXQoRklMTF9DT0xPUiksXG4gICAgc3Ryb2tlOiB0aGlzLl9zaW11bGF0aW9uU3R5bGVzLmdldChTVFJPS0VfQ09MT1IpXG4gIH07XG59O1xuXG5TaG93U2NvcGVzLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdjYW52YXMnLFxuICAnc2NvcGVGaWx0ZXInLFxuICAnZWxlbWVudENvbG9ycycsXG4gICdzaW11bGF0aW9uU3R5bGVzJ1xuXTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/features/show-scopes/ShowScopes.js\n");

/***/ }),

/***/ "./lib/features/show-scopes/index.js":
/*!*******************************************!*\
  !*** ./lib/features/show-scopes/index.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ShowScopes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ShowScopes */ \"./lib/features/show-scopes/ShowScopes.js\");\n/* harmony import */ var _scope_filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scope-filter */ \"./lib/features/scope-filter/index.js\");\n/* harmony import */ var _simulation_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../simulation-styles */ \"./lib/features/simulation-styles/index.js\");\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _scope_filter__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _simulation_styles__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n  ],\n  __init__: [\n    'showScopes'\n  ],\n  showScopes: [ 'type', _ShowScopes__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvc2hvdy1zY29wZXMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFzQzs7QUFFVTtBQUNVOztBQUUxRCxpRUFBZTtBQUNmO0FBQ0EsSUFBSSxxREFBaUI7QUFDckIsSUFBSSwwREFBc0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbURBQVU7QUFDbEMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9mZWF0dXJlcy9zaG93LXNjb3Blcy9pbmRleC5qcz8xMjFhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaG93U2NvcGVzIGZyb20gJy4vU2hvd1Njb3Blcyc7XG5cbmltcG9ydCBTY29wZUZpbHRlck1vZHVsZSBmcm9tICcuLi9zY29wZS1maWx0ZXInO1xuaW1wb3J0IFNpbXVsYXRpb25TdHlsZXNNb2R1bGUgZnJvbSAnLi4vc2ltdWxhdGlvbi1zdHlsZXMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgU2NvcGVGaWx0ZXJNb2R1bGUsXG4gICAgU2ltdWxhdGlvblN0eWxlc01vZHVsZVxuICBdLFxuICBfX2luaXRfXzogW1xuICAgICdzaG93U2NvcGVzJ1xuICBdLFxuICBzaG93U2NvcGVzOiBbICd0eXBlJywgU2hvd1Njb3BlcyBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/features/show-scopes/index.js\n");

/***/ }),

/***/ "./lib/features/simulation-state/SimulationState.js":
/*!**********************************************************!*\
  !*** ./lib/features/simulation-state/SimulationState.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SimulationState)\n/* harmony export */ });\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../icons */ \"./lib/icons/index.js\");\n\n\n\n\n\nfunction SimulationState(\n    eventBus,\n    simulator,\n    elementNotifications) {\n\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.SCOPE_DESTROYED_EVENT, event => {\n    const {\n      scope\n    } = event;\n\n    const {\n      destroyInitiator,\n      element: scopeElement\n    } = scope;\n\n    if (!scope.completed || !destroyInitiator) {\n      return;\n    }\n\n    const processScopes = [\n      'bpmn:Process',\n      'bpmn:Participant'\n    ];\n\n    if (!processScopes.includes(scopeElement.type)) {\n      return;\n    }\n\n    elementNotifications.addElementNotification(destroyInitiator.element, {\n      type: 'success',\n      icon: (0,_icons__WEBPACK_IMPORTED_MODULE_1__.CheckCircleIcon)(),\n      text: 'Finished',\n      scope\n    });\n  });\n}\n\nSimulationState.$inject = [\n  'eventBus',\n  'simulator',\n  'elementNotifications'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvc2ltdWxhdGlvbi1zdGF0ZS9TaW11bGF0aW9uU3RhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRWdDOztBQUlYOzs7QUFHTjtBQUNmO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLG9FQUFxQjtBQUNuQztBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVksdURBQWU7QUFDM0I7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9mZWF0dXJlcy9zaW11bGF0aW9uLXN0YXRlL1NpbXVsYXRpb25TdGF0ZS5qcz9lNTU1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFNDT1BFX0RFU1RST1lFRF9FVkVOVFxufSBmcm9tICcuLi8uLi91dGlsL0V2ZW50SGVscGVyJztcblxuaW1wb3J0IHtcbiAgQ2hlY2tDaXJjbGVJY29uXG59IGZyb20gJy4uLy4uL2ljb25zJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTaW11bGF0aW9uU3RhdGUoXG4gICAgZXZlbnRCdXMsXG4gICAgc2ltdWxhdG9yLFxuICAgIGVsZW1lbnROb3RpZmljYXRpb25zKSB7XG5cbiAgZXZlbnRCdXMub24oU0NPUEVfREVTVFJPWUVEX0VWRU5ULCBldmVudCA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2NvcGVcbiAgICB9ID0gZXZlbnQ7XG5cbiAgICBjb25zdCB7XG4gICAgICBkZXN0cm95SW5pdGlhdG9yLFxuICAgICAgZWxlbWVudDogc2NvcGVFbGVtZW50XG4gICAgfSA9IHNjb3BlO1xuXG4gICAgaWYgKCFzY29wZS5jb21wbGV0ZWQgfHwgIWRlc3Ryb3lJbml0aWF0b3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9jZXNzU2NvcGVzID0gW1xuICAgICAgJ2JwbW46UHJvY2VzcycsXG4gICAgICAnYnBtbjpQYXJ0aWNpcGFudCdcbiAgICBdO1xuXG4gICAgaWYgKCFwcm9jZXNzU2NvcGVzLmluY2x1ZGVzKHNjb3BlRWxlbWVudC50eXBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVsZW1lbnROb3RpZmljYXRpb25zLmFkZEVsZW1lbnROb3RpZmljYXRpb24oZGVzdHJveUluaXRpYXRvci5lbGVtZW50LCB7XG4gICAgICB0eXBlOiAnc3VjY2VzcycsXG4gICAgICBpY29uOiBDaGVja0NpcmNsZUljb24oKSxcbiAgICAgIHRleHQ6ICdGaW5pc2hlZCcsXG4gICAgICBzY29wZVxuICAgIH0pO1xuICB9KTtcbn1cblxuU2ltdWxhdGlvblN0YXRlLiRpbmplY3QgPSBbXG4gICdldmVudEJ1cycsXG4gICdzaW11bGF0b3InLFxuICAnZWxlbWVudE5vdGlmaWNhdGlvbnMnXG5dOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/features/simulation-state/SimulationState.js\n");

/***/ }),

/***/ "./lib/features/simulation-state/index.js":
/*!************************************************!*\
  !*** ./lib/features/simulation-state/index.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _SimulationState__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SimulationState */ \"./lib/features/simulation-state/SimulationState.js\");\n/* harmony import */ var _element_notifications__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../element-notifications */ \"./lib/features/element-notifications/index.js\");\n/* harmony import */ var _notifications__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../notifications */ \"./lib/features/notifications/index.js\");\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _element_notifications__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _notifications__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n  ],\n  __init__: [\n    'simulationState'\n  ],\n  simulationState: [ 'type', _SimulationState__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvc2ltdWxhdGlvbi1zdGF0ZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWdEOztBQUVrQjtBQUNmOztBQUVuRCxpRUFBZTtBQUNmO0FBQ0EsSUFBSSw4REFBMEI7QUFDOUIsSUFBSSxzREFBbUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsd0RBQWU7QUFDNUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9mZWF0dXJlcy9zaW11bGF0aW9uLXN0YXRlL2luZGV4LmpzPzIzYTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNpbXVsYXRpb25TdGF0ZSBmcm9tICcuL1NpbXVsYXRpb25TdGF0ZSc7XG5cbmltcG9ydCBFbGVtZW50Tm90aWZpY2F0aW9uc01vZHVsZSBmcm9tICcuLi9lbGVtZW50LW5vdGlmaWNhdGlvbnMnO1xuaW1wb3J0IE5vdGlmaWNhdGlvbnNNb2R1bGUgZnJvbSAnLi4vbm90aWZpY2F0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19kZXBlbmRzX186IFtcbiAgICBFbGVtZW50Tm90aWZpY2F0aW9uc01vZHVsZSxcbiAgICBOb3RpZmljYXRpb25zTW9kdWxlXG4gIF0sXG4gIF9faW5pdF9fOiBbXG4gICAgJ3NpbXVsYXRpb25TdGF0ZSdcbiAgXSxcbiAgc2ltdWxhdGlvblN0YXRlOiBbICd0eXBlJywgU2ltdWxhdGlvblN0YXRlIF1cbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/simulation-state/index.js\n");

/***/ }),

/***/ "./lib/features/simulation-styles/SimulationStyles.js":
/*!************************************************************!*\
  !*** ./lib/features/simulation-styles/SimulationStyles.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SimulationStyles)\n/* harmony export */ });\nfunction SimulationStyles() {\n  this._cache = {};\n}\n\nSimulationStyles.$inject = [];\n\n\nSimulationStyles.prototype.get = function(prop) {\n\n  const cachedValue = this._cache[prop];\n\n  if (cachedValue) {\n    return cachedValue;\n  }\n\n  if (!this._computedStyle) {\n    this._computedStyle = this._getComputedStyle();\n  }\n\n  return this._cache[prop] = this._computedStyle.getPropertyValue(prop).trim();\n};\n\nSimulationStyles.prototype._getComputedStyle = function() {\n\n  const get = typeof getComputedStyle === 'function'\n    ? getComputedStyle\n    : getComputedStyleMock;\n\n  const element = typeof document !== 'undefined'\n    ? document.documentElement\n    : {};\n\n  return get(element);\n};\n\n\n// helpers //////////////////\n\nfunction getComputedStyleMock() {\n  return {\n    getPropertyValue() {\n      return '';\n    }\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvc2ltdWxhdGlvbi1zdHlsZXMvU2ltdWxhdGlvblN0eWxlcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQWU7QUFDZjtBQUNBOztBQUVBOzs7QUFHQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9mZWF0dXJlcy9zaW11bGF0aW9uLXN0eWxlcy9TaW11bGF0aW9uU3R5bGVzLmpzPzUwNTMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2ltdWxhdGlvblN0eWxlcygpIHtcbiAgdGhpcy5fY2FjaGUgPSB7fTtcbn1cblxuU2ltdWxhdGlvblN0eWxlcy4kaW5qZWN0ID0gW107XG5cblxuU2ltdWxhdGlvblN0eWxlcy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24ocHJvcCkge1xuXG4gIGNvbnN0IGNhY2hlZFZhbHVlID0gdGhpcy5fY2FjaGVbcHJvcF07XG5cbiAgaWYgKGNhY2hlZFZhbHVlKSB7XG4gICAgcmV0dXJuIGNhY2hlZFZhbHVlO1xuICB9XG5cbiAgaWYgKCF0aGlzLl9jb21wdXRlZFN0eWxlKSB7XG4gICAgdGhpcy5fY29tcHV0ZWRTdHlsZSA9IHRoaXMuX2dldENvbXB1dGVkU3R5bGUoKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9jYWNoZVtwcm9wXSA9IHRoaXMuX2NvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShwcm9wKS50cmltKCk7XG59O1xuXG5TaW11bGF0aW9uU3R5bGVzLnByb3RvdHlwZS5fZ2V0Q29tcHV0ZWRTdHlsZSA9IGZ1bmN0aW9uKCkge1xuXG4gIGNvbnN0IGdldCA9IHR5cGVvZiBnZXRDb21wdXRlZFN0eWxlID09PSAnZnVuY3Rpb24nXG4gICAgPyBnZXRDb21wdXRlZFN0eWxlXG4gICAgOiBnZXRDb21wdXRlZFN0eWxlTW9jaztcblxuICBjb25zdCBlbGVtZW50ID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ1xuICAgID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG4gICAgOiB7fTtcblxuICByZXR1cm4gZ2V0KGVsZW1lbnQpO1xufTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlTW9jaygpIHtcbiAgcmV0dXJuIHtcbiAgICBnZXRQcm9wZXJ0eVZhbHVlKCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/features/simulation-styles/SimulationStyles.js\n");

/***/ }),

/***/ "./lib/features/simulation-styles/index.js":
/*!*************************************************!*\
  !*** ./lib/features/simulation-styles/index.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _SimulationStyles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SimulationStyles */ \"./lib/features/simulation-styles/SimulationStyles.js\");\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  simulationStyles: [ 'type', _SimulationStyles__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvc2ltdWxhdGlvbi1zdHlsZXMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBa0Q7O0FBRWxELGlFQUFlO0FBQ2YsOEJBQThCLHlEQUFnQjtBQUM5QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2ZlYXR1cmVzL3NpbXVsYXRpb24tc3R5bGVzL2luZGV4LmpzPzQ0YTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNpbXVsYXRpb25TdHlsZXMgZnJvbSAnLi9TaW11bGF0aW9uU3R5bGVzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBzaW11bGF0aW9uU3R5bGVzOiBbICd0eXBlJywgU2ltdWxhdGlvblN0eWxlcyBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/features/simulation-styles/index.js\n");

/***/ }),

/***/ "./lib/features/toggle-mode/viewer/ToggleMode.js":
/*!*******************************************************!*\
  !*** ./lib/features/toggle-mode/viewer/ToggleMode.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ToggleMode)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/node_modules/domify/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(min_dom__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/dist/index.js\");\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n/* harmony import */ var _icons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../icons */ \"./lib/icons/index.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction ToggleMode(eventBus, canvas, selection) {\r\n  this._eventBus = eventBus;\r\n  this._canvas = canvas;\r\n\r\n  this._active = false;\r\n\r\n  eventBus.on('import.parse.start', () => {\r\n\r\n    if (this._active) {\r\n      this.toggleMode(false);\r\n\r\n      eventBus.once('import.done', () => {\r\n        this.toggleMode(true);\r\n      });\r\n    }\r\n  });\r\n\r\n  eventBus.on('diagram.init', () => {\r\n    this._canvasParent = this._canvas.getContainer().parentNode;\r\n\r\n    this._init();\r\n  });\r\n\r\n  eventBus.on('import.parse.start', () => {\r\n\r\n    if (this._active) {\r\n      this.toggleMode(false);\r\n\r\n      eventBus.once('import.done', () => {\r\n        this.toggleMode(true);\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nToggleMode.prototype._init = function() {\r\n  this._container = min_dom__WEBPACK_IMPORTED_MODULE_0___default()(`\r\n    <div class=\"bts-toggle-mode\">\r\n      Token Simulation <span class=\"bts-toggle\">${ (0,_icons__WEBPACK_IMPORTED_MODULE_1__.ToggleOffIcon)() }</span>\r\n    </div>\r\n  `);\r\n\r\n  min_dom__WEBPACK_IMPORTED_MODULE_2__.event.bind(this._container, 'click', () => this.toggleMode());\r\n\r\n  this._canvas.getContainer().appendChild(this._container);\r\n};\r\n\r\nToggleMode.prototype.toggleMode = function(active = !this._active) {\r\n  if (active === this._active) {\r\n    return;\r\n  }\r\n\r\n  if (active) {\r\n    this._container.innerHTML = `Token Simulation <span class=\"bts-toggle\">${ (0,_icons__WEBPACK_IMPORTED_MODULE_1__.ToggleOnIcon)() }</span>`;\r\n\r\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.classes)(this._canvasParent).add('simulation');\r\n  } else {\r\n    this._container.innerHTML = `Token Simulation <span class=\"bts-toggle\">${ (0,_icons__WEBPACK_IMPORTED_MODULE_1__.ToggleOffIcon)() }</span>`;\r\n\r\n    (0,min_dom__WEBPACK_IMPORTED_MODULE_2__.classes)(this._canvasParent).remove('simulation');\r\n  }\r\n\r\n  this._eventBus.fire(_util_EventHelper__WEBPACK_IMPORTED_MODULE_3__.TOGGLE_MODE_EVENT, {\r\n    active\r\n  });\r\n\r\n  this._active = active;\r\n};\r\n\r\nToggleMode.$inject = [ 'eventBus', 'canvas' ];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvdG9nZ2xlLW1vZGUvdmlld2VyL1RvZ2dsZU1vZGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBSWlCO0FBQ2pCO0FBR21DO0FBQ25DO0FBSXdCO0FBQ3hCO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhDQUFNO0FBQzFCO0FBQ0EsbURBQW1ELHFEQUFhLElBQUk7QUFDcEU7QUFDQTtBQUNBO0FBQ0EsRUFBRSwwQ0FBUTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLG9EQUFZLElBQUk7QUFDOUY7QUFDQSxJQUFJLGdEQUFVO0FBQ2QsSUFBSTtBQUNKLDhFQUE4RSxxREFBYSxJQUFJO0FBQy9GO0FBQ0EsSUFBSSxnREFBVTtBQUNkO0FBQ0E7QUFDQSxzQkFBc0IsZ0VBQWlCO0FBQ3ZDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvZmVhdHVyZXMvdG9nZ2xlLW1vZGUvdmlld2VyL1RvZ2dsZU1vZGUuanM/ODgyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIGRvbWlmeSxcclxuICBjbGFzc2VzIGFzIGRvbUNsYXNzZXMsXHJcbiAgZXZlbnQgYXMgZG9tRXZlbnRcclxufSBmcm9tICdtaW4tZG9tJztcclxuXHJcbmltcG9ydCB7XHJcbiAgVE9HR0xFX01PREVfRVZFTlRcclxufSBmcm9tICcuLi8uLi8uLi91dGlsL0V2ZW50SGVscGVyJztcclxuXHJcbmltcG9ydCB7XHJcbiAgVG9nZ2xlT2ZmSWNvbixcclxuICBUb2dnbGVPbkljb25cclxufSBmcm9tICcuLi8uLi8uLi9pY29ucyc7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVG9nZ2xlTW9kZShldmVudEJ1cywgY2FudmFzLCBzZWxlY3Rpb24pIHtcclxuICB0aGlzLl9ldmVudEJ1cyA9IGV2ZW50QnVzO1xyXG4gIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcclxuXHJcbiAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XHJcblxyXG4gIGV2ZW50QnVzLm9uKCdpbXBvcnQucGFyc2Uuc3RhcnQnLCAoKSA9PiB7XHJcblxyXG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xyXG4gICAgICB0aGlzLnRvZ2dsZU1vZGUoZmFsc2UpO1xyXG5cclxuICAgICAgZXZlbnRCdXMub25jZSgnaW1wb3J0LmRvbmUnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50b2dnbGVNb2RlKHRydWUpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgZXZlbnRCdXMub24oJ2RpYWdyYW0uaW5pdCcsICgpID0+IHtcclxuICAgIHRoaXMuX2NhbnZhc1BhcmVudCA9IHRoaXMuX2NhbnZhcy5nZXRDb250YWluZXIoKS5wYXJlbnROb2RlO1xyXG5cclxuICAgIHRoaXMuX2luaXQoKTtcclxuICB9KTtcclxuXHJcbiAgZXZlbnRCdXMub24oJ2ltcG9ydC5wYXJzZS5zdGFydCcsICgpID0+IHtcclxuXHJcbiAgICBpZiAodGhpcy5fYWN0aXZlKSB7XHJcbiAgICAgIHRoaXMudG9nZ2xlTW9kZShmYWxzZSk7XHJcblxyXG4gICAgICBldmVudEJ1cy5vbmNlKCdpbXBvcnQuZG9uZScsICgpID0+IHtcclxuICAgICAgICB0aGlzLnRvZ2dsZU1vZGUodHJ1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5Ub2dnbGVNb2RlLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gIHRoaXMuX2NvbnRhaW5lciA9IGRvbWlmeShgXHJcbiAgICA8ZGl2IGNsYXNzPVwiYnRzLXRvZ2dsZS1tb2RlXCI+XHJcbiAgICAgIFRva2VuIFNpbXVsYXRpb24gPHNwYW4gY2xhc3M9XCJidHMtdG9nZ2xlXCI+JHsgVG9nZ2xlT2ZmSWNvbigpIH08L3NwYW4+XHJcbiAgICA8L2Rpdj5cclxuICBgKTtcclxuXHJcbiAgZG9tRXZlbnQuYmluZCh0aGlzLl9jb250YWluZXIsICdjbGljaycsICgpID0+IHRoaXMudG9nZ2xlTW9kZSgpKTtcclxuXHJcbiAgdGhpcy5fY2FudmFzLmdldENvbnRhaW5lcigpLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRhaW5lcik7XHJcbn07XHJcblxyXG5Ub2dnbGVNb2RlLnByb3RvdHlwZS50b2dnbGVNb2RlID0gZnVuY3Rpb24oYWN0aXZlID0gIXRoaXMuX2FjdGl2ZSkge1xyXG4gIGlmIChhY3RpdmUgPT09IHRoaXMuX2FjdGl2ZSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgaWYgKGFjdGl2ZSkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9IGBUb2tlbiBTaW11bGF0aW9uIDxzcGFuIGNsYXNzPVwiYnRzLXRvZ2dsZVwiPiR7IFRvZ2dsZU9uSWNvbigpIH08L3NwYW4+YDtcclxuXHJcbiAgICBkb21DbGFzc2VzKHRoaXMuX2NhbnZhc1BhcmVudCkuYWRkKCdzaW11bGF0aW9uJyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSBgVG9rZW4gU2ltdWxhdGlvbiA8c3BhbiBjbGFzcz1cImJ0cy10b2dnbGVcIj4keyBUb2dnbGVPZmZJY29uKCkgfTwvc3Bhbj5gO1xyXG5cclxuICAgIGRvbUNsYXNzZXModGhpcy5fY2FudmFzUGFyZW50KS5yZW1vdmUoJ3NpbXVsYXRpb24nKTtcclxuICB9XHJcblxyXG4gIHRoaXMuX2V2ZW50QnVzLmZpcmUoVE9HR0xFX01PREVfRVZFTlQsIHtcclxuICAgIGFjdGl2ZVxyXG4gIH0pO1xyXG5cclxuICB0aGlzLl9hY3RpdmUgPSBhY3RpdmU7XHJcbn07XHJcblxyXG5Ub2dnbGVNb2RlLiRpbmplY3QgPSBbICdldmVudEJ1cycsICdjYW52YXMnIF07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/features/toggle-mode/viewer/ToggleMode.js\n");

/***/ }),

/***/ "./lib/features/toggle-mode/viewer/index.js":
/*!**************************************************!*\
  !*** ./lib/features/toggle-mode/viewer/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ToggleMode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ToggleMode */ \"./lib/features/toggle-mode/viewer/ToggleMode.js\");\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [\n    'toggleMode'\n  ],\n  toggleMode: [ 'type', _ToggleMode__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvdG9nZ2xlLW1vZGUvdmlld2VyL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXNDOztBQUV0QyxpRUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtREFBVTtBQUNsQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2ZlYXR1cmVzL3RvZ2dsZS1tb2RlL3ZpZXdlci9pbmRleC5qcz9iMTJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBUb2dnbGVNb2RlIGZyb20gJy4vVG9nZ2xlTW9kZSc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19pbml0X186IFtcbiAgICAndG9nZ2xlTW9kZSdcbiAgXSxcbiAgdG9nZ2xlTW9kZTogWyAndHlwZScsIFRvZ2dsZU1vZGUgXVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/features/toggle-mode/viewer/index.js\n");

/***/ }),

/***/ "./lib/features/token-count/TokenCount.js":
/*!************************************************!*\
  !*** ./lib/features/token-count/TokenCount.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TokenCount)\n/* harmony export */ });\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/dist/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! min-dom */ \"./node_modules/min-dom/node_modules/domify/index.js\");\n/* harmony import */ var min_dom__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(min_dom__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _util_ElementHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/ElementHelper */ \"./lib/util/ElementHelper.js\");\n/* harmony import */ var _util_EventHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/EventHelper */ \"./lib/util/EventHelper.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst OFFSET_BOTTOM = 10;\r\nconst OFFSET_LEFT = -15;\r\n\r\nconst LOW_PRIORITY = 500;\r\n\r\nconst DEFAULT_PRIMARY_COLOR = '--token-simulation-green-base-44';\r\nconst DEFAULT_AUXILIARY_COLOR = '--token-simulation-white';\r\n\r\n\r\nfunction TokenCount(\r\n    eventBus, overlays,\r\n    simulator, scopeFilter,\r\n    simulationStyles) {\r\n\r\n  this._overlays = overlays;\r\n  this._scopeFilter = scopeFilter;\r\n  this._simulator = simulator;\r\n  this._simulationStyles = simulationStyles;\r\n\r\n  this.overlayIds = {};\r\n\r\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.ELEMENT_CHANGED_EVENT, LOW_PRIORITY, event => {\r\n\r\n    const {\r\n      element\r\n    } = event;\r\n\r\n    this.removeTokenCounts(element);\r\n    this.addTokenCounts(element);\r\n  });\r\n\r\n  eventBus.on(_util_EventHelper__WEBPACK_IMPORTED_MODULE_0__.SCOPE_FILTER_CHANGED_EVENT, event => {\r\n\r\n    const allElements = (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.queryAll)('.bts-token-count[data-scope-id]', overlays._overlayRoot);\r\n\r\n    for (const element of allElements) {\r\n      const scopeId = element.dataset.scopeId;\r\n\r\n      (0,min_dom__WEBPACK_IMPORTED_MODULE_1__.classes)(element).toggle('inactive', !this._scopeFilter.isShown(scopeId));\r\n    }\r\n  });\r\n}\r\n\r\nTokenCount.prototype.addTokenCounts = function(element) {\r\n\r\n  if ((0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_2__.is)(element, 'bpmn:MessageFlow') || (0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_2__.is)(element, 'bpmn:SequenceFlow')) {\r\n    return;\r\n  }\r\n\r\n  const scopes = this._simulator.findScopes(scope => {\r\n    return (\r\n      !scope.destroyed &&\r\n      scope.children.some(c => !c.destroyed && c.element === element && !c.children.length)\r\n    );\r\n  });\r\n\r\n  this.addTokenCount(element, scopes);\r\n};\r\n\r\nTokenCount.prototype.addTokenCount = function(element, scopes) {\r\n  if (!scopes.length) {\r\n    return;\r\n  }\r\n\r\n  const tokenMarkup = scopes.map(scope => {\r\n    return this._getTokenHTML(element, scope);\r\n  }).join('');\r\n\r\n  const html = min_dom__WEBPACK_IMPORTED_MODULE_3___default()(`\r\n    <div class=\"bts-token-count-parent\">\r\n      ${tokenMarkup}\r\n    </div>\r\n  `);\r\n\r\n  const position = { bottom: OFFSET_BOTTOM, left: OFFSET_LEFT };\r\n\r\n  const overlayId = this._overlays.add(element, 'bts-token-count', {\r\n    position: position,\r\n    html: html,\r\n    show: {\r\n      minZoom: 0.5\r\n    }\r\n  });\r\n\r\n  this.overlayIds[element.id] = overlayId;\r\n};\r\n\r\nTokenCount.prototype.removeTokenCounts = function(element) {\r\n  this.removeTokenCount(element);\r\n};\r\n\r\nTokenCount.prototype.removeTokenCount = function(element) {\r\n  const overlayId = this.overlayIds[element.id];\r\n\r\n  if (!overlayId) {\r\n    return;\r\n  }\r\n\r\n  this._overlays.remove(overlayId);\r\n\r\n  delete this.overlayIds[element.id];\r\n};\r\n\r\nTokenCount.prototype._getTokenHTML = function(element, scope) {\r\n\r\n  const colors = scope.colors || this._getDefaultColors();\r\n\r\n  return `\r\n    <div data-scope-id=\"${scope.id}\" class=\"bts-token-count waiting ${this._scopeFilter.isShown(scope) ? '' : 'inactive' }\"\r\n         style=\"color: ${colors.auxiliary}; background: ${ colors.primary }\">\r\n      ${scope.getTokensByElement(element)}\r\n    </div>\r\n  `;\r\n};\r\n\r\nTokenCount.prototype._getDefaultColors = function() {\r\n  return {\r\n    primary: this._simulationStyles.get(DEFAULT_PRIMARY_COLOR),\r\n    auxiliary: this._simuationStyles.get(DEFAULT_AUXILIARY_COLOR)\r\n  };\r\n};\r\n\r\nTokenCount.$inject = [\r\n  'eventBus',\r\n  'overlays',\r\n  'simulator',\r\n  'scopeFilter',\r\n  'simulationStyles'\r\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvdG9rZW4tY291bnQvVG9rZW5Db3VudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFJaUI7QUFDakI7QUFHa0M7QUFDbEM7QUFJZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsb0VBQXFCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxjQUFjLHlFQUEwQjtBQUN4QztBQUNBLHdCQUF3QixpREFBVztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sZ0RBQVU7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHVEQUFFLGlDQUFpQyx1REFBRTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxlQUFlLDhDQUFNO0FBQ3JCO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixTQUFTLG1DQUFtQyxvREFBb0Q7QUFDMUgseUJBQXlCLG1CQUFtQixlQUFlLGdCQUFnQjtBQUMzRSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL2ZlYXR1cmVzL3Rva2VuLWNvdW50L1Rva2VuQ291bnQuanM/OTZiZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIGRvbWlmeSxcclxuICBxdWVyeUFsbCBhcyBkb21RdWVyeUFsbCxcclxuICBjbGFzc2VzIGFzIGRvbUNsYXNzZXNcclxufSBmcm9tICdtaW4tZG9tJztcclxuXHJcbmltcG9ydCB7XHJcbiAgaXNcclxufSBmcm9tICcuLi8uLi91dGlsL0VsZW1lbnRIZWxwZXInO1xyXG5cclxuaW1wb3J0IHtcclxuICBFTEVNRU5UX0NIQU5HRURfRVZFTlQsXHJcbiAgU0NPUEVfRklMVEVSX0NIQU5HRURfRVZFTlRcclxufSBmcm9tICcuLi8uLi91dGlsL0V2ZW50SGVscGVyJztcclxuXHJcblxyXG5jb25zdCBPRkZTRVRfQk9UVE9NID0gMTA7XHJcbmNvbnN0IE9GRlNFVF9MRUZUID0gLTE1O1xyXG5cclxuY29uc3QgTE9XX1BSSU9SSVRZID0gNTAwO1xyXG5cclxuY29uc3QgREVGQVVMVF9QUklNQVJZX0NPTE9SID0gJy0tdG9rZW4tc2ltdWxhdGlvbi1ncmVlbi1iYXNlLTQ0JztcclxuY29uc3QgREVGQVVMVF9BVVhJTElBUllfQ09MT1IgPSAnLS10b2tlbi1zaW11bGF0aW9uLXdoaXRlJztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUb2tlbkNvdW50KFxyXG4gICAgZXZlbnRCdXMsIG92ZXJsYXlzLFxyXG4gICAgc2ltdWxhdG9yLCBzY29wZUZpbHRlcixcclxuICAgIHNpbXVsYXRpb25TdHlsZXMpIHtcclxuXHJcbiAgdGhpcy5fb3ZlcmxheXMgPSBvdmVybGF5cztcclxuICB0aGlzLl9zY29wZUZpbHRlciA9IHNjb3BlRmlsdGVyO1xyXG4gIHRoaXMuX3NpbXVsYXRvciA9IHNpbXVsYXRvcjtcclxuICB0aGlzLl9zaW11bGF0aW9uU3R5bGVzID0gc2ltdWxhdGlvblN0eWxlcztcclxuXHJcbiAgdGhpcy5vdmVybGF5SWRzID0ge307XHJcblxyXG4gIGV2ZW50QnVzLm9uKEVMRU1FTlRfQ0hBTkdFRF9FVkVOVCwgTE9XX1BSSU9SSVRZLCBldmVudCA9PiB7XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBlbGVtZW50XHJcbiAgICB9ID0gZXZlbnQ7XHJcblxyXG4gICAgdGhpcy5yZW1vdmVUb2tlbkNvdW50cyhlbGVtZW50KTtcclxuICAgIHRoaXMuYWRkVG9rZW5Db3VudHMoZWxlbWVudCk7XHJcbiAgfSk7XHJcblxyXG4gIGV2ZW50QnVzLm9uKFNDT1BFX0ZJTFRFUl9DSEFOR0VEX0VWRU5ULCBldmVudCA9PiB7XHJcblxyXG4gICAgY29uc3QgYWxsRWxlbWVudHMgPSBkb21RdWVyeUFsbCgnLmJ0cy10b2tlbi1jb3VudFtkYXRhLXNjb3BlLWlkXScsIG92ZXJsYXlzLl9vdmVybGF5Um9vdCk7XHJcblxyXG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGFsbEVsZW1lbnRzKSB7XHJcbiAgICAgIGNvbnN0IHNjb3BlSWQgPSBlbGVtZW50LmRhdGFzZXQuc2NvcGVJZDtcclxuXHJcbiAgICAgIGRvbUNsYXNzZXMoZWxlbWVudCkudG9nZ2xlKCdpbmFjdGl2ZScsICF0aGlzLl9zY29wZUZpbHRlci5pc1Nob3duKHNjb3BlSWQpKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuVG9rZW5Db3VudC5wcm90b3R5cGUuYWRkVG9rZW5Db3VudHMgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcblxyXG4gIGlmIChpcyhlbGVtZW50LCAnYnBtbjpNZXNzYWdlRmxvdycpIHx8IGlzKGVsZW1lbnQsICdicG1uOlNlcXVlbmNlRmxvdycpKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCBzY29wZXMgPSB0aGlzLl9zaW11bGF0b3IuZmluZFNjb3BlcyhzY29wZSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAhc2NvcGUuZGVzdHJveWVkICYmXHJcbiAgICAgIHNjb3BlLmNoaWxkcmVuLnNvbWUoYyA9PiAhYy5kZXN0cm95ZWQgJiYgYy5lbGVtZW50ID09PSBlbGVtZW50ICYmICFjLmNoaWxkcmVuLmxlbmd0aClcclxuICAgICk7XHJcbiAgfSk7XHJcblxyXG4gIHRoaXMuYWRkVG9rZW5Db3VudChlbGVtZW50LCBzY29wZXMpO1xyXG59O1xyXG5cclxuVG9rZW5Db3VudC5wcm90b3R5cGUuYWRkVG9rZW5Db3VudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIHNjb3Blcykge1xyXG4gIGlmICghc2NvcGVzLmxlbmd0aCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgdG9rZW5NYXJrdXAgPSBzY29wZXMubWFwKHNjb3BlID0+IHtcclxuICAgIHJldHVybiB0aGlzLl9nZXRUb2tlbkhUTUwoZWxlbWVudCwgc2NvcGUpO1xyXG4gIH0pLmpvaW4oJycpO1xyXG5cclxuICBjb25zdCBodG1sID0gZG9taWZ5KGBcclxuICAgIDxkaXYgY2xhc3M9XCJidHMtdG9rZW4tY291bnQtcGFyZW50XCI+XHJcbiAgICAgICR7dG9rZW5NYXJrdXB9XHJcbiAgICA8L2Rpdj5cclxuICBgKTtcclxuXHJcbiAgY29uc3QgcG9zaXRpb24gPSB7IGJvdHRvbTogT0ZGU0VUX0JPVFRPTSwgbGVmdDogT0ZGU0VUX0xFRlQgfTtcclxuXHJcbiAgY29uc3Qgb3ZlcmxheUlkID0gdGhpcy5fb3ZlcmxheXMuYWRkKGVsZW1lbnQsICdidHMtdG9rZW4tY291bnQnLCB7XHJcbiAgICBwb3NpdGlvbjogcG9zaXRpb24sXHJcbiAgICBodG1sOiBodG1sLFxyXG4gICAgc2hvdzoge1xyXG4gICAgICBtaW5ab29tOiAwLjVcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdGhpcy5vdmVybGF5SWRzW2VsZW1lbnQuaWRdID0gb3ZlcmxheUlkO1xyXG59O1xyXG5cclxuVG9rZW5Db3VudC5wcm90b3R5cGUucmVtb3ZlVG9rZW5Db3VudHMgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgdGhpcy5yZW1vdmVUb2tlbkNvdW50KGVsZW1lbnQpO1xyXG59O1xyXG5cclxuVG9rZW5Db3VudC5wcm90b3R5cGUucmVtb3ZlVG9rZW5Db3VudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICBjb25zdCBvdmVybGF5SWQgPSB0aGlzLm92ZXJsYXlJZHNbZWxlbWVudC5pZF07XHJcblxyXG4gIGlmICghb3ZlcmxheUlkKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICB0aGlzLl9vdmVybGF5cy5yZW1vdmUob3ZlcmxheUlkKTtcclxuXHJcbiAgZGVsZXRlIHRoaXMub3ZlcmxheUlkc1tlbGVtZW50LmlkXTtcclxufTtcclxuXHJcblRva2VuQ291bnQucHJvdG90eXBlLl9nZXRUb2tlbkhUTUwgPSBmdW5jdGlvbihlbGVtZW50LCBzY29wZSkge1xyXG5cclxuICBjb25zdCBjb2xvcnMgPSBzY29wZS5jb2xvcnMgfHwgdGhpcy5fZ2V0RGVmYXVsdENvbG9ycygpO1xyXG5cclxuICByZXR1cm4gYFxyXG4gICAgPGRpdiBkYXRhLXNjb3BlLWlkPVwiJHtzY29wZS5pZH1cIiBjbGFzcz1cImJ0cy10b2tlbi1jb3VudCB3YWl0aW5nICR7dGhpcy5fc2NvcGVGaWx0ZXIuaXNTaG93bihzY29wZSkgPyAnJyA6ICdpbmFjdGl2ZScgfVwiXHJcbiAgICAgICAgIHN0eWxlPVwiY29sb3I6ICR7Y29sb3JzLmF1eGlsaWFyeX07IGJhY2tncm91bmQ6ICR7IGNvbG9ycy5wcmltYXJ5IH1cIj5cclxuICAgICAgJHtzY29wZS5nZXRUb2tlbnNCeUVsZW1lbnQoZWxlbWVudCl9XHJcbiAgICA8L2Rpdj5cclxuICBgO1xyXG59O1xyXG5cclxuVG9rZW5Db3VudC5wcm90b3R5cGUuX2dldERlZmF1bHRDb2xvcnMgPSBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcHJpbWFyeTogdGhpcy5fc2ltdWxhdGlvblN0eWxlcy5nZXQoREVGQVVMVF9QUklNQVJZX0NPTE9SKSxcclxuICAgIGF1eGlsaWFyeTogdGhpcy5fc2ltdWF0aW9uU3R5bGVzLmdldChERUZBVUxUX0FVWElMSUFSWV9DT0xPUilcclxuICB9O1xyXG59O1xyXG5cclxuVG9rZW5Db3VudC4kaW5qZWN0ID0gW1xyXG4gICdldmVudEJ1cycsXHJcbiAgJ292ZXJsYXlzJyxcclxuICAnc2ltdWxhdG9yJyxcclxuICAnc2NvcGVGaWx0ZXInLFxyXG4gICdzaW11bGF0aW9uU3R5bGVzJ1xyXG5dOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/features/token-count/TokenCount.js\n");

/***/ }),

/***/ "./lib/features/token-count/index.js":
/*!*******************************************!*\
  !*** ./lib/features/token-count/index.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _TokenCount__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TokenCount */ \"./lib/features/token-count/TokenCount.js\");\n/* harmony import */ var _scope_filter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scope-filter */ \"./lib/features/scope-filter/index.js\");\n/* harmony import */ var _simulation_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../simulation-styles */ \"./lib/features/simulation-styles/index.js\");\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _scope_filter__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    _simulation_styles__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n  ],\n  __init__: [\n    'tokenCount'\n  ],\n  tokenCount: [ 'type', _TokenCount__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmVhdHVyZXMvdG9rZW4tY291bnQvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFzQzs7QUFFVTtBQUNVOztBQUUxRCxpRUFBZTtBQUNmO0FBQ0EsSUFBSSxxREFBaUI7QUFDckIsSUFBSSwwREFBc0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbURBQVU7QUFDbEMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9mZWF0dXJlcy90b2tlbi1jb3VudC9pbmRleC5qcz8zMTQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBUb2tlbkNvdW50IGZyb20gJy4vVG9rZW5Db3VudCc7XG5cbmltcG9ydCBTY29wZUZpbHRlck1vZHVsZSBmcm9tICcuLi9zY29wZS1maWx0ZXInO1xuaW1wb3J0IFNpbXVsYXRpb25TdHlsZXNNb2R1bGUgZnJvbSAnLi4vc2ltdWxhdGlvbi1zdHlsZXMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZGVwZW5kc19fOiBbXG4gICAgU2NvcGVGaWx0ZXJNb2R1bGUsXG4gICAgU2ltdWxhdGlvblN0eWxlc01vZHVsZVxuICBdLFxuICBfX2luaXRfXzogW1xuICAgICd0b2tlbkNvdW50J1xuICBdLFxuICB0b2tlbkNvdW50OiBbICd0eXBlJywgVG9rZW5Db3VudCBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/features/token-count/index.js\n");

/***/ }),

/***/ "./lib/icons/index.js":
/*!****************************!*\
  !*** ./lib/icons/index.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AngleRightIcon: () => (/* binding */ AngleRightIcon),\n/* harmony export */   CheckCircleIcon: () => (/* binding */ CheckCircleIcon),\n/* harmony export */   ExclamationTriangleIcon: () => (/* binding */ ExclamationTriangleIcon),\n/* harmony export */   ForkIcon: () => (/* binding */ ForkIcon),\n/* harmony export */   InfoIcon: () => (/* binding */ InfoIcon),\n/* harmony export */   LogIcon: () => (/* binding */ LogIcon),\n/* harmony export */   PauseIcon: () => (/* binding */ PauseIcon),\n/* harmony export */   PlayIcon: () => (/* binding */ PlayIcon),\n/* harmony export */   RemovePauseIcon: () => (/* binding */ RemovePauseIcon),\n/* harmony export */   ResetIcon: () => (/* binding */ ResetIcon),\n/* harmony export */   TachometerIcon: () => (/* binding */ TachometerIcon),\n/* harmony export */   TimesCircleIcon: () => (/* binding */ TimesCircleIcon),\n/* harmony export */   TimesIcon: () => (/* binding */ TimesIcon),\n/* harmony export */   ToggleOffIcon: () => (/* binding */ ToggleOffIcon),\n/* harmony export */   ToggleOnIcon: () => (/* binding */ ToggleOnIcon)\n/* harmony export */ });\nvar LogSVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 448 512\\\"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path fill=\\\"currentColor\\\" d=\\\"M12.83 352h262.34A12.82 12.82 0 0 0 288 339.17v-38.34A12.82 12.82 0 0 0 275.17 288H12.83A12.82 12.82 0 0 0 0 300.83v38.34A12.82 12.82 0 0 0 12.83 352zm0-256h262.34A12.82 12.82 0 0 0 288 83.17V44.83A12.82 12.82 0 0 0 275.17 32H12.83A12.82 12.82 0 0 0 0 44.83v38.34A12.82 12.82 0 0 0 12.83 96zM432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z\\\"/></svg>\";\n\nvar AngleRightSVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 256 512\\\"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path fill=\\\"currentColor\\\" d=\\\"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z\\\"/></svg>\";\n\nvar CheckCircleSVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 512 512\\\"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path fill=\\\"currentColor\\\" d=\\\"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z\\\"/></svg>\";\n\nvar ForkSVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 384 512\\\"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path fill=\\\"currentColor\\\" d=\\\"M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 36.4 24.3 67.1 57.5 76.8-.6 16.1-4.2 28.5-11 36.9-15.4 19.2-49.3 22.4-85.2 25.7-28.2 2.6-57.4 5.4-81.3 16.9v-144c32.5-10.2 56-40.5 56-76.3 0-44.2-35.8-80-80-80S0 35.8 0 80c0 35.8 23.5 66.1 56 76.3v199.3C23.5 365.9 0 396.2 0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-34-21.2-63.1-51.2-74.6 3.1-5.2 7.8-9.8 14.9-13.4 16.2-8.2 40.4-10.4 66.1-12.8 42.2-3.9 90-8.4 118.2-43.4 14-17.4 21.1-39.8 21.6-67.9 31.6-10.8 54.4-40.7 54.4-75.9zM80 64c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm0 384c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm224-320c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16z\\\"/></svg>\";\n\nvar ExclamationTriangleSVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 576 512\\\"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path fill=\\\"currentColor\\\" d=\\\"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z\\\"/></svg>\";\n\nvar InfoSVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 192 512\\\"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path fill=\\\"currentColor\\\" d=\\\"M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z\\\"/></svg>\";\n\nvar PauseSVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 448 512\\\"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path fill=\\\"currentColor\\\" d=\\\"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z\\\"/></svg>\";\n\nvar RemovePauseSVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 580.5 448\\\">\\n  <path fill=\\\"currentColor\\\" d=\\\"M112 0C85 0 64 22 64 48v196l192-89V48c0-26-22-48-48-48zm256 0c-27 0-48 22-48 48v77l190-89c-5-21-24-36-46-36Zm144 105-192 89v70l192-89zM256 224 64 314v70l192-90zm256 21-192 89v66c0 27 21 48 48 48h96c26 0 48-21 48-48zM256 364 89 442c7 4 14 6 23 6h96c26 0 48-21 48-48z\\\"/>\\n  <rect fill=\\\"currentColor\\\" width=\\\"63.3\\\" height=\\\"618.2\\\" x=\\\"311.5\\\" y=\\\"-469.4\\\" transform=\\\"rotate(65)\\\" rx=\\\"10\\\"/>\\n</svg>\\n\";\n\nvar PlaySVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 448 512\\\"><!-- Adapted from Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path fill=\\\"currentColor\\\" d=\\\"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z\\\"/></svg>\";\n\nvar ResetSVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 512 512\\\"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path fill=\\\"currentColor\\\" d=\\\"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z\\\"/></svg>\";\n\nvar TachometerSVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 576 512\\\"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path fill=\\\"currentColor\\\" d=\\\"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z\\\"/></svg>\";\n\nvar TimesCircleSVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 512 512\\\"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path fill=\\\"currentColor\\\" d=\\\"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z\\\"/></svg>\";\n\nvar TimesSVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 352 512\\\"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path fill=\\\"currentColor\\\" d=\\\"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\\\"/></svg>\";\n\nvar ToggleOffSVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 576 512\\\"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path fill=\\\"currentColor\\\" d=\\\"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z\\\"/></svg>\";\n\nvar ToggleOnSVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 576 512\\\"><!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path fill=\\\"currentColor\\\" d=\\\"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z\\\"/></svg>\";\n\nfunction createIcon(svg) {\n  return function Icon(className = '') {\n    return `<span class=\"bts-icon ${ className }\">${svg}</span>`;\n  };\n}\n\nconst LogIcon = createIcon(LogSVG);\nconst AngleRightIcon = createIcon(AngleRightSVG);\nconst CheckCircleIcon = createIcon(CheckCircleSVG);\nconst RemovePauseIcon = createIcon(RemovePauseSVG);\nconst ForkIcon = createIcon(ForkSVG);\nconst ExclamationTriangleIcon = createIcon(ExclamationTriangleSVG);\nconst InfoIcon = createIcon(InfoSVG);\nconst PauseIcon = createIcon(PauseSVG);\nconst PlayIcon = createIcon(PlaySVG);\nconst ResetIcon = createIcon(ResetSVG);\nconst TachometerIcon = createIcon(TachometerSVG);\nconst TimesCircleIcon = createIcon(TimesCircleSVG);\nconst TimesIcon = createIcon(TimesSVG);\nconst ToggleOffIcon = createIcon(ToggleOffSVG);\nconst ToggleOnIcon = createIcon(ToggleOnSVG);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvaWNvbnMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLHFDQUFxQyxXQUFXLElBQUksSUFBSTtBQUN4RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFMk4iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvaWNvbnMvaW5kZXguanM/MDAzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTG9nU1ZHID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDQ0OCA1MTJcXFwiPjwhLS0gRm9udCBBd2Vzb21lIEZyZWUgNS4xNS40IGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgKEljb25zOiBDQyBCWSA0LjAsIEZvbnRzOiBTSUwgT0ZMIDEuMSwgQ29kZTogTUlUIExpY2Vuc2UpIC0tPjxwYXRoIGZpbGw9XFxcImN1cnJlbnRDb2xvclxcXCIgZD1cXFwiTTEyLjgzIDM1MmgyNjIuMzRBMTIuODIgMTIuODIgMCAwIDAgMjg4IDMzOS4xN3YtMzguMzRBMTIuODIgMTIuODIgMCAwIDAgMjc1LjE3IDI4OEgxMi44M0ExMi44MiAxMi44MiAwIDAgMCAwIDMwMC44M3YzOC4zNEExMi44MiAxMi44MiAwIDAgMCAxMi44MyAzNTJ6bTAtMjU2aDI2Mi4zNEExMi44MiAxMi44MiAwIDAgMCAyODggODMuMTdWNDQuODNBMTIuODIgMTIuODIgMCAwIDAgMjc1LjE3IDMySDEyLjgzQTEyLjgyIDEyLjgyIDAgMCAwIDAgNDQuODN2MzguMzRBMTIuODIgMTIuODIgMCAwIDAgMTIuODMgOTZ6TTQzMiAxNjBIMTZhMTYgMTYgMCAwIDAtMTYgMTZ2MzJhMTYgMTYgMCAwIDAgMTYgMTZoNDE2YTE2IDE2IDAgMCAwIDE2LTE2di0zMmExNiAxNiAwIDAgMC0xNi0xNnptMCAyNTZIMTZhMTYgMTYgMCAwIDAtMTYgMTZ2MzJhMTYgMTYgMCAwIDAgMTYgMTZoNDE2YTE2IDE2IDAgMCAwIDE2LTE2di0zMmExNiAxNiAwIDAgMC0xNi0xNnpcXFwiLz48L3N2Zz5cIjtcblxudmFyIEFuZ2xlUmlnaHRTVkcgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjU2IDUxMlxcXCI+PCEtLSBGb250IEF3ZXNvbWUgRnJlZSA1LjE1LjQgYnkgQGZvbnRhd2Vzb21lIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20gTGljZW5zZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tL2xpY2Vuc2UvZnJlZSAoSWNvbnM6IENDIEJZIDQuMCwgRm9udHM6IFNJTCBPRkwgMS4xLCBDb2RlOiBNSVQgTGljZW5zZSkgLS0+PHBhdGggZmlsbD1cXFwiY3VycmVudENvbG9yXFxcIiBkPVxcXCJNMjI0LjMgMjczbC0xMzYgMTM2Yy05LjQgOS40LTI0LjYgOS40LTMzLjkgMGwtMjIuNi0yMi42Yy05LjQtOS40LTkuNC0yNC42IDAtMzMuOWw5Ni40LTk2LjQtOTYuNC05Ni40Yy05LjQtOS40LTkuNC0yNC42IDAtMzMuOUw1NC4zIDEwM2M5LjQtOS40IDI0LjYtOS40IDMzLjkgMGwxMzYgMTM2YzkuNSA5LjQgOS41IDI0LjYuMSAzNHpcXFwiLz48L3N2Zz5cIjtcblxudmFyIENoZWNrQ2lyY2xlU1ZHID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDUxMiA1MTJcXFwiPjwhLS0gRm9udCBBd2Vzb21lIEZyZWUgNS4xNS40IGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgKEljb25zOiBDQyBCWSA0LjAsIEZvbnRzOiBTSUwgT0ZMIDEuMSwgQ29kZTogTUlUIExpY2Vuc2UpIC0tPjxwYXRoIGZpbGw9XFxcImN1cnJlbnRDb2xvclxcXCIgZD1cXFwiTTUwNCAyNTZjMCAxMzYuOTY3LTExMS4wMzMgMjQ4LTI0OCAyNDhTOCAzOTIuOTY3IDggMjU2IDExOS4wMzMgOCAyNTYgOHMyNDggMTExLjAzMyAyNDggMjQ4ek0yMjcuMzE0IDM4Ny4zMTRsMTg0LTE4NGM2LjI0OC02LjI0OCA2LjI0OC0xNi4zNzkgMC0yMi42MjdsLTIyLjYyNy0yMi42MjdjLTYuMjQ4LTYuMjQ5LTE2LjM3OS02LjI0OS0yMi42MjggMEwyMTYgMzA4LjExOGwtNzAuMDU5LTcwLjA1OWMtNi4yNDgtNi4yNDgtMTYuMzc5LTYuMjQ4LTIyLjYyOCAwbC0yMi42MjcgMjIuNjI3Yy02LjI0OCA2LjI0OC02LjI0OCAxNi4zNzkgMCAyMi42MjdsMTA0IDEwNGM2LjI0OSA2LjI0OSAxNi4zNzkgNi4yNDkgMjIuNjI4LjAwMXpcXFwiLz48L3N2Zz5cIjtcblxudmFyIEZvcmtTVkcgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMzg0IDUxMlxcXCI+PCEtLSBGb250IEF3ZXNvbWUgRnJlZSA1LjE1LjQgYnkgQGZvbnRhd2Vzb21lIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20gTGljZW5zZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tL2xpY2Vuc2UvZnJlZSAoSWNvbnM6IENDIEJZIDQuMCwgRm9udHM6IFNJTCBPRkwgMS4xLCBDb2RlOiBNSVQgTGljZW5zZSkgLS0+PHBhdGggZmlsbD1cXFwiY3VycmVudENvbG9yXFxcIiBkPVxcXCJNMzg0IDE0NGMwLTQ0LjItMzUuOC04MC04MC04MHMtODAgMzUuOC04MCA4MGMwIDM2LjQgMjQuMyA2Ny4xIDU3LjUgNzYuOC0uNiAxNi4xLTQuMiAyOC41LTExIDM2LjktMTUuNCAxOS4yLTQ5LjMgMjIuNC04NS4yIDI1LjctMjguMiAyLjYtNTcuNCA1LjQtODEuMyAxNi45di0xNDRjMzIuNS0xMC4yIDU2LTQwLjUgNTYtNzYuMyAwLTQ0LjItMzUuOC04MC04MC04MFMwIDM1LjggMCA4MGMwIDM1LjggMjMuNSA2Ni4xIDU2IDc2LjN2MTk5LjNDMjMuNSAzNjUuOSAwIDM5Ni4yIDAgNDMyYzAgNDQuMiAzNS44IDgwIDgwIDgwczgwLTM1LjggODAtODBjMC0zNC0yMS4yLTYzLjEtNTEuMi03NC42IDMuMS01LjIgNy44LTkuOCAxNC45LTEzLjQgMTYuMi04LjIgNDAuNC0xMC40IDY2LjEtMTIuOCA0Mi4yLTMuOSA5MC04LjQgMTE4LjItNDMuNCAxNC0xNy40IDIxLjEtMzkuOCAyMS42LTY3LjkgMzEuNi0xMC44IDU0LjQtNDAuNyA1NC40LTc1Ljl6TTgwIDY0YzguOCAwIDE2IDcuMiAxNiAxNnMtNy4yIDE2LTE2IDE2LTE2LTcuMi0xNi0xNiA3LjItMTYgMTYtMTZ6bTAgMzg0Yy04LjggMC0xNi03LjItMTYtMTZzNy4yLTE2IDE2LTE2IDE2IDcuMiAxNiAxNi03LjIgMTYtMTYgMTZ6bTIyNC0zMjBjOC44IDAgMTYgNy4yIDE2IDE2cy03LjIgMTYtMTYgMTYtMTYtNy4yLTE2LTE2IDcuMi0xNiAxNi0xNnpcXFwiLz48L3N2Zz5cIjtcblxudmFyIEV4Y2xhbWF0aW9uVHJpYW5nbGVTVkcgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgNTc2IDUxMlxcXCI+PCEtLSBGb250IEF3ZXNvbWUgRnJlZSA1LjE1LjQgYnkgQGZvbnRhd2Vzb21lIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20gTGljZW5zZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tL2xpY2Vuc2UvZnJlZSAoSWNvbnM6IENDIEJZIDQuMCwgRm9udHM6IFNJTCBPRkwgMS4xLCBDb2RlOiBNSVQgTGljZW5zZSkgLS0+PHBhdGggZmlsbD1cXFwiY3VycmVudENvbG9yXFxcIiBkPVxcXCJNNTY5LjUxNyA0NDAuMDEzQzU4Ny45NzUgNDcyLjAwNyA1NjQuODA2IDUxMiA1MjcuOTQgNTEySDQ4LjA1NGMtMzYuOTM3IDAtNTkuOTk5LTQwLjA1NS00MS41NzctNzEuOTg3TDI0Ni40MjMgMjMuOTg1YzE4LjQ2Ny0zMi4wMDkgNjQuNzItMzEuOTUxIDgzLjE1NCAwbDIzOS45NCA0MTYuMDI4ek0yODggMzU0Yy0yNS40MDUgMC00NiAyMC41OTUtNDYgNDZzMjAuNTk1IDQ2IDQ2IDQ2IDQ2LTIwLjU5NSA0Ni00Ni0yMC41OTUtNDYtNDYtNDZ6bS00My42NzMtMTY1LjM0Nmw3LjQxOCAxMzZjLjM0NyA2LjM2NCA1LjYwOSAxMS4zNDYgMTEuOTgyIDExLjM0Nmg0OC41NDZjNi4zNzMgMCAxMS42MzUtNC45ODIgMTEuOTgyLTExLjM0Nmw3LjQxOC0xMzZjLjM3NS02Ljg3NC01LjA5OC0xMi42NTQtMTEuOTgyLTEyLjY1NGgtNjMuMzgzYy02Ljg4NCAwLTEyLjM1NiA1Ljc4LTExLjk4MSAxMi42NTR6XFxcIi8+PC9zdmc+XCI7XG5cbnZhciBJbmZvU1ZHID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE5MiA1MTJcXFwiPjwhLS0gRm9udCBBd2Vzb21lIEZyZWUgNS4xNS40IGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgKEljb25zOiBDQyBCWSA0LjAsIEZvbnRzOiBTSUwgT0ZMIDEuMSwgQ29kZTogTUlUIExpY2Vuc2UpIC0tPjxwYXRoIGZpbGw9XFxcImN1cnJlbnRDb2xvclxcXCIgZD1cXFwiTTIwIDQyNC4yMjloMjBWMjc5Ljc3MUgyMGMtMTEuMDQ2IDAtMjAtOC45NTQtMjAtMjBWMjEyYzAtMTEuMDQ2IDguOTU0LTIwIDIwLTIwaDExMmMxMS4wNDYgMCAyMCA4Ljk1NCAyMCAyMHYyMTIuMjI5aDIwYzExLjA0NiAwIDIwIDguOTU0IDIwIDIwVjQ5MmMwIDExLjA0Ni04Ljk1NCAyMC0yMCAyMEgyMGMtMTEuMDQ2IDAtMjAtOC45NTQtMjAtMjB2LTQ3Ljc3MWMwLTExLjA0NiA4Ljk1NC0yMCAyMC0yMHpNOTYgMEM1Ni4yMzUgMCAyNCAzMi4yMzUgMjQgNzJzMzIuMjM1IDcyIDcyIDcyIDcyLTMyLjIzNSA3Mi03MlMxMzUuNzY0IDAgOTYgMHpcXFwiLz48L3N2Zz5cIjtcblxudmFyIFBhdXNlU1ZHID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDQ0OCA1MTJcXFwiPjwhLS0gRm9udCBBd2Vzb21lIEZyZWUgNS4xNS40IGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgKEljb25zOiBDQyBCWSA0LjAsIEZvbnRzOiBTSUwgT0ZMIDEuMSwgQ29kZTogTUlUIExpY2Vuc2UpIC0tPjxwYXRoIGZpbGw9XFxcImN1cnJlbnRDb2xvclxcXCIgZD1cXFwiTTE0NCA0NzlINDhjLTI2LjUgMC00OC0yMS41LTQ4LTQ4Vjc5YzAtMjYuNSAyMS41LTQ4IDQ4LTQ4aDk2YzI2LjUgMCA0OCAyMS41IDQ4IDQ4djM1MmMwIDI2LjUtMjEuNSA0OC00OCA0OHptMzA0LTQ4Vjc5YzAtMjYuNS0yMS41LTQ4LTQ4LTQ4aC05NmMtMjYuNSAwLTQ4IDIxLjUtNDggNDh2MzUyYzAgMjYuNSAyMS41IDQ4IDQ4IDQ4aDk2YzI2LjUgMCA0OC0yMS41IDQ4LTQ4elxcXCIvPjwvc3ZnPlwiO1xuXG52YXIgUmVtb3ZlUGF1c2VTVkcgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgNTgwLjUgNDQ4XFxcIj5cXG4gIDxwYXRoIGZpbGw9XFxcImN1cnJlbnRDb2xvclxcXCIgZD1cXFwiTTExMiAwQzg1IDAgNjQgMjIgNjQgNDh2MTk2bDE5Mi04OVY0OGMwLTI2LTIyLTQ4LTQ4LTQ4em0yNTYgMGMtMjcgMC00OCAyMi00OCA0OHY3N2wxOTAtODljLTUtMjEtMjQtMzYtNDYtMzZabTE0NCAxMDUtMTkyIDg5djcwbDE5Mi04OXpNMjU2IDIyNCA2NCAzMTR2NzBsMTkyLTkwem0yNTYgMjEtMTkyIDg5djY2YzAgMjcgMjEgNDggNDggNDhoOTZjMjYgMCA0OC0yMSA0OC00OHpNMjU2IDM2NCA4OSA0NDJjNyA0IDE0IDYgMjMgNmg5NmMyNiAwIDQ4LTIxIDQ4LTQ4elxcXCIvPlxcbiAgPHJlY3QgZmlsbD1cXFwiY3VycmVudENvbG9yXFxcIiB3aWR0aD1cXFwiNjMuM1xcXCIgaGVpZ2h0PVxcXCI2MTguMlxcXCIgeD1cXFwiMzExLjVcXFwiIHk9XFxcIi00NjkuNFxcXCIgdHJhbnNmb3JtPVxcXCJyb3RhdGUoNjUpXFxcIiByeD1cXFwiMTBcXFwiLz5cXG48L3N2Zz5cXG5cIjtcblxudmFyIFBsYXlTVkcgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgNDQ4IDUxMlxcXCI+PCEtLSBBZGFwdGVkIGZyb20gRm9udCBBd2Vzb21lIEZyZWUgNS4xNS40IGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgKEljb25zOiBDQyBCWSA0LjAsIEZvbnRzOiBTSUwgT0ZMIDEuMSwgQ29kZTogTUlUIExpY2Vuc2UpIC0tPjxwYXRoIGZpbGw9XFxcImN1cnJlbnRDb2xvclxcXCIgZD1cXFwiTTQyNC40IDIxNC43TDcyLjQgNi42QzQzLjgtMTAuMyAwIDYuMSAwIDQ3LjlWNDY0YzAgMzcuNSA0MC43IDYwLjEgNzIuNCA0MS4zbDM1Mi0yMDhjMzEuNC0xOC41IDMxLjUtNjQuMSAwLTgyLjZ6XFxcIi8+PC9zdmc+XCI7XG5cbnZhciBSZXNldFNWRyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCA1MTIgNTEyXFxcIj48IS0tIEZvbnQgQXdlc29tZSBGcmVlIDUuMTUuNCBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZS9mcmVlIChJY29uczogQ0MgQlkgNC4wLCBGb250czogU0lMIE9GTCAxLjEsIENvZGU6IE1JVCBMaWNlbnNlKSAtLT48cGF0aCBmaWxsPVxcXCJjdXJyZW50Q29sb3JcXFwiIGQ9XFxcIk00NDAuNjUgMTIuNTdsNCA4Mi43N0EyNDcuMTYgMjQ3LjE2IDAgMCAwIDI1NS44MyA4QzEzNC43MyA4IDMzLjkxIDk0LjkyIDEyLjI5IDIwOS44MkExMiAxMiAwIDAgMCAyNC4wOSAyMjRoNDkuMDVhMTIgMTIgMCAwIDAgMTEuNjctOS4yNiAxNzUuOTEgMTc1LjkxIDAgMCAxIDMxNy01Ni45NGwtMTAxLjQ2LTQuODZhMTIgMTIgMCAwIDAtMTIuNTcgMTJ2NDcuNDFhMTIgMTIgMCAwIDAgMTIgMTJINTAwYTEyIDEyIDAgMCAwIDEyLTEyVjEyYTEyIDEyIDAgMCAwLTEyLTEyaC00Ny4zN2ExMiAxMiAwIDAgMC0xMS45OCAxMi41N3pNMjU1LjgzIDQzMmExNzUuNjEgMTc1LjYxIDAgMCAxLTE0Ni03Ny44bDEwMS44IDQuODdhMTIgMTIgMCAwIDAgMTIuNTctMTJ2LTQ3LjRhMTIgMTIgMCAwIDAtMTItMTJIMTJhMTIgMTIgMCAwIDAtMTIgMTJWNTAwYTEyIDEyIDAgMCAwIDEyIDEyaDQ3LjM1YTEyIDEyIDAgMCAwIDEyLTEyLjZsLTQuMTUtODIuNTdBMjQ3LjE3IDI0Ny4xNyAwIDAgMCAyNTUuODMgNTA0YzEyMS4xMSAwIDIyMS45My04Ni45MiAyNDMuNTUtMjAxLjgyYTEyIDEyIDAgMCAwLTExLjgtMTQuMThoLTQ5LjA1YTEyIDEyIDAgMCAwLTExLjY3IDkuMjZBMTc1Ljg2IDE3NS44NiAwIDAgMSAyNTUuODMgNDMyelxcXCIvPjwvc3ZnPlwiO1xuXG52YXIgVGFjaG9tZXRlclNWRyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCA1NzYgNTEyXFxcIj48IS0tIEZvbnQgQXdlc29tZSBGcmVlIDUuMTUuNCBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZS9mcmVlIChJY29uczogQ0MgQlkgNC4wLCBGb250czogU0lMIE9GTCAxLjEsIENvZGU6IE1JVCBMaWNlbnNlKSAtLT48cGF0aCBmaWxsPVxcXCJjdXJyZW50Q29sb3JcXFwiIGQ9XFxcIk0yODggMzJDMTI4Ljk0IDMyIDAgMTYwLjk0IDAgMzIwYzAgNTIuOCAxNC4yNSAxMDIuMjYgMzkuMDYgMTQ0LjggNS42MSA5LjYyIDE2LjMgMTUuMiAyNy40NCAxNS4yaDQ0M2MxMS4xNCAwIDIxLjgzLTUuNTggMjcuNDQtMTUuMkM1NjEuNzUgNDIyLjI2IDU3NiAzNzIuOCA1NzYgMzIwYzAtMTU5LjA2LTEyOC45NC0yODgtMjg4LTI4OHptMCA2NGMxNC43MSAwIDI2LjU4IDEwLjEzIDMwLjMyIDIzLjY1LTEuMTEgMi4yNi0yLjY0IDQuMjMtMy40NSA2LjY3bC05LjIyIDI3LjY3Yy01LjEzIDMuNDktMTAuOTcgNi4wMS0xNy42NCA2LjAxLTE3LjY3IDAtMzItMTQuMzMtMzItMzJTMjcwLjMzIDk2IDI4OCA5NnpNOTYgMzg0Yy0xNy42NyAwLTMyLTE0LjMzLTMyLTMyczE0LjMzLTMyIDMyLTMyIDMyIDE0LjMzIDMyIDMyLTE0LjMzIDMyLTMyIDMyem00OC0xNjBjLTE3LjY3IDAtMzItMTQuMzMtMzItMzJzMTQuMzMtMzIgMzItMzIgMzIgMTQuMzMgMzIgMzItMTQuMzMgMzItMzIgMzJ6bTI0Ni43Ny03Mi40MWwtNjEuMzMgMTg0QzM0My4xMyAzNDcuMzMgMzUyIDM2NC41NCAzNTIgMzg0YzAgMTEuNzItMy4zOCAyMi41NS04Ljg4IDMySDIzMi44OGMtNS41LTkuNDUtOC44OC0yMC4yOC04Ljg4LTMyIDAtMzMuOTQgMjYuNS02MS40MyA1OS45LTYzLjU5bDYxLjM0LTE4NC4wMWM0LjE3LTEyLjU2IDE3LjczLTE5LjQ1IDMwLjM2LTE1LjE3IDEyLjU3IDQuMTkgMTkuMzUgMTcuNzkgMTUuMTcgMzAuMzZ6bTE0LjY2IDU3LjJsMTUuNTItNDYuNTVjMy40Ny0xLjI5IDcuMTMtMi4yMyAxMS4wNS0yLjIzIDE3LjY3IDAgMzIgMTQuMzMgMzIgMzJzLTE0LjMzIDMyLTMyIDMyYy0xMS4zOC0uMDEtMjAuODktNi4yOC0yNi41Ny0xNS4yMnpNNDgwIDM4NGMtMTcuNjcgMC0zMi0xNC4zMy0zMi0zMnMxNC4zMy0zMiAzMi0zMiAzMiAxNC4zMyAzMiAzMi0xNC4zMyAzMi0zMiAzMnpcXFwiLz48L3N2Zz5cIjtcblxudmFyIFRpbWVzQ2lyY2xlU1ZHID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDUxMiA1MTJcXFwiPjwhLS0gRm9udCBBd2Vzb21lIEZyZWUgNS4xNS40IGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgKEljb25zOiBDQyBCWSA0LjAsIEZvbnRzOiBTSUwgT0ZMIDEuMSwgQ29kZTogTUlUIExpY2Vuc2UpIC0tPjxwYXRoIGZpbGw9XFxcImN1cnJlbnRDb2xvclxcXCIgZD1cXFwiTTI1NiA4QzExOSA4IDggMTE5IDggMjU2czExMSAyNDggMjQ4IDI0OCAyNDgtMTExIDI0OC0yNDhTMzkzIDggMjU2IDh6bTEyMS42IDMxMy4xYzQuNyA0LjcgNC43IDEyLjMgMCAxN0wzMzggMzc3LjZjLTQuNyA0LjctMTIuMyA0LjctMTcgMEwyNTYgMzEybC02NS4xIDY1LjZjLTQuNyA0LjctMTIuMyA0LjctMTcgMEwxMzQuNCAzMzhjLTQuNy00LjctNC43LTEyLjMgMC0xN2w2NS42LTY1LTY1LjYtNjUuMWMtNC43LTQuNy00LjctMTIuMyAwLTE3bDM5LjYtMzkuNmM0LjctNC43IDEyLjMtNC43IDE3IDBsNjUgNjUuNyA2NS4xLTY1LjZjNC43LTQuNyAxMi4zLTQuNyAxNyAwbDM5LjYgMzkuNmM0LjcgNC43IDQuNyAxMi4zIDAgMTdMMzEyIDI1Nmw2NS42IDY1LjF6XFxcIi8+PC9zdmc+XCI7XG5cbnZhciBUaW1lc1NWRyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAzNTIgNTEyXFxcIj48IS0tIEZvbnQgQXdlc29tZSBGcmVlIDUuMTUuNCBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZS9mcmVlIChJY29uczogQ0MgQlkgNC4wLCBGb250czogU0lMIE9GTCAxLjEsIENvZGU6IE1JVCBMaWNlbnNlKSAtLT48cGF0aCBmaWxsPVxcXCJjdXJyZW50Q29sb3JcXFwiIGQ9XFxcIk0yNDIuNzIgMjU2bDEwMC4wNy0xMDAuMDdjMTIuMjgtMTIuMjggMTIuMjgtMzIuMTkgMC00NC40OGwtMjIuMjQtMjIuMjRjLTEyLjI4LTEyLjI4LTMyLjE5LTEyLjI4LTQ0LjQ4IDBMMTc2IDE4OS4yOCA3NS45MyA4OS4yMWMtMTIuMjgtMTIuMjgtMzIuMTktMTIuMjgtNDQuNDggMEw5LjIxIDExMS40NWMtMTIuMjggMTIuMjgtMTIuMjggMzIuMTkgMCA0NC40OEwxMDkuMjggMjU2IDkuMjEgMzU2LjA3Yy0xMi4yOCAxMi4yOC0xMi4yOCAzMi4xOSAwIDQ0LjQ4bDIyLjI0IDIyLjI0YzEyLjI4IDEyLjI4IDMyLjIgMTIuMjggNDQuNDggMEwxNzYgMzIyLjcybDEwMC4wNyAxMDAuMDdjMTIuMjggMTIuMjggMzIuMiAxMi4yOCA0NC40OCAwbDIyLjI0LTIyLjI0YzEyLjI4LTEyLjI4IDEyLjI4LTMyLjE5IDAtNDQuNDhMMjQyLjcyIDI1NnpcXFwiLz48L3N2Zz5cIjtcblxudmFyIFRvZ2dsZU9mZlNWRyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCA1NzYgNTEyXFxcIj48IS0tIEZvbnQgQXdlc29tZSBGcmVlIDUuMTUuNCBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZS9mcmVlIChJY29uczogQ0MgQlkgNC4wLCBGb250czogU0lMIE9GTCAxLjEsIENvZGU6IE1JVCBMaWNlbnNlKSAtLT48cGF0aCBmaWxsPVxcXCJjdXJyZW50Q29sb3JcXFwiIGQ9XFxcIk0zODQgNjRIMTkyQzg1Ljk2MSA2NCAwIDE0OS45NjEgMCAyNTZzODUuOTYxIDE5MiAxOTIgMTkyaDE5MmMxMDYuMDM5IDAgMTkyLTg1Ljk2MSAxOTItMTkyUzQ5MC4wMzkgNjQgMzg0IDY0ek02NCAyNTZjMC03MC43NDEgNTcuMjQ5LTEyOCAxMjgtMTI4IDcwLjc0MSAwIDEyOCA1Ny4yNDkgMTI4IDEyOCAwIDcwLjc0MS01Ny4yNDkgMTI4LTEyOCAxMjgtNzAuNzQxIDAtMTI4LTU3LjI0OS0xMjgtMTI4em0zMjAgMTI4aC00OC45MDVjNjUuMjE3LTcyLjg1OCA2NS4yMzYtMTgzLjEyIDAtMjU2SDM4NGM3MC43NDEgMCAxMjggNTcuMjQ5IDEyOCAxMjggMCA3MC43NC01Ny4yNDkgMTI4LTEyOCAxMjh6XFxcIi8+PC9zdmc+XCI7XG5cbnZhciBUb2dnbGVPblNWRyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCA1NzYgNTEyXFxcIj48IS0tIEZvbnQgQXdlc29tZSBGcmVlIDUuMTUuNCBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZS9mcmVlIChJY29uczogQ0MgQlkgNC4wLCBGb250czogU0lMIE9GTCAxLjEsIENvZGU6IE1JVCBMaWNlbnNlKSAtLT48cGF0aCBmaWxsPVxcXCJjdXJyZW50Q29sb3JcXFwiIGQ9XFxcIk0zODQgNjRIMTkyQzg2IDY0IDAgMTUwIDAgMjU2czg2IDE5MiAxOTIgMTkyaDE5MmMxMDYgMCAxOTItODYgMTkyLTE5MlM0OTAgNjQgMzg0IDY0em0wIDMyMGMtNzAuOCAwLTEyOC01Ny4zLTEyOC0xMjggMC03MC44IDU3LjMtMTI4IDEyOC0xMjggNzAuOCAwIDEyOCA1Ny4zIDEyOCAxMjggMCA3MC44LTU3LjMgMTI4LTEyOCAxMjh6XFxcIi8+PC9zdmc+XCI7XG5cbmZ1bmN0aW9uIGNyZWF0ZUljb24oc3ZnKSB7XG4gIHJldHVybiBmdW5jdGlvbiBJY29uKGNsYXNzTmFtZSA9ICcnKSB7XG4gICAgcmV0dXJuIGA8c3BhbiBjbGFzcz1cImJ0cy1pY29uICR7IGNsYXNzTmFtZSB9XCI+JHtzdmd9PC9zcGFuPmA7XG4gIH07XG59XG5cbmNvbnN0IExvZ0ljb24gPSBjcmVhdGVJY29uKExvZ1NWRyk7XG5jb25zdCBBbmdsZVJpZ2h0SWNvbiA9IGNyZWF0ZUljb24oQW5nbGVSaWdodFNWRyk7XG5jb25zdCBDaGVja0NpcmNsZUljb24gPSBjcmVhdGVJY29uKENoZWNrQ2lyY2xlU1ZHKTtcbmNvbnN0IFJlbW92ZVBhdXNlSWNvbiA9IGNyZWF0ZUljb24oUmVtb3ZlUGF1c2VTVkcpO1xuY29uc3QgRm9ya0ljb24gPSBjcmVhdGVJY29uKEZvcmtTVkcpO1xuY29uc3QgRXhjbGFtYXRpb25UcmlhbmdsZUljb24gPSBjcmVhdGVJY29uKEV4Y2xhbWF0aW9uVHJpYW5nbGVTVkcpO1xuY29uc3QgSW5mb0ljb24gPSBjcmVhdGVJY29uKEluZm9TVkcpO1xuY29uc3QgUGF1c2VJY29uID0gY3JlYXRlSWNvbihQYXVzZVNWRyk7XG5jb25zdCBQbGF5SWNvbiA9IGNyZWF0ZUljb24oUGxheVNWRyk7XG5jb25zdCBSZXNldEljb24gPSBjcmVhdGVJY29uKFJlc2V0U1ZHKTtcbmNvbnN0IFRhY2hvbWV0ZXJJY29uID0gY3JlYXRlSWNvbihUYWNob21ldGVyU1ZHKTtcbmNvbnN0IFRpbWVzQ2lyY2xlSWNvbiA9IGNyZWF0ZUljb24oVGltZXNDaXJjbGVTVkcpO1xuY29uc3QgVGltZXNJY29uID0gY3JlYXRlSWNvbihUaW1lc1NWRyk7XG5jb25zdCBUb2dnbGVPZmZJY29uID0gY3JlYXRlSWNvbihUb2dnbGVPZmZTVkcpO1xuY29uc3QgVG9nZ2xlT25JY29uID0gY3JlYXRlSWNvbihUb2dnbGVPblNWRyk7XG5cbmV4cG9ydCB7IEFuZ2xlUmlnaHRJY29uLCBDaGVja0NpcmNsZUljb24sIEV4Y2xhbWF0aW9uVHJpYW5nbGVJY29uLCBGb3JrSWNvbiwgSW5mb0ljb24sIExvZ0ljb24sIFBhdXNlSWNvbiwgUGxheUljb24sIFJlbW92ZVBhdXNlSWNvbiwgUmVzZXRJY29uLCBUYWNob21ldGVySWNvbiwgVGltZXNDaXJjbGVJY29uLCBUaW1lc0ljb24sIFRvZ2dsZU9mZkljb24sIFRvZ2dsZU9uSWNvbiB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/icons/index.js\n");

/***/ }),

/***/ "./lib/simulator/Scope.js":
/*!********************************!*\
  !*** ./lib/simulator/Scope.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Scope)\n/* harmony export */ });\n/* harmony import */ var _ScopeTraits__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ScopeTraits */ \"./lib/simulator/ScopeTraits.js\");\n/* harmony import */ var _ScopeStates__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ScopeStates */ \"./lib/simulator/ScopeStates.js\");\n\n\n\n\n/**\n * A representation of anything runnable in token simulation land.\n */\nclass Scope {\n\n  /**\n   * @param {string} id\n   * @param {Element} element\n   * @param {Scope} parent\n   * @param {Scope} initiator\n   *\n   * @constructor\n   */\n  constructor(id, element, parent = null, initiator = null) {\n    this.id = id;\n    this.element = element;\n    this.parent = parent;\n    this.initiator = initiator;\n\n    this.subscriptions = new Set();\n\n    this.children = [];\n    this.state = _ScopeStates__WEBPACK_IMPORTED_MODULE_0__.ScopeStates.ACTIVATED;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  get running() {\n    return this.hasTrait(_ScopeTraits__WEBPACK_IMPORTED_MODULE_1__.ScopeTraits.RUNNING);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  get destroyed() {\n    return this.hasTrait(_ScopeTraits__WEBPACK_IMPORTED_MODULE_1__.ScopeTraits.DESTROYED);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  get completed() {\n    return this.hasTrait(_ScopeTraits__WEBPACK_IMPORTED_MODULE_1__.ScopeTraits.COMPLETED);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  get canceled() {\n    return this.hasTrait(_ScopeTraits__WEBPACK_IMPORTED_MODULE_1__.ScopeTraits.CANCELED);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  get failed() {\n    return this.hasTrait(_ScopeTraits__WEBPACK_IMPORTED_MODULE_1__.ScopeTraits.FAILED);\n  }\n\n  /**\n   * @param {number} phase\n   * @return {boolean}\n   */\n  hasTrait(trait) {\n    return this.state.hasTrait(trait);\n  }\n\n  /**\n   * Start the scope\n   *\n   * @return {Scope}\n   */\n  start() {\n    this.state = this.state.start();\n\n    return this;\n  }\n\n  /**\n   * Make this scope compensable.\n   *\n   * @return {Scope}\n   */\n  compensable() {\n    this.state = this.state.compensable();\n\n    return this;\n  }\n\n  /**\n   * @param {Scope} initiator\n   *\n   * @return {Scope}\n   */\n  fail(initiator) {\n    if (!this.failed) {\n      this.state = this.state.fail();\n\n      this.failInitiator = initiator;\n    }\n\n    return this;\n  }\n\n  cancel(initiator) {\n\n    if (!this.canceled) {\n      this.state = this.state.cancel();\n\n      this.cancelInitiator = initiator;\n    }\n\n    return this;\n  }\n\n  /**\n   * @param {Scope} initiator\n   *\n   * @return {Scope}\n   */\n  terminate(initiator) {\n    this.state = this.state.terminate();\n\n    this.terminateInitiator = initiator;\n\n    return this;\n  }\n\n  /**\n   * @return {Scope}\n   */\n  complete() {\n    this.state = this.state.complete();\n\n    return this;\n  }\n\n  /**\n   * Destroy the scope\n   *\n   * @param {Scope} initiator\n   *\n   * @return {Scope}\n   */\n  destroy(initiator) {\n    this.state = this.state.destroy();\n\n    this.destroyInitiator = initiator;\n\n    return this;\n  }\n\n  /**\n   * @return {number}\n   */\n  getTokens() {\n    return this.children.filter(c => !c.destroyed).length;\n  }\n\n  /**\n   * @param {Element} element\n   *\n   * @return {number}\n   */\n  getTokensByElement(element) {\n    return this.children.filter(c => !c.destroyed && c.element === element).length;\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL1Njb3BlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0QztBQUNBOzs7QUFHNUM7QUFDQTtBQUNBO0FBQ2U7O0FBRWY7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGlCQUFpQixxREFBVztBQUM1Qjs7QUFFQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EseUJBQXlCLHFEQUFXO0FBQ3BDOztBQUVBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSx5QkFBeUIscURBQVc7QUFDcEM7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLHlCQUF5QixxREFBVztBQUNwQzs7QUFFQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EseUJBQXlCLHFEQUFXO0FBQ3BDOztBQUVBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSx5QkFBeUIscURBQVc7QUFDcEM7O0FBRUE7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9zaW11bGF0b3IvU2NvcGUuanM/YzE0MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY29wZVRyYWl0cyB9IGZyb20gJy4vU2NvcGVUcmFpdHMnO1xuaW1wb3J0IHsgU2NvcGVTdGF0ZXMgfSBmcm9tICcuL1Njb3BlU3RhdGVzJztcblxuXG4vKipcbiAqIEEgcmVwcmVzZW50YXRpb24gb2YgYW55dGhpbmcgcnVubmFibGUgaW4gdG9rZW4gc2ltdWxhdGlvbiBsYW5kLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY29wZSB7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtTY29wZX0gcGFyZW50XG4gICAqIEBwYXJhbSB7U2NvcGV9IGluaXRpYXRvclxuICAgKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGlkLCBlbGVtZW50LCBwYXJlbnQgPSBudWxsLCBpbml0aWF0b3IgPSBudWxsKSB7XG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5pbml0aWF0b3IgPSBpbml0aWF0b3I7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBuZXcgU2V0KCk7XG5cbiAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgdGhpcy5zdGF0ZSA9IFNjb3BlU3RhdGVzLkFDVElWQVRFRDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IHJ1bm5pbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzVHJhaXQoU2NvcGVUcmFpdHMuUlVOTklORyk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBkZXN0cm95ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzVHJhaXQoU2NvcGVUcmFpdHMuREVTVFJPWUVEKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IGNvbXBsZXRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNUcmFpdChTY29wZVRyYWl0cy5DT01QTEVURUQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgY2FuY2VsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzVHJhaXQoU2NvcGVUcmFpdHMuQ0FOQ0VMRUQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgZmFpbGVkKCkge1xuICAgIHJldHVybiB0aGlzLmhhc1RyYWl0KFNjb3BlVHJhaXRzLkZBSUxFRCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBoYXNlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBoYXNUcmFpdCh0cmFpdCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmhhc1RyYWl0KHRyYWl0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCB0aGUgc2NvcGVcbiAgICpcbiAgICogQHJldHVybiB7U2NvcGV9XG4gICAqL1xuICBzdGFydCgpIHtcbiAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGF0ZS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogTWFrZSB0aGlzIHNjb3BlIGNvbXBlbnNhYmxlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtTY29wZX1cbiAgICovXG4gIGNvbXBlbnNhYmxlKCkge1xuICAgIHRoaXMuc3RhdGUgPSB0aGlzLnN0YXRlLmNvbXBlbnNhYmxlKCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1Njb3BlfSBpbml0aWF0b3JcbiAgICpcbiAgICogQHJldHVybiB7U2NvcGV9XG4gICAqL1xuICBmYWlsKGluaXRpYXRvcikge1xuICAgIGlmICghdGhpcy5mYWlsZWQpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnN0YXRlLmZhaWwoKTtcblxuICAgICAgdGhpcy5mYWlsSW5pdGlhdG9yID0gaW5pdGlhdG9yO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY2FuY2VsKGluaXRpYXRvcikge1xuXG4gICAgaWYgKCF0aGlzLmNhbmNlbGVkKSB7XG4gICAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGF0ZS5jYW5jZWwoKTtcblxuICAgICAgdGhpcy5jYW5jZWxJbml0aWF0b3IgPSBpbml0aWF0b3I7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtTY29wZX0gaW5pdGlhdG9yXG4gICAqXG4gICAqIEByZXR1cm4ge1Njb3BlfVxuICAgKi9cbiAgdGVybWluYXRlKGluaXRpYXRvcikge1xuICAgIHRoaXMuc3RhdGUgPSB0aGlzLnN0YXRlLnRlcm1pbmF0ZSgpO1xuXG4gICAgdGhpcy50ZXJtaW5hdGVJbml0aWF0b3IgPSBpbml0aWF0b3I7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtTY29wZX1cbiAgICovXG4gIGNvbXBsZXRlKCkge1xuICAgIHRoaXMuc3RhdGUgPSB0aGlzLnN0YXRlLmNvbXBsZXRlKCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IHRoZSBzY29wZVxuICAgKlxuICAgKiBAcGFyYW0ge1Njb3BlfSBpbml0aWF0b3JcbiAgICpcbiAgICogQHJldHVybiB7U2NvcGV9XG4gICAqL1xuICBkZXN0cm95KGluaXRpYXRvcikge1xuICAgIHRoaXMuc3RhdGUgPSB0aGlzLnN0YXRlLmRlc3Ryb3koKTtcblxuICAgIHRoaXMuZGVzdHJveUluaXRpYXRvciA9IGluaXRpYXRvcjtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGdldFRva2VucygpIHtcbiAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5maWx0ZXIoYyA9PiAhYy5kZXN0cm95ZWQpLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICpcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0VG9rZW5zQnlFbGVtZW50KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5maWx0ZXIoYyA9PiAhYy5kZXN0cm95ZWQgJiYgYy5lbGVtZW50ID09PSBlbGVtZW50KS5sZW5ndGg7XG4gIH1cblxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/simulator/Scope.js\n");

/***/ }),

/***/ "./lib/simulator/ScopeStates.js":
/*!**************************************!*\
  !*** ./lib/simulator/ScopeStates.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScopeState: () => (/* binding */ ScopeState),\n/* harmony export */   ScopeStates: () => (/* binding */ ScopeStates)\n/* harmony export */ });\n/* harmony import */ var _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ScopeTraits */ \"./lib/simulator/ScopeTraits.js\");\n\n\nconst SELF = {};\n\nfunction illegalTransition(state, target) {\n  throw new Error(`illegal transition: ${state.name} -> ${target}`);\n}\n\nfunction orSelf(state, self) {\n  if (state === SELF) {\n    return self;\n  }\n\n  return state;\n}\n\n/**\n * A representation of a scopes state with name, traits, and supported\n * transitions to other states.\n */\nclass ScopeState {\n\n  /**\n   * @param {string} name\n   * @param {number} traits\n   * @param {object} [transitions]\n   * @param {ScopeState} [transitions.start]\n   * @param {ScopeState} [transitions.cancel]\n   * @param {ScopeState} [transitions.complete]\n   * @param {ScopeState} [transitions.destroy]\n   * @param {ScopeState} [transitions.fail]\n   * @param {ScopeState} [transitions.terminate]\n   * @param {ScopeState} [transitions.compensable]\n   */\n  constructor(name, traits, {\n    start,\n    cancel,\n    complete,\n    destroy,\n    fail,\n    terminate,\n    compensable\n  } = {}) {\n    this.name = name;\n\n    /**\n     * A bit-wise encoded set of traits\n     * characterizing the scope.\n     *\n     * @type {number}\n     */\n    this.traits = traits;\n\n    this._start = orSelf(start, this);\n    this._compensable = orSelf(compensable, this);\n    this._cancel = orSelf(cancel, this);\n    this._complete = orSelf(complete, this);\n    this._destroy = orSelf(destroy, this);\n    this._fail = orSelf(fail, this);\n    this._terminate = orSelf(terminate, this);\n  }\n\n  /**\n   * @param {number} trait\n   * @return {boolean}\n   */\n  hasTrait(trait) {\n    return (this.traits & trait) !== 0;\n  }\n\n  /**\n   * @return {ScopeState}\n   */\n  complete() {\n    return this._complete || illegalTransition(this, 'complete');\n  }\n\n  /**\n   * @return {ScopeState}\n   */\n  destroy() {\n    return this._destroy || illegalTransition(this, 'destroy');\n  }\n\n  /**\n   * @return {ScopeState}\n   */\n  cancel() {\n    return this._cancel || illegalTransition(this, 'cancel');\n  }\n\n  /**\n   * @return {ScopeState}\n   */\n  fail() {\n    return this._fail || illegalTransition(this, 'fail');\n  }\n\n  /**\n   * @return {ScopeState}\n   */\n  terminate() {\n    return this._terminate || illegalTransition(this, 'terminate');\n  }\n\n  /**\n   * @return {ScopeState}\n   */\n  compensable() {\n    return this._compensable || illegalTransition(this, 'compensable');\n  }\n\n  /**\n   * @return {ScopeState}\n   */\n  start() {\n    return this._start || illegalTransition(this, 'start');\n  }\n}\n\nconst FAILED = new ScopeState('failed', _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.DESTROYED | _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.FAILED);\n\nconst TERMINATED = new ScopeState('terminated', _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.DESTROYED | _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.TERMINATED);\n\nconst COMPLETED = new ScopeState('completed', _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.DESTROYED | _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.COMPLETED);\n\nconst TERMINATING = new ScopeState('terminating', _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.ENDING | _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.TERMINATED, {\n  destroy: TERMINATED\n});\n\nconst CANCELING = new ScopeState('canceling', _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.ENDING | _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.FAILED | _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.CANCELED, {\n  destroy: FAILED,\n  complete: SELF,\n  terminate: TERMINATING\n});\n\nconst COMPLETING = new ScopeState('completing', _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.ENDING | _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.COMPLETED, {\n  destroy: COMPLETED,\n  cancel: CANCELING,\n  terminate: TERMINATING\n});\n\nconst FAILING = new ScopeState('failing', _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.ENDING | _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.FAILED, {\n  cancel: CANCELING,\n  complete: COMPLETING,\n  destroy: FAILED,\n  terminate: TERMINATING\n});\n\nconst COMPENSABLE_FAILING = new ScopeState('compensable:failing', _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.ENDING | _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.FAILED, {\n  complete: SELF,\n  terminate: TERMINATING,\n  destroy: FAILED\n});\n\nconst COMPENSABLE_COMPLETED = new ScopeState('compensable:completed', _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.ENDED | _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.COMPLETED, {\n  cancel: CANCELING,\n  fail: COMPENSABLE_FAILING,\n  destroy: COMPLETED,\n  compensable: SELF\n});\n\nconst COMPENSABLE_COMPLETING = new ScopeState('compensable:completing', _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.ENDING | _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.COMPLETED, {\n  destroy: COMPENSABLE_COMPLETED,\n  terminate: TERMINATING,\n  compensable: SELF\n});\n\nconst COMPENSABLE_RUNNING = new ScopeState('compensable:running', _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.RUNNING | _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.COMPENSABLE, {\n  cancel: CANCELING,\n  complete: COMPENSABLE_COMPLETING,\n  compensable: SELF,\n  destroy: COMPENSABLE_COMPLETED,\n  fail: FAILING,\n  terminate: TERMINATING\n});\n\nconst RUNNING = new ScopeState('running', _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.RUNNING, {\n  cancel: CANCELING,\n  complete: COMPLETING,\n  compensable: COMPENSABLE_RUNNING,\n  destroy: TERMINATED,\n  fail: FAILING,\n  terminate: TERMINATING\n});\n\nconst ACTIVATED = new ScopeState('activated', _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.ACTIVATED, {\n  start: RUNNING,\n  destroy: TERMINATED\n});\n\nconst ScopeStates = Object.freeze({\n  ACTIVATED,\n  RUNNING,\n  CANCELING,\n  COMPLETING,\n  COMPLETED,\n  FAILING,\n  FAILED,\n  TERMINATING,\n  TERMINATED,\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL1Njb3BlU3RhdGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUV1Qjs7QUFFdkI7O0FBRUE7QUFDQSx5Q0FBeUMsWUFBWSxLQUFLLE9BQU87QUFDakU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNPOztBQUVQO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxZQUFZO0FBQ3pCLGFBQWEsWUFBWTtBQUN6QixhQUFhLFlBQVk7QUFDekIsYUFBYSxZQUFZO0FBQ3pCLGFBQWEsWUFBWTtBQUN6QixhQUFhLFlBQVk7QUFDekIsYUFBYSxZQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksSUFBSTtBQUNSOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3Q0FBd0MscURBQVcsYUFBYSxxREFBVzs7QUFFM0UsZ0RBQWdELHFEQUFXLGFBQWEscURBQVc7O0FBRW5GLDhDQUE4QyxxREFBVyxhQUFhLHFEQUFXOztBQUVqRixrREFBa0QscURBQVcsVUFBVSxxREFBVztBQUNsRjtBQUNBLENBQUM7O0FBRUQsOENBQThDLHFEQUFXLFVBQVUscURBQVcsVUFBVSxxREFBVztBQUNuRztBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELGdEQUFnRCxxREFBVyxVQUFVLHFEQUFXO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsMENBQTBDLHFEQUFXLFVBQVUscURBQVc7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELGtFQUFrRSxxREFBVyxVQUFVLHFEQUFXO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsc0VBQXNFLHFEQUFXLFNBQVMscURBQVc7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELHdFQUF3RSxxREFBVyxVQUFVLHFEQUFXO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsa0VBQWtFLHFEQUFXLFdBQVcscURBQVc7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCwwQ0FBMEMscURBQVc7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCw4Q0FBOEMscURBQVc7QUFDekQ7QUFDQTtBQUNBLENBQUM7O0FBRU07QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL3NpbXVsYXRvci9TY29wZVN0YXRlcy5qcz9mOTVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFNjb3BlVHJhaXRzXG59IGZyb20gJy4vU2NvcGVUcmFpdHMnO1xuXG5jb25zdCBTRUxGID0ge307XG5cbmZ1bmN0aW9uIGlsbGVnYWxUcmFuc2l0aW9uKHN0YXRlLCB0YXJnZXQpIHtcbiAgdGhyb3cgbmV3IEVycm9yKGBpbGxlZ2FsIHRyYW5zaXRpb246ICR7c3RhdGUubmFtZX0gLT4gJHt0YXJnZXR9YCk7XG59XG5cbmZ1bmN0aW9uIG9yU2VsZihzdGF0ZSwgc2VsZikge1xuICBpZiAoc3RhdGUgPT09IFNFTEYpIHtcbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuXG4gIHJldHVybiBzdGF0ZTtcbn1cblxuLyoqXG4gKiBBIHJlcHJlc2VudGF0aW9uIG9mIGEgc2NvcGVzIHN0YXRlIHdpdGggbmFtZSwgdHJhaXRzLCBhbmQgc3VwcG9ydGVkXG4gKiB0cmFuc2l0aW9ucyB0byBvdGhlciBzdGF0ZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBTY29wZVN0YXRlIHtcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRyYWl0c1xuICAgKiBAcGFyYW0ge29iamVjdH0gW3RyYW5zaXRpb25zXVxuICAgKiBAcGFyYW0ge1Njb3BlU3RhdGV9IFt0cmFuc2l0aW9ucy5zdGFydF1cbiAgICogQHBhcmFtIHtTY29wZVN0YXRlfSBbdHJhbnNpdGlvbnMuY2FuY2VsXVxuICAgKiBAcGFyYW0ge1Njb3BlU3RhdGV9IFt0cmFuc2l0aW9ucy5jb21wbGV0ZV1cbiAgICogQHBhcmFtIHtTY29wZVN0YXRlfSBbdHJhbnNpdGlvbnMuZGVzdHJveV1cbiAgICogQHBhcmFtIHtTY29wZVN0YXRlfSBbdHJhbnNpdGlvbnMuZmFpbF1cbiAgICogQHBhcmFtIHtTY29wZVN0YXRlfSBbdHJhbnNpdGlvbnMudGVybWluYXRlXVxuICAgKiBAcGFyYW0ge1Njb3BlU3RhdGV9IFt0cmFuc2l0aW9ucy5jb21wZW5zYWJsZV1cbiAgICovXG4gIGNvbnN0cnVjdG9yKG5hbWUsIHRyYWl0cywge1xuICAgIHN0YXJ0LFxuICAgIGNhbmNlbCxcbiAgICBjb21wbGV0ZSxcbiAgICBkZXN0cm95LFxuICAgIGZhaWwsXG4gICAgdGVybWluYXRlLFxuICAgIGNvbXBlbnNhYmxlXG4gIH0gPSB7fSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG5cbiAgICAvKipcbiAgICAgKiBBIGJpdC13aXNlIGVuY29kZWQgc2V0IG9mIHRyYWl0c1xuICAgICAqIGNoYXJhY3Rlcml6aW5nIHRoZSBzY29wZS5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50cmFpdHMgPSB0cmFpdHM7XG5cbiAgICB0aGlzLl9zdGFydCA9IG9yU2VsZihzdGFydCwgdGhpcyk7XG4gICAgdGhpcy5fY29tcGVuc2FibGUgPSBvclNlbGYoY29tcGVuc2FibGUsIHRoaXMpO1xuICAgIHRoaXMuX2NhbmNlbCA9IG9yU2VsZihjYW5jZWwsIHRoaXMpO1xuICAgIHRoaXMuX2NvbXBsZXRlID0gb3JTZWxmKGNvbXBsZXRlLCB0aGlzKTtcbiAgICB0aGlzLl9kZXN0cm95ID0gb3JTZWxmKGRlc3Ryb3ksIHRoaXMpO1xuICAgIHRoaXMuX2ZhaWwgPSBvclNlbGYoZmFpbCwgdGhpcyk7XG4gICAgdGhpcy5fdGVybWluYXRlID0gb3JTZWxmKHRlcm1pbmF0ZSwgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRyYWl0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBoYXNUcmFpdCh0cmFpdCkge1xuICAgIHJldHVybiAodGhpcy50cmFpdHMgJiB0cmFpdCkgIT09IDA7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7U2NvcGVTdGF0ZX1cbiAgICovXG4gIGNvbXBsZXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9jb21wbGV0ZSB8fCBpbGxlZ2FsVHJhbnNpdGlvbih0aGlzLCAnY29tcGxldGUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtTY29wZVN0YXRlfVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVzdHJveSB8fCBpbGxlZ2FsVHJhbnNpdGlvbih0aGlzLCAnZGVzdHJveScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1Njb3BlU3RhdGV9XG4gICAqL1xuICBjYW5jZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhbmNlbCB8fCBpbGxlZ2FsVHJhbnNpdGlvbih0aGlzLCAnY2FuY2VsJyk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7U2NvcGVTdGF0ZX1cbiAgICovXG4gIGZhaWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZhaWwgfHwgaWxsZWdhbFRyYW5zaXRpb24odGhpcywgJ2ZhaWwnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtTY29wZVN0YXRlfVxuICAgKi9cbiAgdGVybWluYXRlKCkge1xuICAgIHJldHVybiB0aGlzLl90ZXJtaW5hdGUgfHwgaWxsZWdhbFRyYW5zaXRpb24odGhpcywgJ3Rlcm1pbmF0ZScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge1Njb3BlU3RhdGV9XG4gICAqL1xuICBjb21wZW5zYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29tcGVuc2FibGUgfHwgaWxsZWdhbFRyYW5zaXRpb24odGhpcywgJ2NvbXBlbnNhYmxlJyk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7U2NvcGVTdGF0ZX1cbiAgICovXG4gIHN0YXJ0KCkge1xuICAgIHJldHVybiB0aGlzLl9zdGFydCB8fCBpbGxlZ2FsVHJhbnNpdGlvbih0aGlzLCAnc3RhcnQnKTtcbiAgfVxufVxuXG5jb25zdCBGQUlMRUQgPSBuZXcgU2NvcGVTdGF0ZSgnZmFpbGVkJywgU2NvcGVUcmFpdHMuREVTVFJPWUVEIHwgU2NvcGVUcmFpdHMuRkFJTEVEKTtcblxuY29uc3QgVEVSTUlOQVRFRCA9IG5ldyBTY29wZVN0YXRlKCd0ZXJtaW5hdGVkJywgU2NvcGVUcmFpdHMuREVTVFJPWUVEIHwgU2NvcGVUcmFpdHMuVEVSTUlOQVRFRCk7XG5cbmNvbnN0IENPTVBMRVRFRCA9IG5ldyBTY29wZVN0YXRlKCdjb21wbGV0ZWQnLCBTY29wZVRyYWl0cy5ERVNUUk9ZRUQgfCBTY29wZVRyYWl0cy5DT01QTEVURUQpO1xuXG5jb25zdCBURVJNSU5BVElORyA9IG5ldyBTY29wZVN0YXRlKCd0ZXJtaW5hdGluZycsIFNjb3BlVHJhaXRzLkVORElORyB8IFNjb3BlVHJhaXRzLlRFUk1JTkFURUQsIHtcbiAgZGVzdHJveTogVEVSTUlOQVRFRFxufSk7XG5cbmNvbnN0IENBTkNFTElORyA9IG5ldyBTY29wZVN0YXRlKCdjYW5jZWxpbmcnLCBTY29wZVRyYWl0cy5FTkRJTkcgfCBTY29wZVRyYWl0cy5GQUlMRUQgfCBTY29wZVRyYWl0cy5DQU5DRUxFRCwge1xuICBkZXN0cm95OiBGQUlMRUQsXG4gIGNvbXBsZXRlOiBTRUxGLFxuICB0ZXJtaW5hdGU6IFRFUk1JTkFUSU5HXG59KTtcblxuY29uc3QgQ09NUExFVElORyA9IG5ldyBTY29wZVN0YXRlKCdjb21wbGV0aW5nJywgU2NvcGVUcmFpdHMuRU5ESU5HIHwgU2NvcGVUcmFpdHMuQ09NUExFVEVELCB7XG4gIGRlc3Ryb3k6IENPTVBMRVRFRCxcbiAgY2FuY2VsOiBDQU5DRUxJTkcsXG4gIHRlcm1pbmF0ZTogVEVSTUlOQVRJTkdcbn0pO1xuXG5jb25zdCBGQUlMSU5HID0gbmV3IFNjb3BlU3RhdGUoJ2ZhaWxpbmcnLCBTY29wZVRyYWl0cy5FTkRJTkcgfCBTY29wZVRyYWl0cy5GQUlMRUQsIHtcbiAgY2FuY2VsOiBDQU5DRUxJTkcsXG4gIGNvbXBsZXRlOiBDT01QTEVUSU5HLFxuICBkZXN0cm95OiBGQUlMRUQsXG4gIHRlcm1pbmF0ZTogVEVSTUlOQVRJTkdcbn0pO1xuXG5jb25zdCBDT01QRU5TQUJMRV9GQUlMSU5HID0gbmV3IFNjb3BlU3RhdGUoJ2NvbXBlbnNhYmxlOmZhaWxpbmcnLCBTY29wZVRyYWl0cy5FTkRJTkcgfCBTY29wZVRyYWl0cy5GQUlMRUQsIHtcbiAgY29tcGxldGU6IFNFTEYsXG4gIHRlcm1pbmF0ZTogVEVSTUlOQVRJTkcsXG4gIGRlc3Ryb3k6IEZBSUxFRFxufSk7XG5cbmNvbnN0IENPTVBFTlNBQkxFX0NPTVBMRVRFRCA9IG5ldyBTY29wZVN0YXRlKCdjb21wZW5zYWJsZTpjb21wbGV0ZWQnLCBTY29wZVRyYWl0cy5FTkRFRCB8IFNjb3BlVHJhaXRzLkNPTVBMRVRFRCwge1xuICBjYW5jZWw6IENBTkNFTElORyxcbiAgZmFpbDogQ09NUEVOU0FCTEVfRkFJTElORyxcbiAgZGVzdHJveTogQ09NUExFVEVELFxuICBjb21wZW5zYWJsZTogU0VMRlxufSk7XG5cbmNvbnN0IENPTVBFTlNBQkxFX0NPTVBMRVRJTkcgPSBuZXcgU2NvcGVTdGF0ZSgnY29tcGVuc2FibGU6Y29tcGxldGluZycsIFNjb3BlVHJhaXRzLkVORElORyB8IFNjb3BlVHJhaXRzLkNPTVBMRVRFRCwge1xuICBkZXN0cm95OiBDT01QRU5TQUJMRV9DT01QTEVURUQsXG4gIHRlcm1pbmF0ZTogVEVSTUlOQVRJTkcsXG4gIGNvbXBlbnNhYmxlOiBTRUxGXG59KTtcblxuY29uc3QgQ09NUEVOU0FCTEVfUlVOTklORyA9IG5ldyBTY29wZVN0YXRlKCdjb21wZW5zYWJsZTpydW5uaW5nJywgU2NvcGVUcmFpdHMuUlVOTklORyB8IFNjb3BlVHJhaXRzLkNPTVBFTlNBQkxFLCB7XG4gIGNhbmNlbDogQ0FOQ0VMSU5HLFxuICBjb21wbGV0ZTogQ09NUEVOU0FCTEVfQ09NUExFVElORyxcbiAgY29tcGVuc2FibGU6IFNFTEYsXG4gIGRlc3Ryb3k6IENPTVBFTlNBQkxFX0NPTVBMRVRFRCxcbiAgZmFpbDogRkFJTElORyxcbiAgdGVybWluYXRlOiBURVJNSU5BVElOR1xufSk7XG5cbmNvbnN0IFJVTk5JTkcgPSBuZXcgU2NvcGVTdGF0ZSgncnVubmluZycsIFNjb3BlVHJhaXRzLlJVTk5JTkcsIHtcbiAgY2FuY2VsOiBDQU5DRUxJTkcsXG4gIGNvbXBsZXRlOiBDT01QTEVUSU5HLFxuICBjb21wZW5zYWJsZTogQ09NUEVOU0FCTEVfUlVOTklORyxcbiAgZGVzdHJveTogVEVSTUlOQVRFRCxcbiAgZmFpbDogRkFJTElORyxcbiAgdGVybWluYXRlOiBURVJNSU5BVElOR1xufSk7XG5cbmNvbnN0IEFDVElWQVRFRCA9IG5ldyBTY29wZVN0YXRlKCdhY3RpdmF0ZWQnLCBTY29wZVRyYWl0cy5BQ1RJVkFURUQsIHtcbiAgc3RhcnQ6IFJVTk5JTkcsXG4gIGRlc3Ryb3k6IFRFUk1JTkFURURcbn0pO1xuXG5leHBvcnQgY29uc3QgU2NvcGVTdGF0ZXMgPSBPYmplY3QuZnJlZXplKHtcbiAgQUNUSVZBVEVELFxuICBSVU5OSU5HLFxuICBDQU5DRUxJTkcsXG4gIENPTVBMRVRJTkcsXG4gIENPTVBMRVRFRCxcbiAgRkFJTElORyxcbiAgRkFJTEVELFxuICBURVJNSU5BVElORyxcbiAgVEVSTUlOQVRFRCxcbn0pOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/simulator/ScopeStates.js\n");

/***/ }),

/***/ "./lib/simulator/ScopeTraits.js":
/*!**************************************!*\
  !*** ./lib/simulator/ScopeTraits.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScopeTraits: () => (/* binding */ ScopeTraits)\n/* harmony export */ });\nconst ACTIVATED = 1;\nconst RUNNING = 1 << 1;\nconst ENDING = 1 << 2;\nconst ENDED = 1 << 3;\nconst DESTROYED = 1 << 4;\nconst FAILED = 1 << 5;\nconst TERMINATED = 1 << 6;\nconst CANCELED = 1 << 7;\nconst COMPLETED = 1 << 8;\nconst COMPENSABLE = 1 << 9;\n\nconst ACTIVE = ACTIVATED | RUNNING | ENDING;\nconst NOT_DEAD = ACTIVATED | ENDED;\n\nconst ScopeTraits = Object.freeze({\n  ACTIVATED,\n  RUNNING,\n  ENDING,\n  ENDED,\n  DESTROYED,\n  FAILED,\n  TERMINATED,\n  CANCELED,\n  COMPLETED,\n  COMPENSABLE,\n  ACTIVE,\n  NOT_DEAD\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL1Njb3BlVHJhaXRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9zaW11bGF0b3IvU2NvcGVUcmFpdHMuanM/OTU0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBBQ1RJVkFURUQgPSAxO1xuY29uc3QgUlVOTklORyA9IDEgPDwgMTtcbmNvbnN0IEVORElORyA9IDEgPDwgMjtcbmNvbnN0IEVOREVEID0gMSA8PCAzO1xuY29uc3QgREVTVFJPWUVEID0gMSA8PCA0O1xuY29uc3QgRkFJTEVEID0gMSA8PCA1O1xuY29uc3QgVEVSTUlOQVRFRCA9IDEgPDwgNjtcbmNvbnN0IENBTkNFTEVEID0gMSA8PCA3O1xuY29uc3QgQ09NUExFVEVEID0gMSA8PCA4O1xuY29uc3QgQ09NUEVOU0FCTEUgPSAxIDw8IDk7XG5cbmNvbnN0IEFDVElWRSA9IEFDVElWQVRFRCB8IFJVTk5JTkcgfCBFTkRJTkc7XG5jb25zdCBOT1RfREVBRCA9IEFDVElWQVRFRCB8IEVOREVEO1xuXG5leHBvcnQgY29uc3QgU2NvcGVUcmFpdHMgPSBPYmplY3QuZnJlZXplKHtcbiAgQUNUSVZBVEVELFxuICBSVU5OSU5HLFxuICBFTkRJTkcsXG4gIEVOREVELFxuICBERVNUUk9ZRUQsXG4gIEZBSUxFRCxcbiAgVEVSTUlOQVRFRCxcbiAgQ0FOQ0VMRUQsXG4gIENPTVBMRVRFRCxcbiAgQ09NUEVOU0FCTEUsXG4gIEFDVElWRSxcbiAgTk9UX0RFQURcbn0pOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/simulator/ScopeTraits.js\n");

/***/ }),

/***/ "./lib/simulator/Simulator.js":
/*!************************************!*\
  !*** ./lib/simulator/Simulator.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Simulator)\n/* harmony export */ });\n/* harmony import */ var ids__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ids */ \"./node_modules/ids/dist/index.esm.js\");\n/* harmony import */ var _Scope__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Scope */ \"./lib/simulator/Scope.js\");\n/* harmony import */ var _ScopeTraits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ScopeTraits */ \"./lib/simulator/ScopeTraits.js\");\n/* harmony import */ var _util_SetUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/SetUtil */ \"./lib/simulator/util/SetUtil.js\");\n/* harmony import */ var _util_EventsUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/EventsUtil */ \"./lib/simulator/util/EventsUtil.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/ModelUtil */ \"./node_modules/bpmn-js/lib/util/ModelUtil.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./util/ModelUtil */ \"./lib/simulator/util/ModelUtil.js\");\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @typedef { any } DiagramElement\n *\n * @typedef { {\n *   element: DiagramElement,\n *   interrupting: boolean,\n *   boundary: boolean,\n *   iref?: string,\n *   ref: DiagramElement,\n *   persistent?: boolean,\n *   type: string\n * } } SimulatorEvent\n */\n\nfunction Simulator(injector, eventBus, elementRegistry) {\n\n  const ids = injector.get('scopeIds', false) || new ids__WEBPACK_IMPORTED_MODULE_0__[\"default\"]([ 32, 36 ]);\n\n  // element configuration\n  const configuration = {};\n\n  const behaviors = {};\n\n  const noopBehavior = new NoopBehavior();\n\n  const changedElements = new Set();\n\n  const jobs = [];\n\n  const scopes = new Set();\n  const subscriptions = new Set();\n\n  on('tick', function() {\n    for (const element of changedElements) {\n      emit('elementChanged', {\n        element\n      });\n    }\n\n    changedElements.clear();\n  });\n\n  function queue(scope, task) {\n\n    // add this task\n    jobs.push([ task, scope ]);\n\n    if (jobs.length !== 1) {\n      return;\n    }\n\n    let next;\n\n    while ((next = jobs[0])) {\n\n      const [ task, scope ] = next;\n\n      if (!scope.destroyed) {\n        task();\n      }\n\n      // remove first task\n      jobs.shift();\n    }\n\n    emit('tick');\n  }\n\n  function getBehavior(element) {\n    return behaviors[element.type] || noopBehavior;\n  }\n\n  function signal(context) {\n\n    const {\n      element,\n      parentScope,\n      initiator = null,\n      scope = initializeScope({\n        element,\n        parent: parentScope,\n        initiator\n      })\n    } = context;\n\n    queue(scope, function() {\n\n      if (!scope.running) {\n        scope.start();\n      }\n\n      trace('signal', {\n        ...context,\n        scope\n      });\n\n      getBehavior(element).signal({\n        ...context,\n        scope\n      });\n\n      if (scope.parent) {\n        scopeChanged(scope.parent);\n      }\n    });\n\n    return scope;\n  }\n\n  function enter(context) {\n\n    const {\n      element,\n      scope: parentScope,\n      initiator = parentScope\n    } = context;\n\n    const scope = initializeScope({\n      element,\n      parent: parentScope,\n      initiator\n    });\n\n    queue(scope, function() {\n\n      if (!scope.running) {\n        scope.start();\n      }\n\n      trace('enter', context);\n\n      getBehavior(element).enter({\n        ...context,\n        initiator,\n        scope\n      });\n\n      if (scope.parent) {\n        scopeChanged(scope.parent);\n      }\n    });\n\n    return scope;\n  }\n\n  function exit(context) {\n\n    const {\n      element,\n      scope,\n      initiator = scope\n    } = context;\n\n    queue(scope, function() {\n\n      trace('exit', context);\n\n      getBehavior(element).exit({\n        ...context,\n        initiator\n      });\n\n      if (scope.running) {\n        scope.complete();\n      }\n\n      destroyScope(scope, initiator);\n\n      scope.parent && scopeChanged(scope.parent);\n    });\n  }\n\n  function trigger(context) {\n    const {\n      event: _event,\n      initiator,\n      scope\n    } = context;\n\n    // behavior depends on available event subscriptions\n    //\n    // interrupt (one-off, clear all events)\n    //   => keep interrupting boundary event sub-scriptions of same type, if available\n    //\n    // continue (one-off signal)\n    //\n    // non-interrupting (as many as needed)\n\n    const event = getEvent(_event);\n\n    const subscriptions = scope.subscriptions;\n\n    const matchingSubscriptions = (0,_util_SetUtil__WEBPACK_IMPORTED_MODULE_1__.filterSet)(\n      subscriptions, subscription => (0,_util_EventsUtil__WEBPACK_IMPORTED_MODULE_2__.eventsMatch)(event, subscription.event)\n    );\n\n    const nonInterrupting = matchingSubscriptions.filter(\n      subscription => !subscription.event.interrupting\n    );\n\n    const interrupting = matchingSubscriptions.filter(\n      subscription => subscription.event.interrupting\n    );\n\n    if (!interrupting.length) {\n      return nonInterrupting.map(\n        subscription => subscription.triggerFn(initiator)\n      ).flat();\n    }\n\n    const interrupt = interrupting.find(subscription => !subscription.event.boundary) || interrupting[0];\n\n    const remainingSubscriptions = (0,_util_SetUtil__WEBPACK_IMPORTED_MODULE_1__.filterSet)(\n      subscriptions,\n      subscription => subscription.event.persistent || isRethrow(subscription.event, interrupt.event)\n    );\n\n    subscriptions.forEach(subscription => {\n      if (!remainingSubscriptions.includes(subscription)) {\n        subscription.remove();\n      }\n    });\n\n    return [ interrupt.triggerFn(initiator) ].flat().filter(s => s);\n  }\n\n  function subscribe(scope, event, triggerFn) {\n\n    event = getEvent(event);\n\n    const element = event.element;\n\n    const subscription = {\n      scope,\n      event,\n      element,\n      triggerFn,\n      remove() {\n        unsubscribe(subscription);\n      }\n    };\n\n    subscriptions.add(subscription);\n\n    scope.subscriptions.add(subscription);\n\n    if (element) {\n      elementChanged(element);\n    }\n\n    return subscription;\n  }\n\n  function unsubscribe(subscription) {\n    const {\n      scope,\n      event\n    } = subscription;\n\n    subscriptions.delete(subscription);\n\n    scope.subscriptions.delete(subscription);\n\n    if (event.element) {\n      elementChanged(event.element);\n    }\n  }\n\n  function createInternalRef(element) {\n    if (\n      (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:StartEvent') ||\n      (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:IntermediateCatchEvent') ||\n      (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:ReceiveTask') ||\n      isSpecialBoundaryEvent(element)\n    ) {\n      return (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.getBusinessObject)(element).name || element.id;\n    }\n\n    return null;\n  }\n\n  /**\n   * @param { any } element\n   *\n   * @return {SimulatorEvent}\n   */\n  function getNoneEvent(element) {\n    return {\n      element,\n      interrupting: false,\n      boundary: false,\n      iref: element.id,\n      type: 'none'\n    };\n  }\n\n  /**\n   * @param { any } element\n   *\n   * @return {SimulatorEvent}\n   */\n  function getEvent(element) {\n\n    // do not double-return element\n    if (!element.businessObject) {\n      return element;\n    }\n\n    const interrupting = (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isInterrupting)(element);\n    const boundary = (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isBoundaryEvent)(element);\n\n    // we do create an internal reference for\n    // catch-like events to ensure these can\n    // be triggered via the UI exclusively\n    const iref = createInternalRef(element);\n\n    const baseEvent = {\n      element,\n      interrupting,\n      boundary,\n      ...(iref ? { iref } : {})\n    };\n\n    const eventDefinition = getEventDefinitions(element)[0];\n\n    if (!eventDefinition) {\n\n      return {\n        ...baseEvent,\n        type: isImplicitMessageCatch(element) ? 'message' : 'none'\n      };\n    }\n\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:LinkEventDefinition')) {\n      return {\n        ...baseEvent,\n        type: 'link',\n        name: eventDefinition.name\n      };\n    }\n\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:SignalEventDefinition')) {\n      return {\n        ...baseEvent,\n        type: 'signal',\n        ref: eventDefinition.signalRef\n      };\n    }\n\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:TimerEventDefinition')) {\n      return {\n        ...baseEvent,\n        type: 'timer'\n      };\n    }\n\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:ConditionalEventDefinition')) {\n      return {\n        ...baseEvent,\n        type: 'condition',\n      };\n    }\n\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:EscalationEventDefinition')) {\n      return {\n        ...baseEvent,\n        type: 'escalation',\n        ref: eventDefinition.escalationRef\n      };\n    }\n\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:CancelEventDefinition')) {\n      return {\n        ...baseEvent,\n        type: 'cancel'\n      };\n    }\n\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:ErrorEventDefinition')) {\n      return {\n        ...baseEvent,\n        type: 'error',\n        ref: eventDefinition.errorRef\n      };\n    }\n\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:MessageEventDefinition')) {\n      return {\n        ...baseEvent,\n        type: 'message',\n        ref: eventDefinition.messageRef\n      };\n    }\n\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.is)(eventDefinition, 'bpmn:CompensateEventDefinition')) {\n\n      let ref = eventDefinition.activityRef && elementRegistry.get(eventDefinition.activityRef.id);\n\n      if (!ref) {\n\n        if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isStartEvent)(element) && (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isEventSubProcess)(element.parent)) {\n\n          // start event in event sub-process compensates\n          // parent process (or participant)\n          ref = element.parent.parent;\n        } else if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isBoundaryEvent)(element)) {\n\n          // boundary event compensates activity it is attached to\n          ref = element.host;\n        } else {\n\n          // parent is cancel scope\n          ref = element.parent;\n        }\n      }\n\n      return {\n        ...baseEvent,\n        type: 'compensate',\n        ref,\n        persistent: true\n      };\n    }\n\n    throw new Error('unknown event definition', eventDefinition);\n  }\n\n  function createScope(context, emitEvent = true) {\n\n    const {\n      element,\n      parent: parentScope,\n      initiator\n    } = context;\n\n    emitEvent && trace('createScope', {\n      element,\n      scope: parentScope\n    });\n\n    const scope = new _Scope__WEBPACK_IMPORTED_MODULE_5__[\"default\"](ids.next(), element, parentScope, initiator);\n\n    if (parentScope) {\n      parentScope.children.push(scope);\n    }\n\n    scopes.add(scope);\n\n    emitEvent && emit('createScope', {\n      scope\n    });\n\n    elementChanged(element);\n\n    if (parentScope) {\n      elementChanged(parentScope.element);\n    }\n\n    return scope;\n  }\n\n  function subscriptionFilter(filter) {\n\n    if (typeof filter === 'function') {\n      return filter;\n    }\n\n    const {\n      event: _event,\n      element,\n      scope\n    } = filter;\n\n    const elements = filter.elements || (element && [ element ]);\n    const event = _event && getEvent(_event);\n\n    return (\n      (subscription) =>\n        (!event || (0,_util_EventsUtil__WEBPACK_IMPORTED_MODULE_2__.eventsMatch)(event, subscription.event)) &&\n        (!elements || elements.includes(subscription.element)) &&\n        (!scope || scope === subscription.scope)\n    );\n  }\n\n  function scopeSubscriptionFilter(event) {\n    const matchesSubscription = event === 'function' ? event : subscriptionFilter(event);\n\n    return (\n      scope => Array.from(scope.subscriptions).some(matchesSubscription)\n    );\n  }\n\n  function scopeFilter(filter) {\n\n    if (typeof filter === 'function') {\n      return filter;\n    }\n\n    const {\n      element,\n      waitsOnElement,\n      parent,\n      trait = _ScopeTraits__WEBPACK_IMPORTED_MODULE_6__.ScopeTraits.RUNNING,\n      subscribedTo\n    } = filter;\n\n    const isSubscribed = subscribedTo ? scopeSubscriptionFilter(subscribedTo) : () => true;\n\n    return (\n      scope =>\n        (!element || scope.element === element) &&\n        (!parent || scope.parent === parent) &&\n        (!waitsOnElement || scope.getTokensByElement(waitsOnElement) > 0) &&\n        scope.hasTrait(trait) &&\n        isSubscribed(scope)\n    );\n  }\n\n  function findSubscriptions(filter) {\n    return (0,_util_SetUtil__WEBPACK_IMPORTED_MODULE_1__.filterSet)(subscriptions, subscriptionFilter(filter));\n  }\n\n  function findSubscription(filter) {\n    return (0,_util_SetUtil__WEBPACK_IMPORTED_MODULE_1__.findSet)(subscriptions, subscriptionFilter(filter));\n  }\n\n  function findScopes(filter) {\n    return (0,_util_SetUtil__WEBPACK_IMPORTED_MODULE_1__.filterSet)(scopes, scopeFilter(filter));\n  }\n\n  function findScope(filter) {\n    return (0,_util_SetUtil__WEBPACK_IMPORTED_MODULE_1__.findSet)(scopes, scopeFilter(filter));\n  }\n\n  function destroyScope(scope, initiator = null) {\n\n    if (scope.destroyed) {\n      return;\n    }\n\n    scope.destroy(initiator);\n\n    // remove outdated subscriptions\n    for (const subscription of scope.subscriptions) {\n      const trait = subscription.event.traits || _ScopeTraits__WEBPACK_IMPORTED_MODULE_6__.ScopeTraits.ACTIVE;\n\n      if (!scope.hasTrait(trait)) {\n        unsubscribe(subscription);\n      }\n    }\n\n    // depending on taken transition scope many not actually\n    // be destroyed but in an inactive / completed state\n    //\n    // only perform additional destructive operations in case we're\n    // actually DEAD.\n    if (scope.destroyed) {\n\n      // destroy child scopes\n      for (const childScope of scope.children) {\n        if (!childScope.destroyed) {\n          destroyScope(childScope, initiator);\n        }\n      }\n\n      trace('destroyScope', {\n        element: scope.element,\n        scope\n      });\n\n      // remove dead scope\n      scopes.delete(scope);\n\n      emit('destroyScope', {\n        scope\n      });\n    }\n\n    elementChanged(scope.element);\n\n    if (scope.parent) {\n      elementChanged(scope.parent.element);\n    }\n  }\n\n  function trace(action, context) {\n\n    emit('trace', {\n      ...context,\n      action\n    });\n  }\n\n  function elementChanged(element) {\n    changedElements.add(element);\n\n    // tick, unless jobs are queued\n    // (and tick is going to happen naturally)\n    if (!jobs.length) {\n      emit('tick');\n    }\n  }\n\n  function scopeChanged(scope) {\n    emit('scopeChanged', {\n      scope\n    });\n  }\n\n  function emit(event, payload = {}) {\n    return eventBus.fire(`tokenSimulation.simulator.${event}`, payload);\n  }\n\n  function on(event, callback) {\n    eventBus.on('tokenSimulation.simulator.' + event, callback);\n  }\n\n  function off(event, callback) {\n    eventBus.off('tokenSimulation.simulator.' + event, callback);\n  }\n\n  function setConfig(element, updatedConfig) {\n\n    const existingConfig = getConfig(element);\n\n    configuration[element.id || element] = {\n      ...existingConfig,\n      ...updatedConfig\n    };\n\n    elementChanged(element);\n  }\n\n  function initializeRootScopes() {\n\n    const rootScopes = [];\n\n    elementRegistry.forEach(element => {\n\n      if (!(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isAny)(element, [ 'bpmn:Process', 'bpmn:Participant' ])) {\n        return;\n      }\n\n      const scope = createScope({\n        element\n      }, false);\n\n      rootScopes.push(scope);\n\n      const startEvents = element.children.filter(_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isStartEvent);\n\n      const implicitStartEvents = element.children.filter(_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isImplicitStartEvent);\n\n      for (const startEvent of startEvents) {\n\n        const event = {\n          ...getEvent(startEvent),\n          interrupting: false\n        };\n\n        // start events can always be triggered\n        subscribe(scope, event, initiator => signal({\n          element,\n          startEvent: startEvent,\n          initiator\n        }));\n      }\n\n      if (!startEvents.length) {\n\n        for (const implicitStartEvent of implicitStartEvents) {\n\n          const event = getNoneEvent(implicitStartEvent);\n\n          // start events can always be triggered\n          subscribe(scope, event, initiator => signal({\n            element,\n            initiator\n          }));\n        }\n      }\n    });\n\n    return rootScopes;\n  }\n\n  function initializeScope(context) {\n\n    const {\n      element\n    } = context;\n\n    const scope = createScope(context);\n\n    const {\n      children = [],\n      attachers = []\n    } = element;\n\n    for (const childElement of children) {\n\n      // event sub-process start events\n      if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isEventSubProcess)(childElement)) {\n        const startEvents = childElement.children.filter(\n          element => (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isStartEvent)(element) && !(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isCompensationEvent)(element)\n        );\n\n        for (const startEvent of startEvents) {\n          subscribe(scope, startEvent, initiator => {\n\n            return signal({\n              element: childElement,\n              parentScope: scope,\n              startEvent,\n              initiator\n            });\n          });\n        }\n      }\n    }\n\n    for (const attacher of attachers) {\n\n      // boundary events\n      if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isBoundaryEvent)(attacher) && !(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isCompensationEvent)(attacher)) {\n\n        subscribe(scope, attacher, initiator => {\n          return signal({\n            element: attacher,\n            parentScope: scope.parent,\n            hostScope: scope,\n            initiator\n          });\n        });\n      }\n    }\n\n    return scope;\n  }\n\n  function getConfig(element) {\n    return configuration[element.id || element] || {};\n  }\n\n  function waitForScopes(scope, scopes) {\n\n    if (!scopes.length) {\n      return;\n    }\n\n    const event = {\n      type: 'all-completed',\n      persistent: false\n    };\n\n    const remainingScopes = new Set(scopes);\n\n    const destroyListener = (destroyEvent) => {\n      remainingScopes.delete(destroyEvent.scope);\n\n      if (remainingScopes.size === 0) {\n        off('destroyScope', destroyListener);\n\n        trigger({\n          scope,\n          event\n        });\n      }\n    };\n\n    on('destroyScope', destroyListener);\n\n    return event;\n  }\n\n  function waitAtElement(element, wait = true) {\n    setConfig(element, {\n      wait\n    });\n  }\n\n  function reset() {\n    for (const scope of scopes) {\n      destroyScope(scope);\n    }\n\n    for (const rootScope of initializeRootScopes()) {\n      scopes.add(rootScope);\n    }\n\n    // TODO(nikku): clear configuration?\n\n    emit('tick');\n    emit('reset');\n  }\n\n  // utilties\n  this.createScope = createScope;\n  this.destroyScope = destroyScope;\n\n  // inspection\n  this.findScope = findScope;\n  this.findScopes = findScopes;\n\n  this.findSubscription = findSubscription;\n  this.findSubscriptions = findSubscriptions;\n\n  // configuration\n  this.waitAtElement = waitAtElement;\n\n  this.waitForScopes = waitForScopes;\n\n  this.setConfig = setConfig;\n  this.getConfig = getConfig;\n\n  // driving simulation forward\n  this.signal = signal;\n  this.enter = enter;\n  this.exit = exit;\n\n  // BPMN event subscriptions and triggers\n  this.subscribe = subscribe;\n  this.trigger = trigger;\n\n  // life-cycle\n  this.reset = reset;\n\n  // emitter\n  this.on = on;\n  this.off = off;\n\n  // extension\n  this.registerBehavior = function(element, behavior) {\n    behaviors[element] = behavior;\n  };\n}\n\nSimulator.$inject = [\n  'injector',\n  'eventBus',\n  'elementRegistry'\n];\n\n\n// helpers /////////////////\n\nfunction NoopBehavior() {\n\n  this.signal = function(context) {\n    console.log('ignored #exit', context.element);\n  };\n\n  this.exit = function(context) {\n    console.log('ignored #exit', context.element);\n  };\n\n  this.enter = function(context) {\n    console.log('ignored #enter', context.element);\n  };\n\n}\n\nfunction isRethrow(event, interrupt) {\n  return (\n    event.type === interrupt.type &&\n    event.boundary && !interrupt.boundary\n  );\n}\n\nfunction isImplicitMessageCatch(element) {\n  return (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:ReceiveTask') || element.incoming.some(element => (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_3__.is)(element, 'bpmn:MessageFlow'));\n}\n\nfunction isSpecialBoundaryEvent(element) {\n  if (!(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isBoundaryEvent)(element)) {\n    return false;\n  }\n\n  const eventDefinitions = getEventDefinitions(element);\n\n  return !eventDefinitions[0] || (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_4__.isAny)(eventDefinitions[0], [\n    'bpmn:ConditionalEventDefinition', 'bpmn:TimerEventDefinition'\n  ]);\n}\n\nfunction getEventDefinitions(element) {\n  return element.businessObject.get('eventDefinitions') || [];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL1NpbXVsYXRvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzQjs7QUFFTTtBQUNnQjs7QUFLcEI7O0FBSUc7O0FBWUQ7O0FBRTFCO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFZTs7QUFFZixxREFBcUQsMkNBQUc7O0FBRXhEO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07O0FBRU47O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxrQ0FBa0Msd0RBQVM7QUFDM0MscUNBQXFDLDZEQUFXO0FBQ2hEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxtQ0FBbUMsd0RBQVM7QUFDNUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU0sbURBQUU7QUFDUixNQUFNLG1EQUFFO0FBQ1IsTUFBTSxtREFBRTtBQUNSO0FBQ0E7QUFDQSxhQUFhLGtFQUFpQjtBQUM5Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEseUJBQXlCLCtEQUFjO0FBQ3ZDLHFCQUFxQixnRUFBZTs7QUFFcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsT0FBTyxJQUFJO0FBQzlCOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxtREFBRTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLG1EQUFFO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsbURBQUU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsbURBQUU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsbURBQUU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxtREFBRTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxtREFBRTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLG1EQUFFO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsbURBQUU7O0FBRVY7O0FBRUE7O0FBRUEsWUFBWSw2REFBWSxhQUFhLGtFQUFpQjs7QUFFdEQ7QUFDQTtBQUNBO0FBQ0EsVUFBVSxTQUFTLGdFQUFlOztBQUVsQztBQUNBO0FBQ0EsVUFBVTs7QUFFVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLHNCQUFzQiw4Q0FBSzs7QUFFM0I7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLDZEQUFXO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxxREFBVztBQUN6QjtBQUNBLE1BQU07O0FBRU47O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyx3REFBUztBQUNwQjs7QUFFQTtBQUNBLFdBQVcsc0RBQU87QUFDbEI7O0FBRUE7QUFDQSxXQUFXLHdEQUFTO0FBQ3BCOztBQUVBO0FBQ0EsV0FBVyxzREFBTztBQUNsQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGlEQUFpRCxxREFBVzs7QUFFNUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLG1DQUFtQztBQUNuQyxzREFBc0QsTUFBTTtBQUM1RDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUEsV0FBVyxzREFBSztBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQOztBQUVBLGtEQUFrRCx5REFBWTs7QUFFOUQsMERBQTBELGlFQUFvQjs7QUFFOUU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFNOztBQUVOOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47O0FBRUE7QUFDQSxVQUFVLGtFQUFpQjtBQUMzQjtBQUNBLHFCQUFxQiw2REFBWSxjQUFjLG9FQUFtQjtBQUNsRTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFVBQVUsZ0VBQWUsZUFBZSxvRUFBbUI7O0FBRTNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLG1EQUFFLGtFQUFrRSxtREFBRTtBQUMvRTs7QUFFQTtBQUNBLE9BQU8sZ0VBQWU7QUFDdEI7QUFDQTs7QUFFQTs7QUFFQSxpQ0FBaUMsc0RBQUs7QUFDdEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9zaW11bGF0b3IvU2ltdWxhdG9yLmpzPzQyMTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IElkcyBmcm9tICdpZHMnO1xuXG5pbXBvcnQgU2NvcGUgZnJvbSAnLi9TY29wZSc7XG5pbXBvcnQgeyBTY29wZVRyYWl0cyB9IGZyb20gJy4vU2NvcGVUcmFpdHMnO1xuXG5pbXBvcnQge1xuICBmaWx0ZXJTZXQsXG4gIGZpbmRTZXRcbn0gZnJvbSAnLi91dGlsL1NldFV0aWwnO1xuXG5pbXBvcnQge1xuICBldmVudHNNYXRjaFxufSBmcm9tICcuL3V0aWwvRXZlbnRzVXRpbCc7XG5cbmltcG9ydCB7XG4gIGdldEJ1c2luZXNzT2JqZWN0LFxuICBpcyxcbiAgaXNBbnksXG4gIGlzQm91bmRhcnlFdmVudCxcbiAgaXNDb21wZW5zYXRpb25FdmVudCxcbiAgaXNFdmVudFN1YlByb2Nlc3MsXG4gIGlzSW1wbGljaXRTdGFydEV2ZW50LFxuICBpc0ludGVycnVwdGluZyxcbiAgaXNTdGFydEV2ZW50XG59IGZyb20gJy4vdXRpbC9Nb2RlbFV0aWwnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHsgYW55IH0gRGlhZ3JhbUVsZW1lbnRcbiAqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgZWxlbWVudDogRGlhZ3JhbUVsZW1lbnQsXG4gKiAgIGludGVycnVwdGluZzogYm9vbGVhbixcbiAqICAgYm91bmRhcnk6IGJvb2xlYW4sXG4gKiAgIGlyZWY/OiBzdHJpbmcsXG4gKiAgIHJlZjogRGlhZ3JhbUVsZW1lbnQsXG4gKiAgIHBlcnNpc3RlbnQ/OiBib29sZWFuLFxuICogICB0eXBlOiBzdHJpbmdcbiAqIH0gfSBTaW11bGF0b3JFdmVudFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNpbXVsYXRvcihpbmplY3RvciwgZXZlbnRCdXMsIGVsZW1lbnRSZWdpc3RyeSkge1xuXG4gIGNvbnN0IGlkcyA9IGluamVjdG9yLmdldCgnc2NvcGVJZHMnLCBmYWxzZSkgfHwgbmV3IElkcyhbIDMyLCAzNiBdKTtcblxuICAvLyBlbGVtZW50IGNvbmZpZ3VyYXRpb25cbiAgY29uc3QgY29uZmlndXJhdGlvbiA9IHt9O1xuXG4gIGNvbnN0IGJlaGF2aW9ycyA9IHt9O1xuXG4gIGNvbnN0IG5vb3BCZWhhdmlvciA9IG5ldyBOb29wQmVoYXZpb3IoKTtcblxuICBjb25zdCBjaGFuZ2VkRWxlbWVudHMgPSBuZXcgU2V0KCk7XG5cbiAgY29uc3Qgam9icyA9IFtdO1xuXG4gIGNvbnN0IHNjb3BlcyA9IG5ldyBTZXQoKTtcbiAgY29uc3Qgc3Vic2NyaXB0aW9ucyA9IG5ldyBTZXQoKTtcblxuICBvbigndGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBjaGFuZ2VkRWxlbWVudHMpIHtcbiAgICAgIGVtaXQoJ2VsZW1lbnRDaGFuZ2VkJywge1xuICAgICAgICBlbGVtZW50XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjaGFuZ2VkRWxlbWVudHMuY2xlYXIoKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gcXVldWUoc2NvcGUsIHRhc2spIHtcblxuICAgIC8vIGFkZCB0aGlzIHRhc2tcbiAgICBqb2JzLnB1c2goWyB0YXNrLCBzY29wZSBdKTtcblxuICAgIGlmIChqb2JzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBuZXh0O1xuXG4gICAgd2hpbGUgKChuZXh0ID0gam9ic1swXSkpIHtcblxuICAgICAgY29uc3QgWyB0YXNrLCBzY29wZSBdID0gbmV4dDtcblxuICAgICAgaWYgKCFzY29wZS5kZXN0cm95ZWQpIHtcbiAgICAgICAgdGFzaygpO1xuICAgICAgfVxuXG4gICAgICAvLyByZW1vdmUgZmlyc3QgdGFza1xuICAgICAgam9icy5zaGlmdCgpO1xuICAgIH1cblxuICAgIGVtaXQoJ3RpY2snKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJlaGF2aW9yKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gYmVoYXZpb3JzW2VsZW1lbnQudHlwZV0gfHwgbm9vcEJlaGF2aW9yO1xuICB9XG5cbiAgZnVuY3Rpb24gc2lnbmFsKGNvbnRleHQpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgIGVsZW1lbnQsXG4gICAgICBwYXJlbnRTY29wZSxcbiAgICAgIGluaXRpYXRvciA9IG51bGwsXG4gICAgICBzY29wZSA9IGluaXRpYWxpemVTY29wZSh7XG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIHBhcmVudDogcGFyZW50U2NvcGUsXG4gICAgICAgIGluaXRpYXRvclxuICAgICAgfSlcbiAgICB9ID0gY29udGV4dDtcblxuICAgIHF1ZXVlKHNjb3BlLCBmdW5jdGlvbigpIHtcblxuICAgICAgaWYgKCFzY29wZS5ydW5uaW5nKSB7XG4gICAgICAgIHNjb3BlLnN0YXJ0KCk7XG4gICAgICB9XG5cbiAgICAgIHRyYWNlKCdzaWduYWwnLCB7XG4gICAgICAgIC4uLmNvbnRleHQsXG4gICAgICAgIHNjb3BlXG4gICAgICB9KTtcblxuICAgICAgZ2V0QmVoYXZpb3IoZWxlbWVudCkuc2lnbmFsKHtcbiAgICAgICAgLi4uY29udGV4dCxcbiAgICAgICAgc2NvcGVcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoc2NvcGUucGFyZW50KSB7XG4gICAgICAgIHNjb3BlQ2hhbmdlZChzY29wZS5wYXJlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNjb3BlO1xuICB9XG5cbiAgZnVuY3Rpb24gZW50ZXIoY29udGV4dCkge1xuXG4gICAgY29uc3Qge1xuICAgICAgZWxlbWVudCxcbiAgICAgIHNjb3BlOiBwYXJlbnRTY29wZSxcbiAgICAgIGluaXRpYXRvciA9IHBhcmVudFNjb3BlXG4gICAgfSA9IGNvbnRleHQ7XG5cbiAgICBjb25zdCBzY29wZSA9IGluaXRpYWxpemVTY29wZSh7XG4gICAgICBlbGVtZW50LFxuICAgICAgcGFyZW50OiBwYXJlbnRTY29wZSxcbiAgICAgIGluaXRpYXRvclxuICAgIH0pO1xuXG4gICAgcXVldWUoc2NvcGUsIGZ1bmN0aW9uKCkge1xuXG4gICAgICBpZiAoIXNjb3BlLnJ1bm5pbmcpIHtcbiAgICAgICAgc2NvcGUuc3RhcnQoKTtcbiAgICAgIH1cblxuICAgICAgdHJhY2UoJ2VudGVyJywgY29udGV4dCk7XG5cbiAgICAgIGdldEJlaGF2aW9yKGVsZW1lbnQpLmVudGVyKHtcbiAgICAgICAgLi4uY29udGV4dCxcbiAgICAgICAgaW5pdGlhdG9yLFxuICAgICAgICBzY29wZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChzY29wZS5wYXJlbnQpIHtcbiAgICAgICAgc2NvcGVDaGFuZ2VkKHNjb3BlLnBhcmVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2NvcGU7XG4gIH1cblxuICBmdW5jdGlvbiBleGl0KGNvbnRleHQpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgIGVsZW1lbnQsXG4gICAgICBzY29wZSxcbiAgICAgIGluaXRpYXRvciA9IHNjb3BlXG4gICAgfSA9IGNvbnRleHQ7XG5cbiAgICBxdWV1ZShzY29wZSwgZnVuY3Rpb24oKSB7XG5cbiAgICAgIHRyYWNlKCdleGl0JywgY29udGV4dCk7XG5cbiAgICAgIGdldEJlaGF2aW9yKGVsZW1lbnQpLmV4aXQoe1xuICAgICAgICAuLi5jb250ZXh0LFxuICAgICAgICBpbml0aWF0b3JcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoc2NvcGUucnVubmluZykge1xuICAgICAgICBzY29wZS5jb21wbGV0ZSgpO1xuICAgICAgfVxuXG4gICAgICBkZXN0cm95U2NvcGUoc2NvcGUsIGluaXRpYXRvcik7XG5cbiAgICAgIHNjb3BlLnBhcmVudCAmJiBzY29wZUNoYW5nZWQoc2NvcGUucGFyZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyaWdnZXIoY29udGV4dCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGV2ZW50OiBfZXZlbnQsXG4gICAgICBpbml0aWF0b3IsXG4gICAgICBzY29wZVxuICAgIH0gPSBjb250ZXh0O1xuXG4gICAgLy8gYmVoYXZpb3IgZGVwZW5kcyBvbiBhdmFpbGFibGUgZXZlbnQgc3Vic2NyaXB0aW9uc1xuICAgIC8vXG4gICAgLy8gaW50ZXJydXB0IChvbmUtb2ZmLCBjbGVhciBhbGwgZXZlbnRzKVxuICAgIC8vICAgPT4ga2VlcCBpbnRlcnJ1cHRpbmcgYm91bmRhcnkgZXZlbnQgc3ViLXNjcmlwdGlvbnMgb2Ygc2FtZSB0eXBlLCBpZiBhdmFpbGFibGVcbiAgICAvL1xuICAgIC8vIGNvbnRpbnVlIChvbmUtb2ZmIHNpZ25hbClcbiAgICAvL1xuICAgIC8vIG5vbi1pbnRlcnJ1cHRpbmcgKGFzIG1hbnkgYXMgbmVlZGVkKVxuXG4gICAgY29uc3QgZXZlbnQgPSBnZXRFdmVudChfZXZlbnQpO1xuXG4gICAgY29uc3Qgc3Vic2NyaXB0aW9ucyA9IHNjb3BlLnN1YnNjcmlwdGlvbnM7XG5cbiAgICBjb25zdCBtYXRjaGluZ1N1YnNjcmlwdGlvbnMgPSBmaWx0ZXJTZXQoXG4gICAgICBzdWJzY3JpcHRpb25zLCBzdWJzY3JpcHRpb24gPT4gZXZlbnRzTWF0Y2goZXZlbnQsIHN1YnNjcmlwdGlvbi5ldmVudClcbiAgICApO1xuXG4gICAgY29uc3Qgbm9uSW50ZXJydXB0aW5nID0gbWF0Y2hpbmdTdWJzY3JpcHRpb25zLmZpbHRlcihcbiAgICAgIHN1YnNjcmlwdGlvbiA9PiAhc3Vic2NyaXB0aW9uLmV2ZW50LmludGVycnVwdGluZ1xuICAgICk7XG5cbiAgICBjb25zdCBpbnRlcnJ1cHRpbmcgPSBtYXRjaGluZ1N1YnNjcmlwdGlvbnMuZmlsdGVyKFxuICAgICAgc3Vic2NyaXB0aW9uID0+IHN1YnNjcmlwdGlvbi5ldmVudC5pbnRlcnJ1cHRpbmdcbiAgICApO1xuXG4gICAgaWYgKCFpbnRlcnJ1cHRpbmcubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gbm9uSW50ZXJydXB0aW5nLm1hcChcbiAgICAgICAgc3Vic2NyaXB0aW9uID0+IHN1YnNjcmlwdGlvbi50cmlnZ2VyRm4oaW5pdGlhdG9yKVxuICAgICAgKS5mbGF0KCk7XG4gICAgfVxuXG4gICAgY29uc3QgaW50ZXJydXB0ID0gaW50ZXJydXB0aW5nLmZpbmQoc3Vic2NyaXB0aW9uID0+ICFzdWJzY3JpcHRpb24uZXZlbnQuYm91bmRhcnkpIHx8IGludGVycnVwdGluZ1swXTtcblxuICAgIGNvbnN0IHJlbWFpbmluZ1N1YnNjcmlwdGlvbnMgPSBmaWx0ZXJTZXQoXG4gICAgICBzdWJzY3JpcHRpb25zLFxuICAgICAgc3Vic2NyaXB0aW9uID0+IHN1YnNjcmlwdGlvbi5ldmVudC5wZXJzaXN0ZW50IHx8IGlzUmV0aHJvdyhzdWJzY3JpcHRpb24uZXZlbnQsIGludGVycnVwdC5ldmVudClcbiAgICApO1xuXG4gICAgc3Vic2NyaXB0aW9ucy5mb3JFYWNoKHN1YnNjcmlwdGlvbiA9PiB7XG4gICAgICBpZiAoIXJlbWFpbmluZ1N1YnNjcmlwdGlvbnMuaW5jbHVkZXMoc3Vic2NyaXB0aW9uKSkge1xuICAgICAgICBzdWJzY3JpcHRpb24ucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gWyBpbnRlcnJ1cHQudHJpZ2dlckZuKGluaXRpYXRvcikgXS5mbGF0KCkuZmlsdGVyKHMgPT4gcyk7XG4gIH1cblxuICBmdW5jdGlvbiBzdWJzY3JpYmUoc2NvcGUsIGV2ZW50LCB0cmlnZ2VyRm4pIHtcblxuICAgIGV2ZW50ID0gZ2V0RXZlbnQoZXZlbnQpO1xuXG4gICAgY29uc3QgZWxlbWVudCA9IGV2ZW50LmVsZW1lbnQ7XG5cbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSB7XG4gICAgICBzY29wZSxcbiAgICAgIGV2ZW50LFxuICAgICAgZWxlbWVudCxcbiAgICAgIHRyaWdnZXJGbixcbiAgICAgIHJlbW92ZSgpIHtcbiAgICAgICAgdW5zdWJzY3JpYmUoc3Vic2NyaXB0aW9uKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgc3Vic2NyaXB0aW9ucy5hZGQoc3Vic2NyaXB0aW9uKTtcblxuICAgIHNjb3BlLnN1YnNjcmlwdGlvbnMuYWRkKHN1YnNjcmlwdGlvbik7XG5cbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgZWxlbWVudENoYW5nZWQoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKHN1YnNjcmlwdGlvbikge1xuICAgIGNvbnN0IHtcbiAgICAgIHNjb3BlLFxuICAgICAgZXZlbnRcbiAgICB9ID0gc3Vic2NyaXB0aW9uO1xuXG4gICAgc3Vic2NyaXB0aW9ucy5kZWxldGUoc3Vic2NyaXB0aW9uKTtcblxuICAgIHNjb3BlLnN1YnNjcmlwdGlvbnMuZGVsZXRlKHN1YnNjcmlwdGlvbik7XG5cbiAgICBpZiAoZXZlbnQuZWxlbWVudCkge1xuICAgICAgZWxlbWVudENoYW5nZWQoZXZlbnQuZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlSW50ZXJuYWxSZWYoZWxlbWVudCkge1xuICAgIGlmIChcbiAgICAgIGlzKGVsZW1lbnQsICdicG1uOlN0YXJ0RXZlbnQnKSB8fFxuICAgICAgaXMoZWxlbWVudCwgJ2JwbW46SW50ZXJtZWRpYXRlQ2F0Y2hFdmVudCcpIHx8XG4gICAgICBpcyhlbGVtZW50LCAnYnBtbjpSZWNlaXZlVGFzaycpIHx8XG4gICAgICBpc1NwZWNpYWxCb3VuZGFyeUV2ZW50KGVsZW1lbnQpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZ2V0QnVzaW5lc3NPYmplY3QoZWxlbWVudCkubmFtZSB8fCBlbGVtZW50LmlkO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IGFueSB9IGVsZW1lbnRcbiAgICpcbiAgICogQHJldHVybiB7U2ltdWxhdG9yRXZlbnR9XG4gICAqL1xuICBmdW5jdGlvbiBnZXROb25lRXZlbnQoZWxlbWVudCkge1xuICAgIHJldHVybiB7XG4gICAgICBlbGVtZW50LFxuICAgICAgaW50ZXJydXB0aW5nOiBmYWxzZSxcbiAgICAgIGJvdW5kYXJ5OiBmYWxzZSxcbiAgICAgIGlyZWY6IGVsZW1lbnQuaWQsXG4gICAgICB0eXBlOiAnbm9uZSdcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IGFueSB9IGVsZW1lbnRcbiAgICpcbiAgICogQHJldHVybiB7U2ltdWxhdG9yRXZlbnR9XG4gICAqL1xuICBmdW5jdGlvbiBnZXRFdmVudChlbGVtZW50KSB7XG5cbiAgICAvLyBkbyBub3QgZG91YmxlLXJldHVybiBlbGVtZW50XG4gICAgaWYgKCFlbGVtZW50LmJ1c2luZXNzT2JqZWN0KSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBjb25zdCBpbnRlcnJ1cHRpbmcgPSBpc0ludGVycnVwdGluZyhlbGVtZW50KTtcbiAgICBjb25zdCBib3VuZGFyeSA9IGlzQm91bmRhcnlFdmVudChlbGVtZW50KTtcblxuICAgIC8vIHdlIGRvIGNyZWF0ZSBhbiBpbnRlcm5hbCByZWZlcmVuY2UgZm9yXG4gICAgLy8gY2F0Y2gtbGlrZSBldmVudHMgdG8gZW5zdXJlIHRoZXNlIGNhblxuICAgIC8vIGJlIHRyaWdnZXJlZCB2aWEgdGhlIFVJIGV4Y2x1c2l2ZWx5XG4gICAgY29uc3QgaXJlZiA9IGNyZWF0ZUludGVybmFsUmVmKGVsZW1lbnQpO1xuXG4gICAgY29uc3QgYmFzZUV2ZW50ID0ge1xuICAgICAgZWxlbWVudCxcbiAgICAgIGludGVycnVwdGluZyxcbiAgICAgIGJvdW5kYXJ5LFxuICAgICAgLi4uKGlyZWYgPyB7IGlyZWYgfSA6IHt9KVxuICAgIH07XG5cbiAgICBjb25zdCBldmVudERlZmluaXRpb24gPSBnZXRFdmVudERlZmluaXRpb25zKGVsZW1lbnQpWzBdO1xuXG4gICAgaWYgKCFldmVudERlZmluaXRpb24pIHtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICB0eXBlOiBpc0ltcGxpY2l0TWVzc2FnZUNhdGNoKGVsZW1lbnQpID8gJ21lc3NhZ2UnIDogJ25vbmUnXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChpcyhldmVudERlZmluaXRpb24sICdicG1uOkxpbmtFdmVudERlZmluaXRpb24nKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICB0eXBlOiAnbGluaycsXG4gICAgICAgIG5hbWU6IGV2ZW50RGVmaW5pdGlvbi5uYW1lXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChpcyhldmVudERlZmluaXRpb24sICdicG1uOlNpZ25hbEV2ZW50RGVmaW5pdGlvbicpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5iYXNlRXZlbnQsXG4gICAgICAgIHR5cGU6ICdzaWduYWwnLFxuICAgICAgICByZWY6IGV2ZW50RGVmaW5pdGlvbi5zaWduYWxSZWZcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKGlzKGV2ZW50RGVmaW5pdGlvbiwgJ2JwbW46VGltZXJFdmVudERlZmluaXRpb24nKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICB0eXBlOiAndGltZXInXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChpcyhldmVudERlZmluaXRpb24sICdicG1uOkNvbmRpdGlvbmFsRXZlbnREZWZpbml0aW9uJykpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmJhc2VFdmVudCxcbiAgICAgICAgdHlwZTogJ2NvbmRpdGlvbicsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChpcyhldmVudERlZmluaXRpb24sICdicG1uOkVzY2FsYXRpb25FdmVudERlZmluaXRpb24nKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICB0eXBlOiAnZXNjYWxhdGlvbicsXG4gICAgICAgIHJlZjogZXZlbnREZWZpbml0aW9uLmVzY2FsYXRpb25SZWZcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKGlzKGV2ZW50RGVmaW5pdGlvbiwgJ2JwbW46Q2FuY2VsRXZlbnREZWZpbml0aW9uJykpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmJhc2VFdmVudCxcbiAgICAgICAgdHlwZTogJ2NhbmNlbCdcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKGlzKGV2ZW50RGVmaW5pdGlvbiwgJ2JwbW46RXJyb3JFdmVudERlZmluaXRpb24nKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICByZWY6IGV2ZW50RGVmaW5pdGlvbi5lcnJvclJlZlxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoaXMoZXZlbnREZWZpbml0aW9uLCAnYnBtbjpNZXNzYWdlRXZlbnREZWZpbml0aW9uJykpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmJhc2VFdmVudCxcbiAgICAgICAgdHlwZTogJ21lc3NhZ2UnLFxuICAgICAgICByZWY6IGV2ZW50RGVmaW5pdGlvbi5tZXNzYWdlUmVmXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChpcyhldmVudERlZmluaXRpb24sICdicG1uOkNvbXBlbnNhdGVFdmVudERlZmluaXRpb24nKSkge1xuXG4gICAgICBsZXQgcmVmID0gZXZlbnREZWZpbml0aW9uLmFjdGl2aXR5UmVmICYmIGVsZW1lbnRSZWdpc3RyeS5nZXQoZXZlbnREZWZpbml0aW9uLmFjdGl2aXR5UmVmLmlkKTtcblxuICAgICAgaWYgKCFyZWYpIHtcblxuICAgICAgICBpZiAoaXNTdGFydEV2ZW50KGVsZW1lbnQpICYmIGlzRXZlbnRTdWJQcm9jZXNzKGVsZW1lbnQucGFyZW50KSkge1xuXG4gICAgICAgICAgLy8gc3RhcnQgZXZlbnQgaW4gZXZlbnQgc3ViLXByb2Nlc3MgY29tcGVuc2F0ZXNcbiAgICAgICAgICAvLyBwYXJlbnQgcHJvY2VzcyAob3IgcGFydGljaXBhbnQpXG4gICAgICAgICAgcmVmID0gZWxlbWVudC5wYXJlbnQucGFyZW50O1xuICAgICAgICB9IGVsc2UgaWYgKGlzQm91bmRhcnlFdmVudChlbGVtZW50KSkge1xuXG4gICAgICAgICAgLy8gYm91bmRhcnkgZXZlbnQgY29tcGVuc2F0ZXMgYWN0aXZpdHkgaXQgaXMgYXR0YWNoZWQgdG9cbiAgICAgICAgICByZWYgPSBlbGVtZW50Lmhvc3Q7XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAvLyBwYXJlbnQgaXMgY2FuY2VsIHNjb3BlXG4gICAgICAgICAgcmVmID0gZWxlbWVudC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYmFzZUV2ZW50LFxuICAgICAgICB0eXBlOiAnY29tcGVuc2F0ZScsXG4gICAgICAgIHJlZixcbiAgICAgICAgcGVyc2lzdGVudDogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gZXZlbnQgZGVmaW5pdGlvbicsIGV2ZW50RGVmaW5pdGlvbik7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVTY29wZShjb250ZXh0LCBlbWl0RXZlbnQgPSB0cnVlKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICBlbGVtZW50LFxuICAgICAgcGFyZW50OiBwYXJlbnRTY29wZSxcbiAgICAgIGluaXRpYXRvclxuICAgIH0gPSBjb250ZXh0O1xuXG4gICAgZW1pdEV2ZW50ICYmIHRyYWNlKCdjcmVhdGVTY29wZScsIHtcbiAgICAgIGVsZW1lbnQsXG4gICAgICBzY29wZTogcGFyZW50U2NvcGVcbiAgICB9KTtcblxuICAgIGNvbnN0IHNjb3BlID0gbmV3IFNjb3BlKGlkcy5uZXh0KCksIGVsZW1lbnQsIHBhcmVudFNjb3BlLCBpbml0aWF0b3IpO1xuXG4gICAgaWYgKHBhcmVudFNjb3BlKSB7XG4gICAgICBwYXJlbnRTY29wZS5jaGlsZHJlbi5wdXNoKHNjb3BlKTtcbiAgICB9XG5cbiAgICBzY29wZXMuYWRkKHNjb3BlKTtcblxuICAgIGVtaXRFdmVudCAmJiBlbWl0KCdjcmVhdGVTY29wZScsIHtcbiAgICAgIHNjb3BlXG4gICAgfSk7XG5cbiAgICBlbGVtZW50Q2hhbmdlZChlbGVtZW50KTtcblxuICAgIGlmIChwYXJlbnRTY29wZSkge1xuICAgICAgZWxlbWVudENoYW5nZWQocGFyZW50U2NvcGUuZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNjb3BlO1xuICB9XG5cbiAgZnVuY3Rpb24gc3Vic2NyaXB0aW9uRmlsdGVyKGZpbHRlcikge1xuXG4gICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBmaWx0ZXI7XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgZXZlbnQ6IF9ldmVudCxcbiAgICAgIGVsZW1lbnQsXG4gICAgICBzY29wZVxuICAgIH0gPSBmaWx0ZXI7XG5cbiAgICBjb25zdCBlbGVtZW50cyA9IGZpbHRlci5lbGVtZW50cyB8fCAoZWxlbWVudCAmJiBbIGVsZW1lbnQgXSk7XG4gICAgY29uc3QgZXZlbnQgPSBfZXZlbnQgJiYgZ2V0RXZlbnQoX2V2ZW50KTtcblxuICAgIHJldHVybiAoXG4gICAgICAoc3Vic2NyaXB0aW9uKSA9PlxuICAgICAgICAoIWV2ZW50IHx8IGV2ZW50c01hdGNoKGV2ZW50LCBzdWJzY3JpcHRpb24uZXZlbnQpKSAmJlxuICAgICAgICAoIWVsZW1lbnRzIHx8IGVsZW1lbnRzLmluY2x1ZGVzKHN1YnNjcmlwdGlvbi5lbGVtZW50KSkgJiZcbiAgICAgICAgKCFzY29wZSB8fCBzY29wZSA9PT0gc3Vic2NyaXB0aW9uLnNjb3BlKVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBzY29wZVN1YnNjcmlwdGlvbkZpbHRlcihldmVudCkge1xuICAgIGNvbnN0IG1hdGNoZXNTdWJzY3JpcHRpb24gPSBldmVudCA9PT0gJ2Z1bmN0aW9uJyA/IGV2ZW50IDogc3Vic2NyaXB0aW9uRmlsdGVyKGV2ZW50KTtcblxuICAgIHJldHVybiAoXG4gICAgICBzY29wZSA9PiBBcnJheS5mcm9tKHNjb3BlLnN1YnNjcmlwdGlvbnMpLnNvbWUobWF0Y2hlc1N1YnNjcmlwdGlvbilcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gc2NvcGVGaWx0ZXIoZmlsdGVyKSB7XG5cbiAgICBpZiAodHlwZW9mIGZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGZpbHRlcjtcbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICBlbGVtZW50LFxuICAgICAgd2FpdHNPbkVsZW1lbnQsXG4gICAgICBwYXJlbnQsXG4gICAgICB0cmFpdCA9IFNjb3BlVHJhaXRzLlJVTk5JTkcsXG4gICAgICBzdWJzY3JpYmVkVG9cbiAgICB9ID0gZmlsdGVyO1xuXG4gICAgY29uc3QgaXNTdWJzY3JpYmVkID0gc3Vic2NyaWJlZFRvID8gc2NvcGVTdWJzY3JpcHRpb25GaWx0ZXIoc3Vic2NyaWJlZFRvKSA6ICgpID0+IHRydWU7XG5cbiAgICByZXR1cm4gKFxuICAgICAgc2NvcGUgPT5cbiAgICAgICAgKCFlbGVtZW50IHx8IHNjb3BlLmVsZW1lbnQgPT09IGVsZW1lbnQpICYmXG4gICAgICAgICghcGFyZW50IHx8IHNjb3BlLnBhcmVudCA9PT0gcGFyZW50KSAmJlxuICAgICAgICAoIXdhaXRzT25FbGVtZW50IHx8IHNjb3BlLmdldFRva2Vuc0J5RWxlbWVudCh3YWl0c09uRWxlbWVudCkgPiAwKSAmJlxuICAgICAgICBzY29wZS5oYXNUcmFpdCh0cmFpdCkgJiZcbiAgICAgICAgaXNTdWJzY3JpYmVkKHNjb3BlKVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kU3Vic2NyaXB0aW9ucyhmaWx0ZXIpIHtcbiAgICByZXR1cm4gZmlsdGVyU2V0KHN1YnNjcmlwdGlvbnMsIHN1YnNjcmlwdGlvbkZpbHRlcihmaWx0ZXIpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRTdWJzY3JpcHRpb24oZmlsdGVyKSB7XG4gICAgcmV0dXJuIGZpbmRTZXQoc3Vic2NyaXB0aW9ucywgc3Vic2NyaXB0aW9uRmlsdGVyKGZpbHRlcikpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZFNjb3BlcyhmaWx0ZXIpIHtcbiAgICByZXR1cm4gZmlsdGVyU2V0KHNjb3Blcywgc2NvcGVGaWx0ZXIoZmlsdGVyKSk7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kU2NvcGUoZmlsdGVyKSB7XG4gICAgcmV0dXJuIGZpbmRTZXQoc2NvcGVzLCBzY29wZUZpbHRlcihmaWx0ZXIpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3lTY29wZShzY29wZSwgaW5pdGlhdG9yID0gbnVsbCkge1xuXG4gICAgaWYgKHNjb3BlLmRlc3Ryb3llZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNjb3BlLmRlc3Ryb3koaW5pdGlhdG9yKTtcblxuICAgIC8vIHJlbW92ZSBvdXRkYXRlZCBzdWJzY3JpcHRpb25zXG4gICAgZm9yIChjb25zdCBzdWJzY3JpcHRpb24gb2Ygc2NvcGUuc3Vic2NyaXB0aW9ucykge1xuICAgICAgY29uc3QgdHJhaXQgPSBzdWJzY3JpcHRpb24uZXZlbnQudHJhaXRzIHx8IFNjb3BlVHJhaXRzLkFDVElWRTtcblxuICAgICAgaWYgKCFzY29wZS5oYXNUcmFpdCh0cmFpdCkpIHtcbiAgICAgICAgdW5zdWJzY3JpYmUoc3Vic2NyaXB0aW9uKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkZXBlbmRpbmcgb24gdGFrZW4gdHJhbnNpdGlvbiBzY29wZSBtYW55IG5vdCBhY3R1YWxseVxuICAgIC8vIGJlIGRlc3Ryb3llZCBidXQgaW4gYW4gaW5hY3RpdmUgLyBjb21wbGV0ZWQgc3RhdGVcbiAgICAvL1xuICAgIC8vIG9ubHkgcGVyZm9ybSBhZGRpdGlvbmFsIGRlc3RydWN0aXZlIG9wZXJhdGlvbnMgaW4gY2FzZSB3ZSdyZVxuICAgIC8vIGFjdHVhbGx5IERFQUQuXG4gICAgaWYgKHNjb3BlLmRlc3Ryb3llZCkge1xuXG4gICAgICAvLyBkZXN0cm95IGNoaWxkIHNjb3Blc1xuICAgICAgZm9yIChjb25zdCBjaGlsZFNjb3BlIG9mIHNjb3BlLmNoaWxkcmVuKSB7XG4gICAgICAgIGlmICghY2hpbGRTY29wZS5kZXN0cm95ZWQpIHtcbiAgICAgICAgICBkZXN0cm95U2NvcGUoY2hpbGRTY29wZSwgaW5pdGlhdG9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0cmFjZSgnZGVzdHJveVNjb3BlJywge1xuICAgICAgICBlbGVtZW50OiBzY29wZS5lbGVtZW50LFxuICAgICAgICBzY29wZVxuICAgICAgfSk7XG5cbiAgICAgIC8vIHJlbW92ZSBkZWFkIHNjb3BlXG4gICAgICBzY29wZXMuZGVsZXRlKHNjb3BlKTtcblxuICAgICAgZW1pdCgnZGVzdHJveVNjb3BlJywge1xuICAgICAgICBzY29wZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZWxlbWVudENoYW5nZWQoc2NvcGUuZWxlbWVudCk7XG5cbiAgICBpZiAoc2NvcGUucGFyZW50KSB7XG4gICAgICBlbGVtZW50Q2hhbmdlZChzY29wZS5wYXJlbnQuZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJhY2UoYWN0aW9uLCBjb250ZXh0KSB7XG5cbiAgICBlbWl0KCd0cmFjZScsIHtcbiAgICAgIC4uLmNvbnRleHQsXG4gICAgICBhY3Rpb25cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVsZW1lbnRDaGFuZ2VkKGVsZW1lbnQpIHtcbiAgICBjaGFuZ2VkRWxlbWVudHMuYWRkKGVsZW1lbnQpO1xuXG4gICAgLy8gdGljaywgdW5sZXNzIGpvYnMgYXJlIHF1ZXVlZFxuICAgIC8vIChhbmQgdGljayBpcyBnb2luZyB0byBoYXBwZW4gbmF0dXJhbGx5KVxuICAgIGlmICgham9icy5sZW5ndGgpIHtcbiAgICAgIGVtaXQoJ3RpY2snKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzY29wZUNoYW5nZWQoc2NvcGUpIHtcbiAgICBlbWl0KCdzY29wZUNoYW5nZWQnLCB7XG4gICAgICBzY29wZVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZW1pdChldmVudCwgcGF5bG9hZCA9IHt9KSB7XG4gICAgcmV0dXJuIGV2ZW50QnVzLmZpcmUoYHRva2VuU2ltdWxhdGlvbi5zaW11bGF0b3IuJHtldmVudH1gLCBwYXlsb2FkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uKGV2ZW50LCBjYWxsYmFjaykge1xuICAgIGV2ZW50QnVzLm9uKCd0b2tlblNpbXVsYXRpb24uc2ltdWxhdG9yLicgKyBldmVudCwgY2FsbGJhY2spO1xuICB9XG5cbiAgZnVuY3Rpb24gb2ZmKGV2ZW50LCBjYWxsYmFjaykge1xuICAgIGV2ZW50QnVzLm9mZigndG9rZW5TaW11bGF0aW9uLnNpbXVsYXRvci4nICsgZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldENvbmZpZyhlbGVtZW50LCB1cGRhdGVkQ29uZmlnKSB7XG5cbiAgICBjb25zdCBleGlzdGluZ0NvbmZpZyA9IGdldENvbmZpZyhlbGVtZW50KTtcblxuICAgIGNvbmZpZ3VyYXRpb25bZWxlbWVudC5pZCB8fCBlbGVtZW50XSA9IHtcbiAgICAgIC4uLmV4aXN0aW5nQ29uZmlnLFxuICAgICAgLi4udXBkYXRlZENvbmZpZ1xuICAgIH07XG5cbiAgICBlbGVtZW50Q2hhbmdlZChlbGVtZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRpYWxpemVSb290U2NvcGVzKCkge1xuXG4gICAgY29uc3Qgcm9vdFNjb3BlcyA9IFtdO1xuXG4gICAgZWxlbWVudFJlZ2lzdHJ5LmZvckVhY2goZWxlbWVudCA9PiB7XG5cbiAgICAgIGlmICghaXNBbnkoZWxlbWVudCwgWyAnYnBtbjpQcm9jZXNzJywgJ2JwbW46UGFydGljaXBhbnQnIF0pKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2NvcGUgPSBjcmVhdGVTY29wZSh7XG4gICAgICAgIGVsZW1lbnRcbiAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgcm9vdFNjb3Blcy5wdXNoKHNjb3BlKTtcblxuICAgICAgY29uc3Qgc3RhcnRFdmVudHMgPSBlbGVtZW50LmNoaWxkcmVuLmZpbHRlcihpc1N0YXJ0RXZlbnQpO1xuXG4gICAgICBjb25zdCBpbXBsaWNpdFN0YXJ0RXZlbnRzID0gZWxlbWVudC5jaGlsZHJlbi5maWx0ZXIoaXNJbXBsaWNpdFN0YXJ0RXZlbnQpO1xuXG4gICAgICBmb3IgKGNvbnN0IHN0YXJ0RXZlbnQgb2Ygc3RhcnRFdmVudHMpIHtcblxuICAgICAgICBjb25zdCBldmVudCA9IHtcbiAgICAgICAgICAuLi5nZXRFdmVudChzdGFydEV2ZW50KSxcbiAgICAgICAgICBpbnRlcnJ1cHRpbmc6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc3RhcnQgZXZlbnRzIGNhbiBhbHdheXMgYmUgdHJpZ2dlcmVkXG4gICAgICAgIHN1YnNjcmliZShzY29wZSwgZXZlbnQsIGluaXRpYXRvciA9PiBzaWduYWwoe1xuICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgc3RhcnRFdmVudDogc3RhcnRFdmVudCxcbiAgICAgICAgICBpbml0aWF0b3JcbiAgICAgICAgfSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXN0YXJ0RXZlbnRzLmxlbmd0aCkge1xuXG4gICAgICAgIGZvciAoY29uc3QgaW1wbGljaXRTdGFydEV2ZW50IG9mIGltcGxpY2l0U3RhcnRFdmVudHMpIHtcblxuICAgICAgICAgIGNvbnN0IGV2ZW50ID0gZ2V0Tm9uZUV2ZW50KGltcGxpY2l0U3RhcnRFdmVudCk7XG5cbiAgICAgICAgICAvLyBzdGFydCBldmVudHMgY2FuIGFsd2F5cyBiZSB0cmlnZ2VyZWRcbiAgICAgICAgICBzdWJzY3JpYmUoc2NvcGUsIGV2ZW50LCBpbml0aWF0b3IgPT4gc2lnbmFsKHtcbiAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICBpbml0aWF0b3JcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByb290U2NvcGVzO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdGlhbGl6ZVNjb3BlKGNvbnRleHQpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgIGVsZW1lbnRcbiAgICB9ID0gY29udGV4dDtcblxuICAgIGNvbnN0IHNjb3BlID0gY3JlYXRlU2NvcGUoY29udGV4dCk7XG5cbiAgICBjb25zdCB7XG4gICAgICBjaGlsZHJlbiA9IFtdLFxuICAgICAgYXR0YWNoZXJzID0gW11cbiAgICB9ID0gZWxlbWVudDtcblxuICAgIGZvciAoY29uc3QgY2hpbGRFbGVtZW50IG9mIGNoaWxkcmVuKSB7XG5cbiAgICAgIC8vIGV2ZW50IHN1Yi1wcm9jZXNzIHN0YXJ0IGV2ZW50c1xuICAgICAgaWYgKGlzRXZlbnRTdWJQcm9jZXNzKGNoaWxkRWxlbWVudCkpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRFdmVudHMgPSBjaGlsZEVsZW1lbnQuY2hpbGRyZW4uZmlsdGVyKFxuICAgICAgICAgIGVsZW1lbnQgPT4gaXNTdGFydEV2ZW50KGVsZW1lbnQpICYmICFpc0NvbXBlbnNhdGlvbkV2ZW50KGVsZW1lbnQpXG4gICAgICAgICk7XG5cbiAgICAgICAgZm9yIChjb25zdCBzdGFydEV2ZW50IG9mIHN0YXJ0RXZlbnRzKSB7XG4gICAgICAgICAgc3Vic2NyaWJlKHNjb3BlLCBzdGFydEV2ZW50LCBpbml0aWF0b3IgPT4ge1xuXG4gICAgICAgICAgICByZXR1cm4gc2lnbmFsKHtcbiAgICAgICAgICAgICAgZWxlbWVudDogY2hpbGRFbGVtZW50LFxuICAgICAgICAgICAgICBwYXJlbnRTY29wZTogc2NvcGUsXG4gICAgICAgICAgICAgIHN0YXJ0RXZlbnQsXG4gICAgICAgICAgICAgIGluaXRpYXRvclxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGF0dGFjaGVyIG9mIGF0dGFjaGVycykge1xuXG4gICAgICAvLyBib3VuZGFyeSBldmVudHNcbiAgICAgIGlmIChpc0JvdW5kYXJ5RXZlbnQoYXR0YWNoZXIpICYmICFpc0NvbXBlbnNhdGlvbkV2ZW50KGF0dGFjaGVyKSkge1xuXG4gICAgICAgIHN1YnNjcmliZShzY29wZSwgYXR0YWNoZXIsIGluaXRpYXRvciA9PiB7XG4gICAgICAgICAgcmV0dXJuIHNpZ25hbCh7XG4gICAgICAgICAgICBlbGVtZW50OiBhdHRhY2hlcixcbiAgICAgICAgICAgIHBhcmVudFNjb3BlOiBzY29wZS5wYXJlbnQsXG4gICAgICAgICAgICBob3N0U2NvcGU6IHNjb3BlLFxuICAgICAgICAgICAgaW5pdGlhdG9yXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzY29wZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENvbmZpZyhlbGVtZW50KSB7XG4gICAgcmV0dXJuIGNvbmZpZ3VyYXRpb25bZWxlbWVudC5pZCB8fCBlbGVtZW50XSB8fCB7fTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdhaXRGb3JTY29wZXMoc2NvcGUsIHNjb3Blcykge1xuXG4gICAgaWYgKCFzY29wZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZXZlbnQgPSB7XG4gICAgICB0eXBlOiAnYWxsLWNvbXBsZXRlZCcsXG4gICAgICBwZXJzaXN0ZW50OiBmYWxzZVxuICAgIH07XG5cbiAgICBjb25zdCByZW1haW5pbmdTY29wZXMgPSBuZXcgU2V0KHNjb3Blcyk7XG5cbiAgICBjb25zdCBkZXN0cm95TGlzdGVuZXIgPSAoZGVzdHJveUV2ZW50KSA9PiB7XG4gICAgICByZW1haW5pbmdTY29wZXMuZGVsZXRlKGRlc3Ryb3lFdmVudC5zY29wZSk7XG5cbiAgICAgIGlmIChyZW1haW5pbmdTY29wZXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICBvZmYoJ2Rlc3Ryb3lTY29wZScsIGRlc3Ryb3lMaXN0ZW5lcik7XG5cbiAgICAgICAgdHJpZ2dlcih7XG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgZXZlbnRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIG9uKCdkZXN0cm95U2NvcGUnLCBkZXN0cm95TGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gd2FpdEF0RWxlbWVudChlbGVtZW50LCB3YWl0ID0gdHJ1ZSkge1xuICAgIHNldENvbmZpZyhlbGVtZW50LCB7XG4gICAgICB3YWl0XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICBmb3IgKGNvbnN0IHNjb3BlIG9mIHNjb3Blcykge1xuICAgICAgZGVzdHJveVNjb3BlKHNjb3BlKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHJvb3RTY29wZSBvZiBpbml0aWFsaXplUm9vdFNjb3BlcygpKSB7XG4gICAgICBzY29wZXMuYWRkKHJvb3RTY29wZSk7XG4gICAgfVxuXG4gICAgLy8gVE9ETyhuaWtrdSk6IGNsZWFyIGNvbmZpZ3VyYXRpb24/XG5cbiAgICBlbWl0KCd0aWNrJyk7XG4gICAgZW1pdCgncmVzZXQnKTtcbiAgfVxuXG4gIC8vIHV0aWx0aWVzXG4gIHRoaXMuY3JlYXRlU2NvcGUgPSBjcmVhdGVTY29wZTtcbiAgdGhpcy5kZXN0cm95U2NvcGUgPSBkZXN0cm95U2NvcGU7XG5cbiAgLy8gaW5zcGVjdGlvblxuICB0aGlzLmZpbmRTY29wZSA9IGZpbmRTY29wZTtcbiAgdGhpcy5maW5kU2NvcGVzID0gZmluZFNjb3BlcztcblxuICB0aGlzLmZpbmRTdWJzY3JpcHRpb24gPSBmaW5kU3Vic2NyaXB0aW9uO1xuICB0aGlzLmZpbmRTdWJzY3JpcHRpb25zID0gZmluZFN1YnNjcmlwdGlvbnM7XG5cbiAgLy8gY29uZmlndXJhdGlvblxuICB0aGlzLndhaXRBdEVsZW1lbnQgPSB3YWl0QXRFbGVtZW50O1xuXG4gIHRoaXMud2FpdEZvclNjb3BlcyA9IHdhaXRGb3JTY29wZXM7XG5cbiAgdGhpcy5zZXRDb25maWcgPSBzZXRDb25maWc7XG4gIHRoaXMuZ2V0Q29uZmlnID0gZ2V0Q29uZmlnO1xuXG4gIC8vIGRyaXZpbmcgc2ltdWxhdGlvbiBmb3J3YXJkXG4gIHRoaXMuc2lnbmFsID0gc2lnbmFsO1xuICB0aGlzLmVudGVyID0gZW50ZXI7XG4gIHRoaXMuZXhpdCA9IGV4aXQ7XG5cbiAgLy8gQlBNTiBldmVudCBzdWJzY3JpcHRpb25zIGFuZCB0cmlnZ2Vyc1xuICB0aGlzLnN1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgdGhpcy50cmlnZ2VyID0gdHJpZ2dlcjtcblxuICAvLyBsaWZlLWN5Y2xlXG4gIHRoaXMucmVzZXQgPSByZXNldDtcblxuICAvLyBlbWl0dGVyXG4gIHRoaXMub24gPSBvbjtcbiAgdGhpcy5vZmYgPSBvZmY7XG5cbiAgLy8gZXh0ZW5zaW9uXG4gIHRoaXMucmVnaXN0ZXJCZWhhdmlvciA9IGZ1bmN0aW9uKGVsZW1lbnQsIGJlaGF2aW9yKSB7XG4gICAgYmVoYXZpb3JzW2VsZW1lbnRdID0gYmVoYXZpb3I7XG4gIH07XG59XG5cblNpbXVsYXRvci4kaW5qZWN0ID0gW1xuICAnaW5qZWN0b3InLFxuICAnZXZlbnRCdXMnLFxuICAnZWxlbWVudFJlZ2lzdHJ5J1xuXTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIE5vb3BCZWhhdmlvcigpIHtcblxuICB0aGlzLnNpZ25hbCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICBjb25zb2xlLmxvZygnaWdub3JlZCAjZXhpdCcsIGNvbnRleHQuZWxlbWVudCk7XG4gIH07XG5cbiAgdGhpcy5leGl0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuICAgIGNvbnNvbGUubG9nKCdpZ25vcmVkICNleGl0JywgY29udGV4dC5lbGVtZW50KTtcbiAgfTtcblxuICB0aGlzLmVudGVyID0gZnVuY3Rpb24oY29udGV4dCkge1xuICAgIGNvbnNvbGUubG9nKCdpZ25vcmVkICNlbnRlcicsIGNvbnRleHQuZWxlbWVudCk7XG4gIH07XG5cbn1cblxuZnVuY3Rpb24gaXNSZXRocm93KGV2ZW50LCBpbnRlcnJ1cHQpIHtcbiAgcmV0dXJuIChcbiAgICBldmVudC50eXBlID09PSBpbnRlcnJ1cHQudHlwZSAmJlxuICAgIGV2ZW50LmJvdW5kYXJ5ICYmICFpbnRlcnJ1cHQuYm91bmRhcnlcbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNJbXBsaWNpdE1lc3NhZ2VDYXRjaChlbGVtZW50KSB7XG4gIHJldHVybiBpcyhlbGVtZW50LCAnYnBtbjpSZWNlaXZlVGFzaycpIHx8IGVsZW1lbnQuaW5jb21pbmcuc29tZShlbGVtZW50ID0+IGlzKGVsZW1lbnQsICdicG1uOk1lc3NhZ2VGbG93JykpO1xufVxuXG5mdW5jdGlvbiBpc1NwZWNpYWxCb3VuZGFyeUV2ZW50KGVsZW1lbnQpIHtcbiAgaWYgKCFpc0JvdW5kYXJ5RXZlbnQoZWxlbWVudCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBldmVudERlZmluaXRpb25zID0gZ2V0RXZlbnREZWZpbml0aW9ucyhlbGVtZW50KTtcblxuICByZXR1cm4gIWV2ZW50RGVmaW5pdGlvbnNbMF0gfHwgaXNBbnkoZXZlbnREZWZpbml0aW9uc1swXSwgW1xuICAgICdicG1uOkNvbmRpdGlvbmFsRXZlbnREZWZpbml0aW9uJywgJ2JwbW46VGltZXJFdmVudERlZmluaXRpb24nXG4gIF0pO1xufVxuXG5mdW5jdGlvbiBnZXRFdmVudERlZmluaXRpb25zKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQuYnVzaW5lc3NPYmplY3QuZ2V0KCdldmVudERlZmluaXRpb25zJykgfHwgW107XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/simulator/Simulator.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/ActivityBehavior.js":
/*!*****************************************************!*\
  !*** ./lib/simulator/behaviors/ActivityBehavior.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ActivityBehavior)\n/* harmony export */ });\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/ModelUtil */ \"./lib/simulator/util/ModelUtil.js\");\n\n\n\nfunction ActivityBehavior(\n    simulator,\n    scopeBehavior,\n    transactionBehavior\n) {\n  this._simulator = simulator;\n  this._scopeBehavior = scopeBehavior;\n  this._transactionBehavior = transactionBehavior;\n\n  const elements = [\n    'bpmn:BusinessRuleTask',\n    'bpmn:CallActivity',\n    'bpmn:ManualTask',\n    'bpmn:ScriptTask',\n    'bpmn:ServiceTask',\n    'bpmn:Task',\n    'bpmn:UserTask'\n  ];\n\n  for (const element of elements) {\n    simulator.registerBehavior(element, this);\n  }\n}\n\nActivityBehavior.$inject = [\n  'simulator',\n  'scopeBehavior',\n  'transactionBehavior'\n];\n\nActivityBehavior.prototype.signal = function(context) {\n\n  // trigger messages that are pending send\n  const event = this._triggerMessages(context);\n\n  if (event) {\n    return this.signalOnEvent(context, event);\n  }\n\n  this._simulator.exit(context);\n};\n\nActivityBehavior.prototype.enter = function(context) {\n\n  const {\n    element\n  } = context;\n\n  const continueEvent = this.waitAtElement(element);\n\n  if (continueEvent) {\n    return this.signalOnEvent(context, continueEvent);\n  }\n\n  // trigger messages that are pending send\n  const event = this._triggerMessages(context);\n\n  if (event) {\n    return this.signalOnEvent(context, event);\n  }\n\n  this._simulator.exit(context);\n};\n\nActivityBehavior.prototype.exit = function(context) {\n\n  const {\n    element,\n    scope\n  } = context;\n\n  const parentScope = scope.parent;\n\n  // TODO(nikku): if a outgoing flow is conditional,\n  //              task has exclusive gateway semantics,\n  //              else, task has parallel gateway semantics\n\n  const complete = !scope.failed;\n\n  // compensation is registered AFTER successful completion\n  // of normal scope activities (non event sub-processes).\n  //\n  // we must register it now, not earlier\n  if (complete && !(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isEventSubProcess)(element)) {\n    this._transactionBehavior.registerCompensation(scope);\n  }\n\n  // if exception flow is active,\n  // do not activate any outgoing flows\n  const activatedFlows = complete\n    ? element.outgoing.filter(_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isSequenceFlow)\n    : [];\n\n  activatedFlows.forEach(\n    element => this._simulator.enter({\n      element,\n      scope: parentScope\n    })\n  );\n\n  // element has token sink semantics\n  if (activatedFlows.length === 0) {\n    this._scopeBehavior.tryExit(parentScope, scope);\n  }\n};\n\nActivityBehavior.prototype.signalOnEvent = function(context, event) {\n\n  const {\n    scope,\n    element\n  } = context;\n\n  const subscription = this._simulator.subscribe(scope, event, initiator => {\n\n    subscription.remove();\n\n    return this._simulator.signal({\n      scope,\n      element,\n      initiator\n    });\n  });\n};\n\n/**\n * Returns an event to subscribe to if wait on element is configured.\n *\n * @param {Element} element\n *\n * @return {Object|null} event\n */\nActivityBehavior.prototype.waitAtElement = function(element) {\n  const wait = this._simulator.getConfig(element).wait;\n\n  return wait && {\n    element,\n    type: 'continue',\n    interrupting: false,\n    boundary: false\n  };\n};\n\nActivityBehavior.prototype._getMessageContexts = function(element, after = null) {\n\n  const filterAfter = after ? ctx => ctx.referencePoint.x > after.x : () => true;\n  const sortByReference = (a, b) => a.referencePoint.x - b.referencePoint.x;\n\n  return [\n    ...element.incoming.filter(_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isMessageFlow).map(flow => ({\n      incoming: flow,\n      referencePoint: last(flow.waypoints)\n    })),\n    ...element.outgoing.filter(_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isMessageFlow).map(flow => ({\n      outgoing: flow,\n      referencePoint: first(flow.waypoints)\n    }))\n  ].sort(sortByReference).filter(filterAfter);\n};\n\n/**\n * @param {any} context\n *\n * @return {Object} event to subscribe to proceed\n */\nActivityBehavior.prototype._triggerMessages = function(context) {\n\n  // check for the next message flows to either\n  // trigger or wait for; this implements intuitive,\n  // as-you-would expect message flow execution in modeling\n  // direction (left-to-right).\n\n  const {\n    element,\n    initiator,\n    scope\n  } = context;\n\n  let messageContexts = scope.messageContexts;\n\n  if (!messageContexts) {\n    messageContexts = scope.messageContexts = this._getMessageContexts(element);\n  }\n\n  const initiatingFlow = initiator && initiator.element;\n\n  if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isMessageFlow)(initiatingFlow)) {\n\n    // ignore out of bounds messages received;\n    // user may manually advance and force send all outgoing\n    // messages\n    if (scope.expectedIncoming !== initiatingFlow) {\n      console.debug('Simulator :: ActivityBehavior :: ignoring out-of-bounds message');\n\n      return;\n    }\n  }\n\n  while (messageContexts.length) {\n    const {\n      incoming,\n      outgoing\n    } = messageContexts.shift();\n\n    if (incoming) {\n\n      // force sending of all remaining messages,\n      // as the user triggered the task manually (for demonstration\n      // purposes\n      if (!initiator) {\n        continue;\n      }\n\n      // remember expected incoming for future use\n      scope.expectedIncoming = incoming;\n\n      return {\n        element,\n        type: 'message',\n        name: incoming.id,\n        interrupting: false,\n        boundary: false\n      };\n    }\n\n    this._simulator.signal({\n      element: outgoing\n    });\n  }\n\n};\n\n\n// helpers //////////////////\n\nfunction first(arr) {\n  return arr && arr[0];\n}\n\nfunction last(arr) {\n  return arr && arr[arr.length - 1];\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9BY3Rpdml0eUJlaGF2aW9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBSTJCOzs7QUFHWjtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLElBQUk7O0FBRUo7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0VBQWlCO0FBQ3BDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDJEQUFjO0FBQzVDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsWUFBWSxhQUFhO0FBQ3pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsK0JBQStCLDBEQUFhO0FBQzVDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsK0JBQStCLDBEQUFhO0FBQzVDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLFdBQVcsS0FBSztBQUNoQjtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxNQUFNLDhEQUFhOztBQUVuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL3NpbXVsYXRvci9iZWhhdmlvcnMvQWN0aXZpdHlCZWhhdmlvci5qcz9mMjJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGlzRXZlbnRTdWJQcm9jZXNzLFxuICBpc01lc3NhZ2VGbG93LFxuICBpc1NlcXVlbmNlRmxvd1xufSBmcm9tICcuLi91dGlsL01vZGVsVXRpbCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQWN0aXZpdHlCZWhhdmlvcihcbiAgICBzaW11bGF0b3IsXG4gICAgc2NvcGVCZWhhdmlvcixcbiAgICB0cmFuc2FjdGlvbkJlaGF2aW9yXG4pIHtcbiAgdGhpcy5fc2ltdWxhdG9yID0gc2ltdWxhdG9yO1xuICB0aGlzLl9zY29wZUJlaGF2aW9yID0gc2NvcGVCZWhhdmlvcjtcbiAgdGhpcy5fdHJhbnNhY3Rpb25CZWhhdmlvciA9IHRyYW5zYWN0aW9uQmVoYXZpb3I7XG5cbiAgY29uc3QgZWxlbWVudHMgPSBbXG4gICAgJ2JwbW46QnVzaW5lc3NSdWxlVGFzaycsXG4gICAgJ2JwbW46Q2FsbEFjdGl2aXR5JyxcbiAgICAnYnBtbjpNYW51YWxUYXNrJyxcbiAgICAnYnBtbjpTY3JpcHRUYXNrJyxcbiAgICAnYnBtbjpTZXJ2aWNlVGFzaycsXG4gICAgJ2JwbW46VGFzaycsXG4gICAgJ2JwbW46VXNlclRhc2snXG4gIF07XG5cbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgc2ltdWxhdG9yLnJlZ2lzdGVyQmVoYXZpb3IoZWxlbWVudCwgdGhpcyk7XG4gIH1cbn1cblxuQWN0aXZpdHlCZWhhdmlvci4kaW5qZWN0ID0gW1xuICAnc2ltdWxhdG9yJyxcbiAgJ3Njb3BlQmVoYXZpb3InLFxuICAndHJhbnNhY3Rpb25CZWhhdmlvcidcbl07XG5cbkFjdGl2aXR5QmVoYXZpb3IucHJvdG90eXBlLnNpZ25hbCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAvLyB0cmlnZ2VyIG1lc3NhZ2VzIHRoYXQgYXJlIHBlbmRpbmcgc2VuZFxuICBjb25zdCBldmVudCA9IHRoaXMuX3RyaWdnZXJNZXNzYWdlcyhjb250ZXh0KTtcblxuICBpZiAoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5zaWduYWxPbkV2ZW50KGNvbnRleHQsIGV2ZW50KTtcbiAgfVxuXG4gIHRoaXMuX3NpbXVsYXRvci5leGl0KGNvbnRleHQpO1xufTtcblxuQWN0aXZpdHlCZWhhdmlvci5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgY29uc3Qge1xuICAgIGVsZW1lbnRcbiAgfSA9IGNvbnRleHQ7XG5cbiAgY29uc3QgY29udGludWVFdmVudCA9IHRoaXMud2FpdEF0RWxlbWVudChlbGVtZW50KTtcblxuICBpZiAoY29udGludWVFdmVudCkge1xuICAgIHJldHVybiB0aGlzLnNpZ25hbE9uRXZlbnQoY29udGV4dCwgY29udGludWVFdmVudCk7XG4gIH1cblxuICAvLyB0cmlnZ2VyIG1lc3NhZ2VzIHRoYXQgYXJlIHBlbmRpbmcgc2VuZFxuICBjb25zdCBldmVudCA9IHRoaXMuX3RyaWdnZXJNZXNzYWdlcyhjb250ZXh0KTtcblxuICBpZiAoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5zaWduYWxPbkV2ZW50KGNvbnRleHQsIGV2ZW50KTtcbiAgfVxuXG4gIHRoaXMuX3NpbXVsYXRvci5leGl0KGNvbnRleHQpO1xufTtcblxuQWN0aXZpdHlCZWhhdmlvci5wcm90b3R5cGUuZXhpdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICBjb25zdCB7XG4gICAgZWxlbWVudCxcbiAgICBzY29wZVxuICB9ID0gY29udGV4dDtcblxuICBjb25zdCBwYXJlbnRTY29wZSA9IHNjb3BlLnBhcmVudDtcblxuICAvLyBUT0RPKG5pa2t1KTogaWYgYSBvdXRnb2luZyBmbG93IGlzIGNvbmRpdGlvbmFsLFxuICAvLyAgICAgICAgICAgICAgdGFzayBoYXMgZXhjbHVzaXZlIGdhdGV3YXkgc2VtYW50aWNzLFxuICAvLyAgICAgICAgICAgICAgZWxzZSwgdGFzayBoYXMgcGFyYWxsZWwgZ2F0ZXdheSBzZW1hbnRpY3NcblxuICBjb25zdCBjb21wbGV0ZSA9ICFzY29wZS5mYWlsZWQ7XG5cbiAgLy8gY29tcGVuc2F0aW9uIGlzIHJlZ2lzdGVyZWQgQUZURVIgc3VjY2Vzc2Z1bCBjb21wbGV0aW9uXG4gIC8vIG9mIG5vcm1hbCBzY29wZSBhY3Rpdml0aWVzIChub24gZXZlbnQgc3ViLXByb2Nlc3NlcykuXG4gIC8vXG4gIC8vIHdlIG11c3QgcmVnaXN0ZXIgaXQgbm93LCBub3QgZWFybGllclxuICBpZiAoY29tcGxldGUgJiYgIWlzRXZlbnRTdWJQcm9jZXNzKGVsZW1lbnQpKSB7XG4gICAgdGhpcy5fdHJhbnNhY3Rpb25CZWhhdmlvci5yZWdpc3RlckNvbXBlbnNhdGlvbihzY29wZSk7XG4gIH1cblxuICAvLyBpZiBleGNlcHRpb24gZmxvdyBpcyBhY3RpdmUsXG4gIC8vIGRvIG5vdCBhY3RpdmF0ZSBhbnkgb3V0Z29pbmcgZmxvd3NcbiAgY29uc3QgYWN0aXZhdGVkRmxvd3MgPSBjb21wbGV0ZVxuICAgID8gZWxlbWVudC5vdXRnb2luZy5maWx0ZXIoaXNTZXF1ZW5jZUZsb3cpXG4gICAgOiBbXTtcblxuICBhY3RpdmF0ZWRGbG93cy5mb3JFYWNoKFxuICAgIGVsZW1lbnQgPT4gdGhpcy5fc2ltdWxhdG9yLmVudGVyKHtcbiAgICAgIGVsZW1lbnQsXG4gICAgICBzY29wZTogcGFyZW50U2NvcGVcbiAgICB9KVxuICApO1xuXG4gIC8vIGVsZW1lbnQgaGFzIHRva2VuIHNpbmsgc2VtYW50aWNzXG4gIGlmIChhY3RpdmF0ZWRGbG93cy5sZW5ndGggPT09IDApIHtcbiAgICB0aGlzLl9zY29wZUJlaGF2aW9yLnRyeUV4aXQocGFyZW50U2NvcGUsIHNjb3BlKTtcbiAgfVxufTtcblxuQWN0aXZpdHlCZWhhdmlvci5wcm90b3R5cGUuc2lnbmFsT25FdmVudCA9IGZ1bmN0aW9uKGNvbnRleHQsIGV2ZW50KSB7XG5cbiAgY29uc3Qge1xuICAgIHNjb3BlLFxuICAgIGVsZW1lbnRcbiAgfSA9IGNvbnRleHQ7XG5cbiAgY29uc3Qgc3Vic2NyaXB0aW9uID0gdGhpcy5fc2ltdWxhdG9yLnN1YnNjcmliZShzY29wZSwgZXZlbnQsIGluaXRpYXRvciA9PiB7XG5cbiAgICBzdWJzY3JpcHRpb24ucmVtb3ZlKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fc2ltdWxhdG9yLnNpZ25hbCh7XG4gICAgICBzY29wZSxcbiAgICAgIGVsZW1lbnQsXG4gICAgICBpbml0aWF0b3JcbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gZXZlbnQgdG8gc3Vic2NyaWJlIHRvIGlmIHdhaXQgb24gZWxlbWVudCBpcyBjb25maWd1cmVkLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICpcbiAqIEByZXR1cm4ge09iamVjdHxudWxsfSBldmVudFxuICovXG5BY3Rpdml0eUJlaGF2aW9yLnByb3RvdHlwZS53YWl0QXRFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICBjb25zdCB3YWl0ID0gdGhpcy5fc2ltdWxhdG9yLmdldENvbmZpZyhlbGVtZW50KS53YWl0O1xuXG4gIHJldHVybiB3YWl0ICYmIHtcbiAgICBlbGVtZW50LFxuICAgIHR5cGU6ICdjb250aW51ZScsXG4gICAgaW50ZXJydXB0aW5nOiBmYWxzZSxcbiAgICBib3VuZGFyeTogZmFsc2VcbiAgfTtcbn07XG5cbkFjdGl2aXR5QmVoYXZpb3IucHJvdG90eXBlLl9nZXRNZXNzYWdlQ29udGV4dHMgPSBmdW5jdGlvbihlbGVtZW50LCBhZnRlciA9IG51bGwpIHtcblxuICBjb25zdCBmaWx0ZXJBZnRlciA9IGFmdGVyID8gY3R4ID0+IGN0eC5yZWZlcmVuY2VQb2ludC54ID4gYWZ0ZXIueCA6ICgpID0+IHRydWU7XG4gIGNvbnN0IHNvcnRCeVJlZmVyZW5jZSA9IChhLCBiKSA9PiBhLnJlZmVyZW5jZVBvaW50LnggLSBiLnJlZmVyZW5jZVBvaW50Lng7XG5cbiAgcmV0dXJuIFtcbiAgICAuLi5lbGVtZW50LmluY29taW5nLmZpbHRlcihpc01lc3NhZ2VGbG93KS5tYXAoZmxvdyA9PiAoe1xuICAgICAgaW5jb21pbmc6IGZsb3csXG4gICAgICByZWZlcmVuY2VQb2ludDogbGFzdChmbG93LndheXBvaW50cylcbiAgICB9KSksXG4gICAgLi4uZWxlbWVudC5vdXRnb2luZy5maWx0ZXIoaXNNZXNzYWdlRmxvdykubWFwKGZsb3cgPT4gKHtcbiAgICAgIG91dGdvaW5nOiBmbG93LFxuICAgICAgcmVmZXJlbmNlUG9pbnQ6IGZpcnN0KGZsb3cud2F5cG9pbnRzKVxuICAgIH0pKVxuICBdLnNvcnQoc29ydEJ5UmVmZXJlbmNlKS5maWx0ZXIoZmlsdGVyQWZ0ZXIpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gY29udGV4dFxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gZXZlbnQgdG8gc3Vic2NyaWJlIHRvIHByb2NlZWRcbiAqL1xuQWN0aXZpdHlCZWhhdmlvci5wcm90b3R5cGUuX3RyaWdnZXJNZXNzYWdlcyA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAvLyBjaGVjayBmb3IgdGhlIG5leHQgbWVzc2FnZSBmbG93cyB0byBlaXRoZXJcbiAgLy8gdHJpZ2dlciBvciB3YWl0IGZvcjsgdGhpcyBpbXBsZW1lbnRzIGludHVpdGl2ZSxcbiAgLy8gYXMteW91LXdvdWxkIGV4cGVjdCBtZXNzYWdlIGZsb3cgZXhlY3V0aW9uIGluIG1vZGVsaW5nXG4gIC8vIGRpcmVjdGlvbiAobGVmdC10by1yaWdodCkuXG5cbiAgY29uc3Qge1xuICAgIGVsZW1lbnQsXG4gICAgaW5pdGlhdG9yLFxuICAgIHNjb3BlXG4gIH0gPSBjb250ZXh0O1xuXG4gIGxldCBtZXNzYWdlQ29udGV4dHMgPSBzY29wZS5tZXNzYWdlQ29udGV4dHM7XG5cbiAgaWYgKCFtZXNzYWdlQ29udGV4dHMpIHtcbiAgICBtZXNzYWdlQ29udGV4dHMgPSBzY29wZS5tZXNzYWdlQ29udGV4dHMgPSB0aGlzLl9nZXRNZXNzYWdlQ29udGV4dHMoZWxlbWVudCk7XG4gIH1cblxuICBjb25zdCBpbml0aWF0aW5nRmxvdyA9IGluaXRpYXRvciAmJiBpbml0aWF0b3IuZWxlbWVudDtcblxuICBpZiAoaXNNZXNzYWdlRmxvdyhpbml0aWF0aW5nRmxvdykpIHtcblxuICAgIC8vIGlnbm9yZSBvdXQgb2YgYm91bmRzIG1lc3NhZ2VzIHJlY2VpdmVkO1xuICAgIC8vIHVzZXIgbWF5IG1hbnVhbGx5IGFkdmFuY2UgYW5kIGZvcmNlIHNlbmQgYWxsIG91dGdvaW5nXG4gICAgLy8gbWVzc2FnZXNcbiAgICBpZiAoc2NvcGUuZXhwZWN0ZWRJbmNvbWluZyAhPT0gaW5pdGlhdGluZ0Zsb3cpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoJ1NpbXVsYXRvciA6OiBBY3Rpdml0eUJlaGF2aW9yIDo6IGlnbm9yaW5nIG91dC1vZi1ib3VuZHMgbWVzc2FnZScpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgd2hpbGUgKG1lc3NhZ2VDb250ZXh0cy5sZW5ndGgpIHtcbiAgICBjb25zdCB7XG4gICAgICBpbmNvbWluZyxcbiAgICAgIG91dGdvaW5nXG4gICAgfSA9IG1lc3NhZ2VDb250ZXh0cy5zaGlmdCgpO1xuXG4gICAgaWYgKGluY29taW5nKSB7XG5cbiAgICAgIC8vIGZvcmNlIHNlbmRpbmcgb2YgYWxsIHJlbWFpbmluZyBtZXNzYWdlcyxcbiAgICAgIC8vIGFzIHRoZSB1c2VyIHRyaWdnZXJlZCB0aGUgdGFzayBtYW51YWxseSAoZm9yIGRlbW9uc3RyYXRpb25cbiAgICAgIC8vIHB1cnBvc2VzXG4gICAgICBpZiAoIWluaXRpYXRvcikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gcmVtZW1iZXIgZXhwZWN0ZWQgaW5jb21pbmcgZm9yIGZ1dHVyZSB1c2VcbiAgICAgIHNjb3BlLmV4cGVjdGVkSW5jb21pbmcgPSBpbmNvbWluZztcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgdHlwZTogJ21lc3NhZ2UnLFxuICAgICAgICBuYW1lOiBpbmNvbWluZy5pZCxcbiAgICAgICAgaW50ZXJydXB0aW5nOiBmYWxzZSxcbiAgICAgICAgYm91bmRhcnk6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMuX3NpbXVsYXRvci5zaWduYWwoe1xuICAgICAgZWxlbWVudDogb3V0Z29pbmdcbiAgICB9KTtcbiAgfVxuXG59O1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGZpcnN0KGFycikge1xuICByZXR1cm4gYXJyICYmIGFyclswXTtcbn1cblxuZnVuY3Rpb24gbGFzdChhcnIpIHtcbiAgcmV0dXJuIGFyciAmJiBhcnJbYXJyLmxlbmd0aCAtIDFdO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/ActivityBehavior.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/BoundaryEventBehavior.js":
/*!**********************************************************!*\
  !*** ./lib/simulator/behaviors/BoundaryEventBehavior.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BoundaryEventBehavior)\n/* harmony export */ });\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/ModelUtil */ \"./node_modules/bpmn-js/lib/util/ModelUtil.js\");\n\n\n\nfunction BoundaryEventBehavior(\n    simulator,\n    activityBehavior,\n    scopeBehavior) {\n\n  this._simulator = simulator;\n  this._activityBehavior = activityBehavior;\n  this._scopeBehavior = scopeBehavior;\n\n  simulator.registerBehavior('bpmn:BoundaryEvent', this);\n}\n\nBoundaryEventBehavior.prototype.signal = function(context) {\n\n  const {\n    element,\n    scope,\n    hostScope = this._simulator.findScope({\n      parent: scope.parent,\n      element: element.host\n    })\n  } = context;\n\n  if (!hostScope) {\n    throw new Error('host scope not found');\n  }\n\n  const cancelActivity = (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.getBusinessObject)(element).cancelActivity;\n\n  if (cancelActivity) {\n    this._scopeBehavior.interrupt(hostScope, scope);\n\n    // activities are pending completion before actual exit\n    const event = this._scopeBehavior.tryExit(hostScope, scope);\n\n    if (event) {\n      const subscription = this._simulator.subscribe(hostScope, event, initiator => {\n        subscription.remove();\n\n        return this._simulator.exit(context);\n      });\n\n      return;\n    }\n  }\n\n  this._simulator.exit(context);\n};\n\nBoundaryEventBehavior.prototype.exit = function(context) {\n  this._activityBehavior.exit(context);\n};\n\nBoundaryEventBehavior.$inject = [\n  'simulator',\n  'activityBehavior',\n  'scopeBehavior'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9Cb3VuZGFyeUV2ZW50QmVoYXZpb3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFMkI7OztBQUdaO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUIsa0VBQWlCOztBQUUxQztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9zaW11bGF0b3IvYmVoYXZpb3JzL0JvdW5kYXJ5RXZlbnRCZWhhdmlvci5qcz9mNWY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGdldEJ1c2luZXNzT2JqZWN0XG59IGZyb20gJy4uL3V0aWwvTW9kZWxVdGlsJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCb3VuZGFyeUV2ZW50QmVoYXZpb3IoXG4gICAgc2ltdWxhdG9yLFxuICAgIGFjdGl2aXR5QmVoYXZpb3IsXG4gICAgc2NvcGVCZWhhdmlvcikge1xuXG4gIHRoaXMuX3NpbXVsYXRvciA9IHNpbXVsYXRvcjtcbiAgdGhpcy5fYWN0aXZpdHlCZWhhdmlvciA9IGFjdGl2aXR5QmVoYXZpb3I7XG4gIHRoaXMuX3Njb3BlQmVoYXZpb3IgPSBzY29wZUJlaGF2aW9yO1xuXG4gIHNpbXVsYXRvci5yZWdpc3RlckJlaGF2aW9yKCdicG1uOkJvdW5kYXJ5RXZlbnQnLCB0aGlzKTtcbn1cblxuQm91bmRhcnlFdmVudEJlaGF2aW9yLnByb3RvdHlwZS5zaWduYWwgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgY29uc3Qge1xuICAgIGVsZW1lbnQsXG4gICAgc2NvcGUsXG4gICAgaG9zdFNjb3BlID0gdGhpcy5fc2ltdWxhdG9yLmZpbmRTY29wZSh7XG4gICAgICBwYXJlbnQ6IHNjb3BlLnBhcmVudCxcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQuaG9zdFxuICAgIH0pXG4gIH0gPSBjb250ZXh0O1xuXG4gIGlmICghaG9zdFNjb3BlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdob3N0IHNjb3BlIG5vdCBmb3VuZCcpO1xuICB9XG5cbiAgY29uc3QgY2FuY2VsQWN0aXZpdHkgPSBnZXRCdXNpbmVzc09iamVjdChlbGVtZW50KS5jYW5jZWxBY3Rpdml0eTtcblxuICBpZiAoY2FuY2VsQWN0aXZpdHkpIHtcbiAgICB0aGlzLl9zY29wZUJlaGF2aW9yLmludGVycnVwdChob3N0U2NvcGUsIHNjb3BlKTtcblxuICAgIC8vIGFjdGl2aXRpZXMgYXJlIHBlbmRpbmcgY29tcGxldGlvbiBiZWZvcmUgYWN0dWFsIGV4aXRcbiAgICBjb25zdCBldmVudCA9IHRoaXMuX3Njb3BlQmVoYXZpb3IudHJ5RXhpdChob3N0U2NvcGUsIHNjb3BlKTtcblxuICAgIGlmIChldmVudCkge1xuICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gdGhpcy5fc2ltdWxhdG9yLnN1YnNjcmliZShob3N0U2NvcGUsIGV2ZW50LCBpbml0aWF0b3IgPT4ge1xuICAgICAgICBzdWJzY3JpcHRpb24ucmVtb3ZlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpbXVsYXRvci5leGl0KGNvbnRleHQpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICB0aGlzLl9zaW11bGF0b3IuZXhpdChjb250ZXh0KTtcbn07XG5cbkJvdW5kYXJ5RXZlbnRCZWhhdmlvci5wcm90b3R5cGUuZXhpdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdGhpcy5fYWN0aXZpdHlCZWhhdmlvci5leGl0KGNvbnRleHQpO1xufTtcblxuQm91bmRhcnlFdmVudEJlaGF2aW9yLiRpbmplY3QgPSBbXG4gICdzaW11bGF0b3InLFxuICAnYWN0aXZpdHlCZWhhdmlvcicsXG4gICdzY29wZUJlaGF2aW9yJ1xuXTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/BoundaryEventBehavior.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/EndEventBehavior.js":
/*!*****************************************************!*\
  !*** ./lib/simulator/behaviors/EndEventBehavior.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EndEventBehavior)\n/* harmony export */ });\nfunction EndEventBehavior(\n    simulator,\n    scopeBehavior,\n    intermediateThrowEventBehavior) {\n\n  this._intermediateThrowEventBehavior = intermediateThrowEventBehavior;\n  this._scopeBehavior = scopeBehavior;\n\n  simulator.registerBehavior('bpmn:EndEvent', this);\n}\n\nEndEventBehavior.$inject = [\n  'simulator',\n  'scopeBehavior',\n  'intermediateThrowEventBehavior'\n];\n\nEndEventBehavior.prototype.enter = function(context) {\n  this._intermediateThrowEventBehavior.enter(context);\n};\n\nEndEventBehavior.prototype.signal = function(context) {\n  this._intermediateThrowEventBehavior.signal(context);\n};\n\nEndEventBehavior.prototype.exit = function(context) {\n\n  const {\n    scope\n  } = context;\n\n  this._scopeBehavior.tryExit(scope.parent, scope);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9FbmRFdmVudEJlaGF2aW9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9FbmRFdmVudEJlaGF2aW9yLmpzP2ZlMDUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRW5kRXZlbnRCZWhhdmlvcihcbiAgICBzaW11bGF0b3IsXG4gICAgc2NvcGVCZWhhdmlvcixcbiAgICBpbnRlcm1lZGlhdGVUaHJvd0V2ZW50QmVoYXZpb3IpIHtcblxuICB0aGlzLl9pbnRlcm1lZGlhdGVUaHJvd0V2ZW50QmVoYXZpb3IgPSBpbnRlcm1lZGlhdGVUaHJvd0V2ZW50QmVoYXZpb3I7XG4gIHRoaXMuX3Njb3BlQmVoYXZpb3IgPSBzY29wZUJlaGF2aW9yO1xuXG4gIHNpbXVsYXRvci5yZWdpc3RlckJlaGF2aW9yKCdicG1uOkVuZEV2ZW50JywgdGhpcyk7XG59XG5cbkVuZEV2ZW50QmVoYXZpb3IuJGluamVjdCA9IFtcbiAgJ3NpbXVsYXRvcicsXG4gICdzY29wZUJlaGF2aW9yJyxcbiAgJ2ludGVybWVkaWF0ZVRocm93RXZlbnRCZWhhdmlvcidcbl07XG5cbkVuZEV2ZW50QmVoYXZpb3IucHJvdG90eXBlLmVudGVyID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB0aGlzLl9pbnRlcm1lZGlhdGVUaHJvd0V2ZW50QmVoYXZpb3IuZW50ZXIoY29udGV4dCk7XG59O1xuXG5FbmRFdmVudEJlaGF2aW9yLnByb3RvdHlwZS5zaWduYWwgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHRoaXMuX2ludGVybWVkaWF0ZVRocm93RXZlbnRCZWhhdmlvci5zaWduYWwoY29udGV4dCk7XG59O1xuXG5FbmRFdmVudEJlaGF2aW9yLnByb3RvdHlwZS5leGl0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIGNvbnN0IHtcbiAgICBzY29wZVxuICB9ID0gY29udGV4dDtcblxuICB0aGlzLl9zY29wZUJlaGF2aW9yLnRyeUV4aXQoc2NvcGUucGFyZW50LCBzY29wZSk7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/EndEventBehavior.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/EventBasedGatewayBehavior.js":
/*!**************************************************************!*\
  !*** ./lib/simulator/behaviors/EventBasedGatewayBehavior.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EventBasedGatewayBehavior)\n/* harmony export */ });\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/ModelUtil */ \"./lib/simulator/util/ModelUtil.js\");\n\n\n\nfunction EventBasedGatewayBehavior(simulator) {\n  this._simulator = simulator;\n\n  simulator.registerBehavior('bpmn:EventBasedGateway', this);\n}\n\nEventBasedGatewayBehavior.$inject = [\n  'simulator'\n];\n\nEventBasedGatewayBehavior.prototype.enter = function(context) {\n\n  const {\n    element,\n    scope\n  } = context;\n\n  const parentScope = scope.parent;\n\n  const triggerElements = getTriggers(element);\n\n  // create subscriptions for outgoing event triggers\n  // do nothing else beyond that\n  const subscriptions = triggerElements.map(\n    triggerElement => this._simulator.subscribe(parentScope, triggerElement, initiator => {\n\n      // cancel all subscriptions\n      subscriptions.forEach(subscription => subscription.remove());\n\n      // destroy this scope\n      this._simulator.destroyScope(scope, initiator);\n\n      // signal triggered event\n      return this._simulator.signal({\n        element: triggerElement,\n        parentScope,\n        initiator\n      });\n    })\n  );\n\n};\n\n\n// helpers ////////////////\n\nfunction getTriggers(element) {\n  return element.outgoing.map(\n    outgoing => outgoing.target\n  ).filter(activity => (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isAny)(activity, [\n    'bpmn:IntermediateCatchEvent',\n    'bpmn:ReceiveTask'\n  ]));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9FdmVudEJhc2VkR2F0ZXdheUJlaGF2aW9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBDOzs7QUFHM0I7QUFDZjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNEQUFLO0FBQzVCO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL3NpbXVsYXRvci9iZWhhdmlvcnMvRXZlbnRCYXNlZEdhdGV3YXlCZWhhdmlvci5qcz9iN2MwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQW55IH0gZnJvbSAnLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEV2ZW50QmFzZWRHYXRld2F5QmVoYXZpb3Ioc2ltdWxhdG9yKSB7XG4gIHRoaXMuX3NpbXVsYXRvciA9IHNpbXVsYXRvcjtcblxuICBzaW11bGF0b3IucmVnaXN0ZXJCZWhhdmlvcignYnBtbjpFdmVudEJhc2VkR2F0ZXdheScsIHRoaXMpO1xufVxuXG5FdmVudEJhc2VkR2F0ZXdheUJlaGF2aW9yLiRpbmplY3QgPSBbXG4gICdzaW11bGF0b3InXG5dO1xuXG5FdmVudEJhc2VkR2F0ZXdheUJlaGF2aW9yLnByb3RvdHlwZS5lbnRlciA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICBjb25zdCB7XG4gICAgZWxlbWVudCxcbiAgICBzY29wZVxuICB9ID0gY29udGV4dDtcblxuICBjb25zdCBwYXJlbnRTY29wZSA9IHNjb3BlLnBhcmVudDtcblxuICBjb25zdCB0cmlnZ2VyRWxlbWVudHMgPSBnZXRUcmlnZ2VycyhlbGVtZW50KTtcblxuICAvLyBjcmVhdGUgc3Vic2NyaXB0aW9ucyBmb3Igb3V0Z29pbmcgZXZlbnQgdHJpZ2dlcnNcbiAgLy8gZG8gbm90aGluZyBlbHNlIGJleW9uZCB0aGF0XG4gIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSB0cmlnZ2VyRWxlbWVudHMubWFwKFxuICAgIHRyaWdnZXJFbGVtZW50ID0+IHRoaXMuX3NpbXVsYXRvci5zdWJzY3JpYmUocGFyZW50U2NvcGUsIHRyaWdnZXJFbGVtZW50LCBpbml0aWF0b3IgPT4ge1xuXG4gICAgICAvLyBjYW5jZWwgYWxsIHN1YnNjcmlwdGlvbnNcbiAgICAgIHN1YnNjcmlwdGlvbnMuZm9yRWFjaChzdWJzY3JpcHRpb24gPT4gc3Vic2NyaXB0aW9uLnJlbW92ZSgpKTtcblxuICAgICAgLy8gZGVzdHJveSB0aGlzIHNjb3BlXG4gICAgICB0aGlzLl9zaW11bGF0b3IuZGVzdHJveVNjb3BlKHNjb3BlLCBpbml0aWF0b3IpO1xuXG4gICAgICAvLyBzaWduYWwgdHJpZ2dlcmVkIGV2ZW50XG4gICAgICByZXR1cm4gdGhpcy5fc2ltdWxhdG9yLnNpZ25hbCh7XG4gICAgICAgIGVsZW1lbnQ6IHRyaWdnZXJFbGVtZW50LFxuICAgICAgICBwYXJlbnRTY29wZSxcbiAgICAgICAgaW5pdGlhdG9yXG4gICAgICB9KTtcbiAgICB9KVxuICApO1xuXG59O1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vL1xuXG5mdW5jdGlvbiBnZXRUcmlnZ2VycyhlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50Lm91dGdvaW5nLm1hcChcbiAgICBvdXRnb2luZyA9PiBvdXRnb2luZy50YXJnZXRcbiAgKS5maWx0ZXIoYWN0aXZpdHkgPT4gaXNBbnkoYWN0aXZpdHksIFtcbiAgICAnYnBtbjpJbnRlcm1lZGlhdGVDYXRjaEV2ZW50JyxcbiAgICAnYnBtbjpSZWNlaXZlVGFzaydcbiAgXSkpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/EventBasedGatewayBehavior.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/EventBehaviors.js":
/*!***************************************************!*\
  !*** ./lib/simulator/behaviors/EventBehaviors.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EventBehaviors)\n/* harmony export */ });\n/* harmony import */ var _util_ElementHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/ElementHelper */ \"./lib/util/ElementHelper.js\");\n/* harmony import */ var _ScopeTraits__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ScopeTraits */ \"./lib/simulator/ScopeTraits.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/ModelUtil */ \"./lib/simulator/util/ModelUtil.js\");\n\n\n\n\n\n\n\nfunction EventBehaviors(\n    simulator,\n    elementRegistry,\n    scopeBehavior) {\n\n  this._simulator = simulator;\n  this._elementRegistry = elementRegistry;\n  this._scopeBehavior = scopeBehavior;\n}\n\nEventBehaviors.$inject = [\n  'simulator',\n  'elementRegistry',\n  'scopeBehavior'\n];\n\n\nEventBehaviors.prototype.get = function(element) {\n\n  const behaviors = {\n    'bpmn:LinkEventDefinition': (context) => {\n\n      const {\n        element,\n        scope\n      } = context;\n\n      const link = getLinkDefinition(element);\n\n      const parentScope = scope.parent;\n      const parentElement = parentScope.element;\n\n      const linkTargets = parentElement.children.filter(element =>\n        (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isLinkCatch)(element) &&\n        getLinkDefinition(element).name === link.name\n      );\n\n      for (const linkTarget of linkTargets) {\n        this._simulator.signal({\n          element: linkTarget,\n          parentScope,\n          initiator: scope\n        });\n      }\n    },\n\n    'bpmn:SignalEventDefinition': (context) => {\n\n      // HINT: signals work only within the whole diagram,\n      //       triggers start events, boundary events and\n      //       intermediate catch events\n\n      const {\n        element,\n        scope\n      } = context;\n\n      const subscriptions = this._simulator.findSubscriptions({\n        event: element\n      });\n\n      const signaledScopes = new Set();\n\n      for (const subscription of subscriptions) {\n\n        const signaledScope = subscription.scope;\n\n        if (signaledScopes.has(signaledScope)) {\n          continue;\n        }\n\n        signaledScopes.add(signaledScope);\n\n        this._simulator.trigger({\n          event: element,\n          scope: signaledScope,\n          initiator: scope\n        });\n      }\n    },\n\n    'bpmn:EscalationEventDefinition': (context) => {\n\n      // HINT: escalations are propagated up the scope\n      //       chain and caught by the first matching boundary event\n      //       or event sub-process\n\n      const {\n        element,\n        scope\n      } = context;\n\n      const scopes = this._simulator.findScopes({\n        subscribedTo: {\n          event: element\n        },\n        trait: _ScopeTraits__WEBPACK_IMPORTED_MODULE_1__.ScopeTraits.ACTIVE\n      });\n\n      let triggerScope = scope;\n\n      while ((triggerScope = triggerScope.parent)) {\n\n        if (scopes.includes(triggerScope)) {\n          this._simulator.trigger({\n            event: element,\n            scope: triggerScope,\n            initiator: scope\n          });\n\n          break;\n        }\n      }\n\n    },\n\n    'bpmn:ErrorEventDefinition': (context) => {\n\n      // HINT: errors are handled in current scope only (does not bubble)\n\n      const {\n        element,\n        scope\n      } = context;\n\n      // TODO(nikku): ensure error always interrupts, also if no error\n      //              catch is present\n      this._simulator.trigger({\n        event: element,\n        initiator: scope,\n        scope: findSubscriptionScope(scope)\n      });\n    },\n    'bpmn:TerminateEventDefinition': (context) => {\n      const {\n        scope\n      } = context;\n\n      this._scopeBehavior.terminate(scope.parent, scope);\n    },\n\n    'bpmn:CancelEventDefinition': (context) => {\n\n      // HINT: cancels the surrounding transaction scope (does not bubble)\n\n      const {\n        scope,\n        element\n      } = context;\n\n      this._simulator.trigger({\n        event: element,\n        initiator: scope,\n        scope: findSubscriptionScope(scope)\n      });\n    },\n\n    'bpmn:CompensateEventDefinition': (context) => {\n\n      const {\n        scope,\n        element\n      } = context;\n\n      return this._simulator.waitForScopes(\n        scope,\n        this._simulator.trigger({\n          event: element,\n          scope: findSubscriptionScope(scope)\n        })\n      );\n    }\n  };\n\n  const entry = Object.entries(behaviors).find(\n    entry => (0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_2__.isTypedEvent)(element, entry[0])\n  );\n\n  return entry && entry[1];\n};\n\n\n// helpers ///////////////\n\nfunction getLinkDefinition(element) {\n  return (0,_util_ElementHelper__WEBPACK_IMPORTED_MODULE_2__.getEventDefinition)(element, 'bpmn:LinkEventDefinition');\n}\n\nfunction findSubscriptionScope(scope) {\n\n  // the scope is the first non event sub-process\n  while ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isEventSubProcess)(scope.parent.element)) {\n    scope = scope.parent;\n  }\n\n  return scope.parent;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9FdmVudEJlaGF2aW9ycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBR2tDOztBQUlWOztBQUtHOzs7QUFHWjtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7O0FBRVI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFFBQVEsNERBQVc7QUFDbkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0EsT0FBTzs7QUFFUDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFROztBQUVSO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxlQUFlLHFEQUFXO0FBQzFCLE9BQU87O0FBRVA7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQSxLQUFLOztBQUVMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFROztBQUVSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSxpRUFBWTtBQUN6Qjs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBLFNBQVMsdUVBQWtCO0FBQzNCOztBQUVBOztBQUVBO0FBQ0EsU0FBUyxrRUFBaUI7QUFDMUI7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL3NpbXVsYXRvci9iZWhhdmlvcnMvRXZlbnRCZWhhdmlvcnMuanM/YzQ3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBnZXRFdmVudERlZmluaXRpb24sXG4gIGlzVHlwZWRFdmVudFxufSBmcm9tICcuLi8uLi91dGlsL0VsZW1lbnRIZWxwZXInO1xuXG5pbXBvcnQge1xuICBTY29wZVRyYWl0c1xufSBmcm9tICcuLi9TY29wZVRyYWl0cyc7XG5cbmltcG9ydCB7XG4gIGlzRXZlbnRTdWJQcm9jZXNzLFxuICBpc0xpbmtDYXRjaFxufSBmcm9tICcuLi91dGlsL01vZGVsVXRpbCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRXZlbnRCZWhhdmlvcnMoXG4gICAgc2ltdWxhdG9yLFxuICAgIGVsZW1lbnRSZWdpc3RyeSxcbiAgICBzY29wZUJlaGF2aW9yKSB7XG5cbiAgdGhpcy5fc2ltdWxhdG9yID0gc2ltdWxhdG9yO1xuICB0aGlzLl9lbGVtZW50UmVnaXN0cnkgPSBlbGVtZW50UmVnaXN0cnk7XG4gIHRoaXMuX3Njb3BlQmVoYXZpb3IgPSBzY29wZUJlaGF2aW9yO1xufVxuXG5FdmVudEJlaGF2aW9ycy4kaW5qZWN0ID0gW1xuICAnc2ltdWxhdG9yJyxcbiAgJ2VsZW1lbnRSZWdpc3RyeScsXG4gICdzY29wZUJlaGF2aW9yJ1xuXTtcblxuXG5FdmVudEJlaGF2aW9ycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuXG4gIGNvbnN0IGJlaGF2aW9ycyA9IHtcbiAgICAnYnBtbjpMaW5rRXZlbnREZWZpbml0aW9uJzogKGNvbnRleHQpID0+IHtcblxuICAgICAgY29uc3Qge1xuICAgICAgICBlbGVtZW50LFxuICAgICAgICBzY29wZVxuICAgICAgfSA9IGNvbnRleHQ7XG5cbiAgICAgIGNvbnN0IGxpbmsgPSBnZXRMaW5rRGVmaW5pdGlvbihlbGVtZW50KTtcblxuICAgICAgY29uc3QgcGFyZW50U2NvcGUgPSBzY29wZS5wYXJlbnQ7XG4gICAgICBjb25zdCBwYXJlbnRFbGVtZW50ID0gcGFyZW50U2NvcGUuZWxlbWVudDtcblxuICAgICAgY29uc3QgbGlua1RhcmdldHMgPSBwYXJlbnRFbGVtZW50LmNoaWxkcmVuLmZpbHRlcihlbGVtZW50ID0+XG4gICAgICAgIGlzTGlua0NhdGNoKGVsZW1lbnQpICYmXG4gICAgICAgIGdldExpbmtEZWZpbml0aW9uKGVsZW1lbnQpLm5hbWUgPT09IGxpbmsubmFtZVxuICAgICAgKTtcblxuICAgICAgZm9yIChjb25zdCBsaW5rVGFyZ2V0IG9mIGxpbmtUYXJnZXRzKSB7XG4gICAgICAgIHRoaXMuX3NpbXVsYXRvci5zaWduYWwoe1xuICAgICAgICAgIGVsZW1lbnQ6IGxpbmtUYXJnZXQsXG4gICAgICAgICAgcGFyZW50U2NvcGUsXG4gICAgICAgICAgaW5pdGlhdG9yOiBzY29wZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgJ2JwbW46U2lnbmFsRXZlbnREZWZpbml0aW9uJzogKGNvbnRleHQpID0+IHtcblxuICAgICAgLy8gSElOVDogc2lnbmFscyB3b3JrIG9ubHkgd2l0aGluIHRoZSB3aG9sZSBkaWFncmFtLFxuICAgICAgLy8gICAgICAgdHJpZ2dlcnMgc3RhcnQgZXZlbnRzLCBib3VuZGFyeSBldmVudHMgYW5kXG4gICAgICAvLyAgICAgICBpbnRlcm1lZGlhdGUgY2F0Y2ggZXZlbnRzXG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgc2NvcGVcbiAgICAgIH0gPSBjb250ZXh0O1xuXG4gICAgICBjb25zdCBzdWJzY3JpcHRpb25zID0gdGhpcy5fc2ltdWxhdG9yLmZpbmRTdWJzY3JpcHRpb25zKHtcbiAgICAgICAgZXZlbnQ6IGVsZW1lbnRcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzaWduYWxlZFNjb3BlcyA9IG5ldyBTZXQoKTtcblxuICAgICAgZm9yIChjb25zdCBzdWJzY3JpcHRpb24gb2Ygc3Vic2NyaXB0aW9ucykge1xuXG4gICAgICAgIGNvbnN0IHNpZ25hbGVkU2NvcGUgPSBzdWJzY3JpcHRpb24uc2NvcGU7XG5cbiAgICAgICAgaWYgKHNpZ25hbGVkU2NvcGVzLmhhcyhzaWduYWxlZFNjb3BlKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2lnbmFsZWRTY29wZXMuYWRkKHNpZ25hbGVkU2NvcGUpO1xuXG4gICAgICAgIHRoaXMuX3NpbXVsYXRvci50cmlnZ2VyKHtcbiAgICAgICAgICBldmVudDogZWxlbWVudCxcbiAgICAgICAgICBzY29wZTogc2lnbmFsZWRTY29wZSxcbiAgICAgICAgICBpbml0aWF0b3I6IHNjb3BlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAnYnBtbjpFc2NhbGF0aW9uRXZlbnREZWZpbml0aW9uJzogKGNvbnRleHQpID0+IHtcblxuICAgICAgLy8gSElOVDogZXNjYWxhdGlvbnMgYXJlIHByb3BhZ2F0ZWQgdXAgdGhlIHNjb3BlXG4gICAgICAvLyAgICAgICBjaGFpbiBhbmQgY2F1Z2h0IGJ5IHRoZSBmaXJzdCBtYXRjaGluZyBib3VuZGFyeSBldmVudFxuICAgICAgLy8gICAgICAgb3IgZXZlbnQgc3ViLXByb2Nlc3NcblxuICAgICAgY29uc3Qge1xuICAgICAgICBlbGVtZW50LFxuICAgICAgICBzY29wZVxuICAgICAgfSA9IGNvbnRleHQ7XG5cbiAgICAgIGNvbnN0IHNjb3BlcyA9IHRoaXMuX3NpbXVsYXRvci5maW5kU2NvcGVzKHtcbiAgICAgICAgc3Vic2NyaWJlZFRvOiB7XG4gICAgICAgICAgZXZlbnQ6IGVsZW1lbnRcbiAgICAgICAgfSxcbiAgICAgICAgdHJhaXQ6IFNjb3BlVHJhaXRzLkFDVElWRVxuICAgICAgfSk7XG5cbiAgICAgIGxldCB0cmlnZ2VyU2NvcGUgPSBzY29wZTtcblxuICAgICAgd2hpbGUgKCh0cmlnZ2VyU2NvcGUgPSB0cmlnZ2VyU2NvcGUucGFyZW50KSkge1xuXG4gICAgICAgIGlmIChzY29wZXMuaW5jbHVkZXModHJpZ2dlclNjb3BlKSkge1xuICAgICAgICAgIHRoaXMuX3NpbXVsYXRvci50cmlnZ2VyKHtcbiAgICAgICAgICAgIGV2ZW50OiBlbGVtZW50LFxuICAgICAgICAgICAgc2NvcGU6IHRyaWdnZXJTY29wZSxcbiAgICAgICAgICAgIGluaXRpYXRvcjogc2NvcGVcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9LFxuXG4gICAgJ2JwbW46RXJyb3JFdmVudERlZmluaXRpb24nOiAoY29udGV4dCkgPT4ge1xuXG4gICAgICAvLyBISU5UOiBlcnJvcnMgYXJlIGhhbmRsZWQgaW4gY3VycmVudCBzY29wZSBvbmx5IChkb2VzIG5vdCBidWJibGUpXG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgc2NvcGVcbiAgICAgIH0gPSBjb250ZXh0O1xuXG4gICAgICAvLyBUT0RPKG5pa2t1KTogZW5zdXJlIGVycm9yIGFsd2F5cyBpbnRlcnJ1cHRzLCBhbHNvIGlmIG5vIGVycm9yXG4gICAgICAvLyAgICAgICAgICAgICAgY2F0Y2ggaXMgcHJlc2VudFxuICAgICAgdGhpcy5fc2ltdWxhdG9yLnRyaWdnZXIoe1xuICAgICAgICBldmVudDogZWxlbWVudCxcbiAgICAgICAgaW5pdGlhdG9yOiBzY29wZSxcbiAgICAgICAgc2NvcGU6IGZpbmRTdWJzY3JpcHRpb25TY29wZShzY29wZSlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgJ2JwbW46VGVybWluYXRlRXZlbnREZWZpbml0aW9uJzogKGNvbnRleHQpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc2NvcGVcbiAgICAgIH0gPSBjb250ZXh0O1xuXG4gICAgICB0aGlzLl9zY29wZUJlaGF2aW9yLnRlcm1pbmF0ZShzY29wZS5wYXJlbnQsIHNjb3BlKTtcbiAgICB9LFxuXG4gICAgJ2JwbW46Q2FuY2VsRXZlbnREZWZpbml0aW9uJzogKGNvbnRleHQpID0+IHtcblxuICAgICAgLy8gSElOVDogY2FuY2VscyB0aGUgc3Vycm91bmRpbmcgdHJhbnNhY3Rpb24gc2NvcGUgKGRvZXMgbm90IGJ1YmJsZSlcblxuICAgICAgY29uc3Qge1xuICAgICAgICBzY29wZSxcbiAgICAgICAgZWxlbWVudFxuICAgICAgfSA9IGNvbnRleHQ7XG5cbiAgICAgIHRoaXMuX3NpbXVsYXRvci50cmlnZ2VyKHtcbiAgICAgICAgZXZlbnQ6IGVsZW1lbnQsXG4gICAgICAgIGluaXRpYXRvcjogc2NvcGUsXG4gICAgICAgIHNjb3BlOiBmaW5kU3Vic2NyaXB0aW9uU2NvcGUoc2NvcGUpXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgJ2JwbW46Q29tcGVuc2F0ZUV2ZW50RGVmaW5pdGlvbic6IChjb250ZXh0KSA9PiB7XG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGVsZW1lbnRcbiAgICAgIH0gPSBjb250ZXh0O1xuXG4gICAgICByZXR1cm4gdGhpcy5fc2ltdWxhdG9yLndhaXRGb3JTY29wZXMoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICB0aGlzLl9zaW11bGF0b3IudHJpZ2dlcih7XG4gICAgICAgICAgZXZlbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgc2NvcGU6IGZpbmRTdWJzY3JpcHRpb25TY29wZShzY29wZSlcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGVudHJ5ID0gT2JqZWN0LmVudHJpZXMoYmVoYXZpb3JzKS5maW5kKFxuICAgIGVudHJ5ID0+IGlzVHlwZWRFdmVudChlbGVtZW50LCBlbnRyeVswXSlcbiAgKTtcblxuICByZXR1cm4gZW50cnkgJiYgZW50cnlbMV07XG59O1xuXG5cbi8vIGhlbHBlcnMgLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIGdldExpbmtEZWZpbml0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdldEV2ZW50RGVmaW5pdGlvbihlbGVtZW50LCAnYnBtbjpMaW5rRXZlbnREZWZpbml0aW9uJyk7XG59XG5cbmZ1bmN0aW9uIGZpbmRTdWJzY3JpcHRpb25TY29wZShzY29wZSkge1xuXG4gIC8vIHRoZSBzY29wZSBpcyB0aGUgZmlyc3Qgbm9uIGV2ZW50IHN1Yi1wcm9jZXNzXG4gIHdoaWxlIChpc0V2ZW50U3ViUHJvY2VzcyhzY29wZS5wYXJlbnQuZWxlbWVudCkpIHtcbiAgICBzY29wZSA9IHNjb3BlLnBhcmVudDtcbiAgfVxuXG4gIHJldHVybiBzY29wZS5wYXJlbnQ7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/EventBehaviors.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/ExclusiveGatewayBehavior.js":
/*!*************************************************************!*\
  !*** ./lib/simulator/behaviors/ExclusiveGatewayBehavior.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ExclusiveGatewayBehavior)\n/* harmony export */ });\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/ModelUtil */ \"./lib/simulator/util/ModelUtil.js\");\n\n\n\nfunction ExclusiveGatewayBehavior(simulator, scopeBehavior) {\n  this._scopeBehavior = scopeBehavior;\n  this._simulator = simulator;\n\n  simulator.registerBehavior('bpmn:ExclusiveGateway', this);\n}\n\nExclusiveGatewayBehavior.prototype.enter = function(context) {\n  this._simulator.exit(context);\n};\n\nExclusiveGatewayBehavior.prototype.exit = function(context) {\n\n  const {\n    element,\n    scope\n  } = context;\n\n  // depends on UI to properly configure activeOutgoing for\n  // each exclusive gateway\n\n  const outgoings = (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.filterSequenceFlows)(element.outgoing);\n\n  if (outgoings.length === 1) {\n    return this._simulator.enter({\n      element: outgoings[0],\n      scope: scope.parent\n    });\n  }\n\n  const {\n    activeOutgoing\n  } = this._simulator.getConfig(element);\n\n  const outgoing = outgoings.find(o => o === activeOutgoing);\n\n  if (!outgoing) {\n    return this._scopeBehavior.tryExit(scope.parent, scope);\n  }\n\n  return this._simulator.enter({\n    element: outgoing,\n    scope: scope.parent\n  });\n};\n\nExclusiveGatewayBehavior.$inject = [\n  'simulator',\n  'scopeBehavior'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9FeGNsdXNpdmVHYXRld2F5QmVoYXZpb3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFMkI7OztBQUdaO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUEsb0JBQW9CLG9FQUFtQjs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLElBQUk7O0FBRUo7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9zaW11bGF0b3IvYmVoYXZpb3JzL0V4Y2x1c2l2ZUdhdGV3YXlCZWhhdmlvci5qcz8wZjRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGZpbHRlclNlcXVlbmNlRmxvd3Ncbn0gZnJvbSAnLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEV4Y2x1c2l2ZUdhdGV3YXlCZWhhdmlvcihzaW11bGF0b3IsIHNjb3BlQmVoYXZpb3IpIHtcbiAgdGhpcy5fc2NvcGVCZWhhdmlvciA9IHNjb3BlQmVoYXZpb3I7XG4gIHRoaXMuX3NpbXVsYXRvciA9IHNpbXVsYXRvcjtcblxuICBzaW11bGF0b3IucmVnaXN0ZXJCZWhhdmlvcignYnBtbjpFeGNsdXNpdmVHYXRld2F5JywgdGhpcyk7XG59XG5cbkV4Y2x1c2l2ZUdhdGV3YXlCZWhhdmlvci5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHRoaXMuX3NpbXVsYXRvci5leGl0KGNvbnRleHQpO1xufTtcblxuRXhjbHVzaXZlR2F0ZXdheUJlaGF2aW9yLnByb3RvdHlwZS5leGl0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIGNvbnN0IHtcbiAgICBlbGVtZW50LFxuICAgIHNjb3BlXG4gIH0gPSBjb250ZXh0O1xuXG4gIC8vIGRlcGVuZHMgb24gVUkgdG8gcHJvcGVybHkgY29uZmlndXJlIGFjdGl2ZU91dGdvaW5nIGZvclxuICAvLyBlYWNoIGV4Y2x1c2l2ZSBnYXRld2F5XG5cbiAgY29uc3Qgb3V0Z29pbmdzID0gZmlsdGVyU2VxdWVuY2VGbG93cyhlbGVtZW50Lm91dGdvaW5nKTtcblxuICBpZiAob3V0Z29pbmdzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiB0aGlzLl9zaW11bGF0b3IuZW50ZXIoe1xuICAgICAgZWxlbWVudDogb3V0Z29pbmdzWzBdLFxuICAgICAgc2NvcGU6IHNjb3BlLnBhcmVudFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3Qge1xuICAgIGFjdGl2ZU91dGdvaW5nXG4gIH0gPSB0aGlzLl9zaW11bGF0b3IuZ2V0Q29uZmlnKGVsZW1lbnQpO1xuXG4gIGNvbnN0IG91dGdvaW5nID0gb3V0Z29pbmdzLmZpbmQobyA9PiBvID09PSBhY3RpdmVPdXRnb2luZyk7XG5cbiAgaWYgKCFvdXRnb2luZykge1xuICAgIHJldHVybiB0aGlzLl9zY29wZUJlaGF2aW9yLnRyeUV4aXQoc2NvcGUucGFyZW50LCBzY29wZSk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fc2ltdWxhdG9yLmVudGVyKHtcbiAgICBlbGVtZW50OiBvdXRnb2luZyxcbiAgICBzY29wZTogc2NvcGUucGFyZW50XG4gIH0pO1xufTtcblxuRXhjbHVzaXZlR2F0ZXdheUJlaGF2aW9yLiRpbmplY3QgPSBbXG4gICdzaW11bGF0b3InLFxuICAnc2NvcGVCZWhhdmlvcidcbl07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/ExclusiveGatewayBehavior.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/InclusiveGatewayBehavior.js":
/*!*************************************************************!*\
  !*** ./lib/simulator/behaviors/InclusiveGatewayBehavior.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ InclusiveGatewayBehavior)\n/* harmony export */ });\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/ModelUtil */ \"./lib/simulator/util/ModelUtil.js\");\n\n\n\nfunction InclusiveGatewayBehavior(\n    simulator,\n    activityBehavior) {\n\n  this._simulator = simulator;\n  this._activityBehavior = activityBehavior;\n\n  simulator.registerBehavior('bpmn:InclusiveGateway', this);\n}\n\nInclusiveGatewayBehavior.prototype.enter = function(context) {\n  this._tryJoin(context);\n};\n\nInclusiveGatewayBehavior.prototype.exit = function(context) {\n\n  const {\n    element,\n    scope\n  } = context;\n\n  // depends on UI to properly configure activeOutgoing for\n  // each inclusive gateway\n\n  const outgoings = (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.filterSequenceFlows)(element.outgoing);\n\n  // fork based on configured active outgoings\n  if (outgoings.length > 1) {\n\n    const {\n      activeOutgoing = []\n    } = this._simulator.getConfig(element);\n\n    if (!activeOutgoing.length) {\n      throw new Error('no outgoing configured');\n    }\n\n    for (const outgoing of activeOutgoing) {\n      this._simulator.enter({\n        element: outgoing,\n        scope: scope.parent\n      });\n    }\n\n  } else {\n\n    // exit like any activity\n    this._activityBehavior.exit(context);\n  }\n\n};\n\nInclusiveGatewayBehavior.prototype._tryJoin = function(context) {\n\n  const remainingScopes = this._getRemainingScopes(context);\n\n  const remainingElements = remainingScopes.map(scope => scope.element);\n\n  // join right away if possible\n  // this implies that there are no remaining scopes\n  // or non of the remaining scopes are reachable\n  if (!this._canReachAnyElement(remainingElements, context.element)) {\n    return this._join(context);\n  }\n\n  const elementScopes = this._getElementScopes(context);\n\n  const {\n    scope\n  } = context;\n\n  // only subscribe to changes with the first\n  // element scope; prevent unneeded computation\n  if (elementScopes[0] !== scope) {\n    return;\n  }\n\n  const event = this._simulator.waitForScopes(scope, remainingScopes);\n\n  const subscription = this._simulator.subscribe(scope, event, () => {\n    subscription.remove();\n\n    this._tryJoin(context);\n  });\n};\n\n/**\n * Get scopes that may potentially be waited for,\n * in the context of an inclusive gateway.\n *\n * @param {object} context\n * @return {object[]}\n */\nInclusiveGatewayBehavior.prototype._getRemainingScopes = function(context) {\n  const {\n    scope,\n    element\n  } = context;\n\n  const {\n    parent: parentScope\n  } = scope;\n\n  return this._simulator.findScopes(\n    scope => scope.parent === parentScope && scope.element !== element\n  );\n};\n\nInclusiveGatewayBehavior.prototype._join = function(context) {\n  const elementScopes = this._getElementScopes(context);\n\n  for (const childScope of elementScopes) {\n\n    if (childScope !== context.scope) {\n\n      // complete joining child scope\n      this._simulator.destroyScope(childScope.complete(), context.scope);\n    }\n  }\n\n  this._simulator.exit(context);\n};\n\n/**\n * Get scopes on the element for the given context.\n *\n * @param {object} context\n *\n * @return {object[]} scopes\n */\nInclusiveGatewayBehavior.prototype._getElementScopes = function(context) {\n  const {\n    element,\n    scope\n  } = context;\n\n  return this._simulator.findScopes({\n    parent: scope.parent,\n    element\n  });\n};\n\n/**\n * Return true if any elements can be reached\n * from the current element, searching the execution\n * graph backwards.\n *\n * @param {object[]} elements\n * @param {object} currentElement\n * @param {Set<object>} traversed\n *\n * @return {boolean}\n */\nInclusiveGatewayBehavior.prototype._canReachAnyElement = function(elements, currentElement, traversed = new Set()) {\n\n  if (!elements.length) {\n    return false;\n  }\n\n  // avoid infinite recursion\n  if (traversed.has(currentElement)) {\n    return false;\n  }\n\n  traversed.add(currentElement);\n\n  if (elements.some(e => e === currentElement)) {\n    return true;\n  }\n\n  if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isSequenceFlow)(currentElement)) {\n    return this._canReachAnyElement(elements, currentElement.source, traversed);\n  }\n\n  const incomingFlows = (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.filterSequenceFlows)(currentElement.incoming);\n\n  for (const flow of incomingFlows) {\n    if (this._canReachAnyElement(elements, flow, traversed)) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nInclusiveGatewayBehavior.$inject = [\n  'simulator',\n  'activityBehavior'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9JbmNsdXNpdmVHYXRld2F5QmVoYXZpb3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFMkI7OztBQUdaO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQSxvQkFBb0Isb0VBQW1COztBQUV2QztBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsYUFBYTtBQUN4QjtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTSwrREFBYztBQUNwQjtBQUNBOztBQUVBLHdCQUF3QixvRUFBbUI7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9zaW11bGF0b3IvYmVoYXZpb3JzL0luY2x1c2l2ZUdhdGV3YXlCZWhhdmlvci5qcz82ZTc2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGZpbHRlclNlcXVlbmNlRmxvd3MsIGlzU2VxdWVuY2VGbG93XG59IGZyb20gJy4uL3V0aWwvTW9kZWxVdGlsJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbmNsdXNpdmVHYXRld2F5QmVoYXZpb3IoXG4gICAgc2ltdWxhdG9yLFxuICAgIGFjdGl2aXR5QmVoYXZpb3IpIHtcblxuICB0aGlzLl9zaW11bGF0b3IgPSBzaW11bGF0b3I7XG4gIHRoaXMuX2FjdGl2aXR5QmVoYXZpb3IgPSBhY3Rpdml0eUJlaGF2aW9yO1xuXG4gIHNpbXVsYXRvci5yZWdpc3RlckJlaGF2aW9yKCdicG1uOkluY2x1c2l2ZUdhdGV3YXknLCB0aGlzKTtcbn1cblxuSW5jbHVzaXZlR2F0ZXdheUJlaGF2aW9yLnByb3RvdHlwZS5lbnRlciA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdGhpcy5fdHJ5Sm9pbihjb250ZXh0KTtcbn07XG5cbkluY2x1c2l2ZUdhdGV3YXlCZWhhdmlvci5wcm90b3R5cGUuZXhpdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICBjb25zdCB7XG4gICAgZWxlbWVudCxcbiAgICBzY29wZVxuICB9ID0gY29udGV4dDtcblxuICAvLyBkZXBlbmRzIG9uIFVJIHRvIHByb3Blcmx5IGNvbmZpZ3VyZSBhY3RpdmVPdXRnb2luZyBmb3JcbiAgLy8gZWFjaCBpbmNsdXNpdmUgZ2F0ZXdheVxuXG4gIGNvbnN0IG91dGdvaW5ncyA9IGZpbHRlclNlcXVlbmNlRmxvd3MoZWxlbWVudC5vdXRnb2luZyk7XG5cbiAgLy8gZm9yayBiYXNlZCBvbiBjb25maWd1cmVkIGFjdGl2ZSBvdXRnb2luZ3NcbiAgaWYgKG91dGdvaW5ncy5sZW5ndGggPiAxKSB7XG5cbiAgICBjb25zdCB7XG4gICAgICBhY3RpdmVPdXRnb2luZyA9IFtdXG4gICAgfSA9IHRoaXMuX3NpbXVsYXRvci5nZXRDb25maWcoZWxlbWVudCk7XG5cbiAgICBpZiAoIWFjdGl2ZU91dGdvaW5nLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBvdXRnb2luZyBjb25maWd1cmVkJyk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBvdXRnb2luZyBvZiBhY3RpdmVPdXRnb2luZykge1xuICAgICAgdGhpcy5fc2ltdWxhdG9yLmVudGVyKHtcbiAgICAgICAgZWxlbWVudDogb3V0Z29pbmcsXG4gICAgICAgIHNjb3BlOiBzY29wZS5wYXJlbnRcbiAgICAgIH0pO1xuICAgIH1cblxuICB9IGVsc2Uge1xuXG4gICAgLy8gZXhpdCBsaWtlIGFueSBhY3Rpdml0eVxuICAgIHRoaXMuX2FjdGl2aXR5QmVoYXZpb3IuZXhpdChjb250ZXh0KTtcbiAgfVxuXG59O1xuXG5JbmNsdXNpdmVHYXRld2F5QmVoYXZpb3IucHJvdG90eXBlLl90cnlKb2luID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIGNvbnN0IHJlbWFpbmluZ1Njb3BlcyA9IHRoaXMuX2dldFJlbWFpbmluZ1Njb3Blcyhjb250ZXh0KTtcblxuICBjb25zdCByZW1haW5pbmdFbGVtZW50cyA9IHJlbWFpbmluZ1Njb3Blcy5tYXAoc2NvcGUgPT4gc2NvcGUuZWxlbWVudCk7XG5cbiAgLy8gam9pbiByaWdodCBhd2F5IGlmIHBvc3NpYmxlXG4gIC8vIHRoaXMgaW1wbGllcyB0aGF0IHRoZXJlIGFyZSBubyByZW1haW5pbmcgc2NvcGVzXG4gIC8vIG9yIG5vbiBvZiB0aGUgcmVtYWluaW5nIHNjb3BlcyBhcmUgcmVhY2hhYmxlXG4gIGlmICghdGhpcy5fY2FuUmVhY2hBbnlFbGVtZW50KHJlbWFpbmluZ0VsZW1lbnRzLCBjb250ZXh0LmVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIHRoaXMuX2pvaW4oY29udGV4dCk7XG4gIH1cblxuICBjb25zdCBlbGVtZW50U2NvcGVzID0gdGhpcy5fZ2V0RWxlbWVudFNjb3Blcyhjb250ZXh0KTtcblxuICBjb25zdCB7XG4gICAgc2NvcGVcbiAgfSA9IGNvbnRleHQ7XG5cbiAgLy8gb25seSBzdWJzY3JpYmUgdG8gY2hhbmdlcyB3aXRoIHRoZSBmaXJzdFxuICAvLyBlbGVtZW50IHNjb3BlOyBwcmV2ZW50IHVubmVlZGVkIGNvbXB1dGF0aW9uXG4gIGlmIChlbGVtZW50U2NvcGVzWzBdICE9PSBzY29wZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGV2ZW50ID0gdGhpcy5fc2ltdWxhdG9yLndhaXRGb3JTY29wZXMoc2NvcGUsIHJlbWFpbmluZ1Njb3Blcyk7XG5cbiAgY29uc3Qgc3Vic2NyaXB0aW9uID0gdGhpcy5fc2ltdWxhdG9yLnN1YnNjcmliZShzY29wZSwgZXZlbnQsICgpID0+IHtcbiAgICBzdWJzY3JpcHRpb24ucmVtb3ZlKCk7XG5cbiAgICB0aGlzLl90cnlKb2luKGNvbnRleHQpO1xuICB9KTtcbn07XG5cbi8qKlxuICogR2V0IHNjb3BlcyB0aGF0IG1heSBwb3RlbnRpYWxseSBiZSB3YWl0ZWQgZm9yLFxuICogaW4gdGhlIGNvbnRleHQgb2YgYW4gaW5jbHVzaXZlIGdhdGV3YXkuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHRcbiAqIEByZXR1cm4ge29iamVjdFtdfVxuICovXG5JbmNsdXNpdmVHYXRld2F5QmVoYXZpb3IucHJvdG90eXBlLl9nZXRSZW1haW5pbmdTY29wZXMgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIGNvbnN0IHtcbiAgICBzY29wZSxcbiAgICBlbGVtZW50XG4gIH0gPSBjb250ZXh0O1xuXG4gIGNvbnN0IHtcbiAgICBwYXJlbnQ6IHBhcmVudFNjb3BlXG4gIH0gPSBzY29wZTtcblxuICByZXR1cm4gdGhpcy5fc2ltdWxhdG9yLmZpbmRTY29wZXMoXG4gICAgc2NvcGUgPT4gc2NvcGUucGFyZW50ID09PSBwYXJlbnRTY29wZSAmJiBzY29wZS5lbGVtZW50ICE9PSBlbGVtZW50XG4gICk7XG59O1xuXG5JbmNsdXNpdmVHYXRld2F5QmVoYXZpb3IucHJvdG90eXBlLl9qb2luID0gZnVuY3Rpb24oY29udGV4dCkge1xuICBjb25zdCBlbGVtZW50U2NvcGVzID0gdGhpcy5fZ2V0RWxlbWVudFNjb3Blcyhjb250ZXh0KTtcblxuICBmb3IgKGNvbnN0IGNoaWxkU2NvcGUgb2YgZWxlbWVudFNjb3Blcykge1xuXG4gICAgaWYgKGNoaWxkU2NvcGUgIT09IGNvbnRleHQuc2NvcGUpIHtcblxuICAgICAgLy8gY29tcGxldGUgam9pbmluZyBjaGlsZCBzY29wZVxuICAgICAgdGhpcy5fc2ltdWxhdG9yLmRlc3Ryb3lTY29wZShjaGlsZFNjb3BlLmNvbXBsZXRlKCksIGNvbnRleHQuc2NvcGUpO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMuX3NpbXVsYXRvci5leGl0KGNvbnRleHQpO1xufTtcblxuLyoqXG4gKiBHZXQgc2NvcGVzIG9uIHRoZSBlbGVtZW50IGZvciB0aGUgZ2l2ZW4gY29udGV4dC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dFxuICpcbiAqIEByZXR1cm4ge29iamVjdFtdfSBzY29wZXNcbiAqL1xuSW5jbHVzaXZlR2F0ZXdheUJlaGF2aW9yLnByb3RvdHlwZS5fZ2V0RWxlbWVudFNjb3BlcyA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgY29uc3Qge1xuICAgIGVsZW1lbnQsXG4gICAgc2NvcGVcbiAgfSA9IGNvbnRleHQ7XG5cbiAgcmV0dXJuIHRoaXMuX3NpbXVsYXRvci5maW5kU2NvcGVzKHtcbiAgICBwYXJlbnQ6IHNjb3BlLnBhcmVudCxcbiAgICBlbGVtZW50XG4gIH0pO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiBhbnkgZWxlbWVudHMgY2FuIGJlIHJlYWNoZWRcbiAqIGZyb20gdGhlIGN1cnJlbnQgZWxlbWVudCwgc2VhcmNoaW5nIHRoZSBleGVjdXRpb25cbiAqIGdyYXBoIGJhY2t3YXJkcy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdFtdfSBlbGVtZW50c1xuICogQHBhcmFtIHtvYmplY3R9IGN1cnJlbnRFbGVtZW50XG4gKiBAcGFyYW0ge1NldDxvYmplY3Q+fSB0cmF2ZXJzZWRcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5JbmNsdXNpdmVHYXRld2F5QmVoYXZpb3IucHJvdG90eXBlLl9jYW5SZWFjaEFueUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50cywgY3VycmVudEVsZW1lbnQsIHRyYXZlcnNlZCA9IG5ldyBTZXQoKSkge1xuXG4gIGlmICghZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gYXZvaWQgaW5maW5pdGUgcmVjdXJzaW9uXG4gIGlmICh0cmF2ZXJzZWQuaGFzKGN1cnJlbnRFbGVtZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHRyYXZlcnNlZC5hZGQoY3VycmVudEVsZW1lbnQpO1xuXG4gIGlmIChlbGVtZW50cy5zb21lKGUgPT4gZSA9PT0gY3VycmVudEVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoaXNTZXF1ZW5jZUZsb3coY3VycmVudEVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhblJlYWNoQW55RWxlbWVudChlbGVtZW50cywgY3VycmVudEVsZW1lbnQuc291cmNlLCB0cmF2ZXJzZWQpO1xuICB9XG5cbiAgY29uc3QgaW5jb21pbmdGbG93cyA9IGZpbHRlclNlcXVlbmNlRmxvd3MoY3VycmVudEVsZW1lbnQuaW5jb21pbmcpO1xuXG4gIGZvciAoY29uc3QgZmxvdyBvZiBpbmNvbWluZ0Zsb3dzKSB7XG4gICAgaWYgKHRoaXMuX2NhblJlYWNoQW55RWxlbWVudChlbGVtZW50cywgZmxvdywgdHJhdmVyc2VkKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuSW5jbHVzaXZlR2F0ZXdheUJlaGF2aW9yLiRpbmplY3QgPSBbXG4gICdzaW11bGF0b3InLFxuICAnYWN0aXZpdHlCZWhhdmlvcidcbl07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/InclusiveGatewayBehavior.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/IntermediateCatchEventBehavior.js":
/*!*******************************************************************!*\
  !*** ./lib/simulator/behaviors/IntermediateCatchEventBehavior.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ IntermediateCatchEventBehavior)\n/* harmony export */ });\nfunction IntermediateCatchEventBehavior(\r\n    simulator,\r\n    activityBehavior) {\r\n\r\n  this._activityBehavior = activityBehavior;\r\n  this._simulator = simulator;\r\n\r\n  simulator.registerBehavior('bpmn:IntermediateCatchEvent', this);\r\n  simulator.registerBehavior('bpmn:ReceiveTask', this);\r\n}\r\n\r\nIntermediateCatchEventBehavior.$inject = [\r\n  'simulator',\r\n  'activityBehavior'\r\n];\r\n\r\nIntermediateCatchEventBehavior.prototype.signal = function(context) {\r\n  return this._simulator.exit(context);\r\n};\r\n\r\nIntermediateCatchEventBehavior.prototype.enter = function(context) {\r\n  const {\r\n    element\r\n  } = context;\r\n\r\n  // adapt special wait semantics; user must manually\r\n  // trigger to indicate message received\r\n  return this._activityBehavior.signalOnEvent(context, element);\r\n};\r\n\r\nIntermediateCatchEventBehavior.prototype.exit = function(context) {\r\n  this._activityBehavior.exit(context);\r\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9JbnRlcm1lZGlhdGVDYXRjaEV2ZW50QmVoYXZpb3IuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9JbnRlcm1lZGlhdGVDYXRjaEV2ZW50QmVoYXZpb3IuanM/MjMzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbnRlcm1lZGlhdGVDYXRjaEV2ZW50QmVoYXZpb3IoXHJcbiAgICBzaW11bGF0b3IsXHJcbiAgICBhY3Rpdml0eUJlaGF2aW9yKSB7XHJcblxyXG4gIHRoaXMuX2FjdGl2aXR5QmVoYXZpb3IgPSBhY3Rpdml0eUJlaGF2aW9yO1xyXG4gIHRoaXMuX3NpbXVsYXRvciA9IHNpbXVsYXRvcjtcclxuXHJcbiAgc2ltdWxhdG9yLnJlZ2lzdGVyQmVoYXZpb3IoJ2JwbW46SW50ZXJtZWRpYXRlQ2F0Y2hFdmVudCcsIHRoaXMpO1xyXG4gIHNpbXVsYXRvci5yZWdpc3RlckJlaGF2aW9yKCdicG1uOlJlY2VpdmVUYXNrJywgdGhpcyk7XHJcbn1cclxuXHJcbkludGVybWVkaWF0ZUNhdGNoRXZlbnRCZWhhdmlvci4kaW5qZWN0ID0gW1xyXG4gICdzaW11bGF0b3InLFxyXG4gICdhY3Rpdml0eUJlaGF2aW9yJ1xyXG5dO1xyXG5cclxuSW50ZXJtZWRpYXRlQ2F0Y2hFdmVudEJlaGF2aW9yLnByb3RvdHlwZS5zaWduYWwgPSBmdW5jdGlvbihjb250ZXh0KSB7XHJcbiAgcmV0dXJuIHRoaXMuX3NpbXVsYXRvci5leGl0KGNvbnRleHQpO1xyXG59O1xyXG5cclxuSW50ZXJtZWRpYXRlQ2F0Y2hFdmVudEJlaGF2aW9yLnByb3RvdHlwZS5lbnRlciA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuICBjb25zdCB7XHJcbiAgICBlbGVtZW50XHJcbiAgfSA9IGNvbnRleHQ7XHJcblxyXG4gIC8vIGFkYXB0IHNwZWNpYWwgd2FpdCBzZW1hbnRpY3M7IHVzZXIgbXVzdCBtYW51YWxseVxyXG4gIC8vIHRyaWdnZXIgdG8gaW5kaWNhdGUgbWVzc2FnZSByZWNlaXZlZFxyXG4gIHJldHVybiB0aGlzLl9hY3Rpdml0eUJlaGF2aW9yLnNpZ25hbE9uRXZlbnQoY29udGV4dCwgZWxlbWVudCk7XHJcbn07XHJcblxyXG5JbnRlcm1lZGlhdGVDYXRjaEV2ZW50QmVoYXZpb3IucHJvdG90eXBlLmV4aXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XHJcbiAgdGhpcy5fYWN0aXZpdHlCZWhhdmlvci5leGl0KGNvbnRleHQpO1xyXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/IntermediateCatchEventBehavior.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/IntermediateThrowEventBehavior.js":
/*!*******************************************************************!*\
  !*** ./lib/simulator/behaviors/IntermediateThrowEventBehavior.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ IntermediateThrowEventBehavior)\n/* harmony export */ });\nfunction IntermediateThrowEventBehavior(\r\n    simulator,\r\n    activityBehavior,\r\n    eventBehaviors) {\r\n\r\n  this._simulator = simulator;\r\n  this._activityBehavior = activityBehavior;\r\n  this._eventBehaviors = eventBehaviors;\r\n\r\n  simulator.registerBehavior('bpmn:IntermediateThrowEvent', this);\r\n  simulator.registerBehavior('bpmn:SendTask', this);\r\n}\r\n\r\nIntermediateThrowEventBehavior.prototype.enter = function(context) {\r\n  const {\r\n    element\r\n  } = context;\r\n\r\n  const eventBehavior = this._eventBehaviors.get(element);\r\n\r\n  if (eventBehavior) {\r\n    const event = eventBehavior(context);\r\n\r\n    if (event) {\r\n      return this._activityBehavior.signalOnEvent(context, event);\r\n    }\r\n  }\r\n\r\n  this._activityBehavior.enter(context);\r\n};\r\n\r\nIntermediateThrowEventBehavior.prototype.signal = function(context) {\r\n  this._activityBehavior.signal(context);\r\n};\r\n\r\nIntermediateThrowEventBehavior.prototype.exit = function(context) {\r\n  this._activityBehavior.exit(context);\r\n};\r\n\r\nIntermediateThrowEventBehavior.$inject = [\r\n  'simulator',\r\n  'activityBehavior',\r\n  'eventBehaviors'\r\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9JbnRlcm1lZGlhdGVUaHJvd0V2ZW50QmVoYXZpb3IuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9zaW11bGF0b3IvYmVoYXZpb3JzL0ludGVybWVkaWF0ZVRocm93RXZlbnRCZWhhdmlvci5qcz9hMzMwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEludGVybWVkaWF0ZVRocm93RXZlbnRCZWhhdmlvcihcclxuICAgIHNpbXVsYXRvcixcclxuICAgIGFjdGl2aXR5QmVoYXZpb3IsXHJcbiAgICBldmVudEJlaGF2aW9ycykge1xyXG5cclxuICB0aGlzLl9zaW11bGF0b3IgPSBzaW11bGF0b3I7XHJcbiAgdGhpcy5fYWN0aXZpdHlCZWhhdmlvciA9IGFjdGl2aXR5QmVoYXZpb3I7XHJcbiAgdGhpcy5fZXZlbnRCZWhhdmlvcnMgPSBldmVudEJlaGF2aW9ycztcclxuXHJcbiAgc2ltdWxhdG9yLnJlZ2lzdGVyQmVoYXZpb3IoJ2JwbW46SW50ZXJtZWRpYXRlVGhyb3dFdmVudCcsIHRoaXMpO1xyXG4gIHNpbXVsYXRvci5yZWdpc3RlckJlaGF2aW9yKCdicG1uOlNlbmRUYXNrJywgdGhpcyk7XHJcbn1cclxuXHJcbkludGVybWVkaWF0ZVRocm93RXZlbnRCZWhhdmlvci5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbihjb250ZXh0KSB7XHJcbiAgY29uc3Qge1xyXG4gICAgZWxlbWVudFxyXG4gIH0gPSBjb250ZXh0O1xyXG5cclxuICBjb25zdCBldmVudEJlaGF2aW9yID0gdGhpcy5fZXZlbnRCZWhhdmlvcnMuZ2V0KGVsZW1lbnQpO1xyXG5cclxuICBpZiAoZXZlbnRCZWhhdmlvcikge1xyXG4gICAgY29uc3QgZXZlbnQgPSBldmVudEJlaGF2aW9yKGNvbnRleHQpO1xyXG5cclxuICAgIGlmIChldmVudCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fYWN0aXZpdHlCZWhhdmlvci5zaWduYWxPbkV2ZW50KGNvbnRleHQsIGV2ZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRoaXMuX2FjdGl2aXR5QmVoYXZpb3IuZW50ZXIoY29udGV4dCk7XHJcbn07XHJcblxyXG5JbnRlcm1lZGlhdGVUaHJvd0V2ZW50QmVoYXZpb3IucHJvdG90eXBlLnNpZ25hbCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuICB0aGlzLl9hY3Rpdml0eUJlaGF2aW9yLnNpZ25hbChjb250ZXh0KTtcclxufTtcclxuXHJcbkludGVybWVkaWF0ZVRocm93RXZlbnRCZWhhdmlvci5wcm90b3R5cGUuZXhpdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuICB0aGlzLl9hY3Rpdml0eUJlaGF2aW9yLmV4aXQoY29udGV4dCk7XHJcbn07XHJcblxyXG5JbnRlcm1lZGlhdGVUaHJvd0V2ZW50QmVoYXZpb3IuJGluamVjdCA9IFtcclxuICAnc2ltdWxhdG9yJyxcclxuICAnYWN0aXZpdHlCZWhhdmlvcicsXHJcbiAgJ2V2ZW50QmVoYXZpb3JzJ1xyXG5dOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/IntermediateThrowEventBehavior.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/MessageFlowBehavior.js":
/*!********************************************************!*\
  !*** ./lib/simulator/behaviors/MessageFlowBehavior.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MessageFlowBehavior)\n/* harmony export */ });\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/ModelUtil */ \"./lib/simulator/util/ModelUtil.js\");\n\n\n\nfunction MessageFlowBehavior(simulator) {\n  this._simulator = simulator;\n\n  simulator.registerBehavior('bpmn:MessageFlow', this);\n}\n\nMessageFlowBehavior.$inject = [ 'simulator' ];\n\nMessageFlowBehavior.prototype.signal = function(context) {\n  this._simulator.exit(context);\n};\n\nMessageFlowBehavior.prototype.exit = function(context) {\n  const {\n    element,\n    scope: initiator\n  } = context;\n\n  const target = element.target;\n\n  // the event triggered is either the message event\n  // represented by the target message start or catch event _or_\n  // an event that uses { name: messageFlow.id } as an identifier\n  const event = (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isCatchEvent)(target) ? target : {\n    type: 'message',\n    element,\n    name: element.id\n  };\n\n  const subscription = this._simulator.findSubscription({\n    event,\n    elements: [ target, target.parent ]\n  });\n\n  if (subscription) {\n    this._simulator.trigger({\n      event,\n      initiator,\n      scope: subscription.scope\n    });\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9NZXNzYWdlRmxvd0JlaGF2aW9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBRTJCOzs7QUFHWjtBQUNmOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjs7QUFFQTtBQUNBO0FBQ0EsMEJBQTBCLHVCQUF1QjtBQUNqRCxnQkFBZ0IsNkRBQVk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9NZXNzYWdlRmxvd0JlaGF2aW9yLmpzPzA0M2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaXNDYXRjaEV2ZW50XG59IGZyb20gJy4uL3V0aWwvTW9kZWxVdGlsJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNZXNzYWdlRmxvd0JlaGF2aW9yKHNpbXVsYXRvcikge1xuICB0aGlzLl9zaW11bGF0b3IgPSBzaW11bGF0b3I7XG5cbiAgc2ltdWxhdG9yLnJlZ2lzdGVyQmVoYXZpb3IoJ2JwbW46TWVzc2FnZUZsb3cnLCB0aGlzKTtcbn1cblxuTWVzc2FnZUZsb3dCZWhhdmlvci4kaW5qZWN0ID0gWyAnc2ltdWxhdG9yJyBdO1xuXG5NZXNzYWdlRmxvd0JlaGF2aW9yLnByb3RvdHlwZS5zaWduYWwgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHRoaXMuX3NpbXVsYXRvci5leGl0KGNvbnRleHQpO1xufTtcblxuTWVzc2FnZUZsb3dCZWhhdmlvci5wcm90b3R5cGUuZXhpdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgY29uc3Qge1xuICAgIGVsZW1lbnQsXG4gICAgc2NvcGU6IGluaXRpYXRvclxuICB9ID0gY29udGV4dDtcblxuICBjb25zdCB0YXJnZXQgPSBlbGVtZW50LnRhcmdldDtcblxuICAvLyB0aGUgZXZlbnQgdHJpZ2dlcmVkIGlzIGVpdGhlciB0aGUgbWVzc2FnZSBldmVudFxuICAvLyByZXByZXNlbnRlZCBieSB0aGUgdGFyZ2V0IG1lc3NhZ2Ugc3RhcnQgb3IgY2F0Y2ggZXZlbnQgX29yX1xuICAvLyBhbiBldmVudCB0aGF0IHVzZXMgeyBuYW1lOiBtZXNzYWdlRmxvdy5pZCB9IGFzIGFuIGlkZW50aWZpZXJcbiAgY29uc3QgZXZlbnQgPSBpc0NhdGNoRXZlbnQodGFyZ2V0KSA/IHRhcmdldCA6IHtcbiAgICB0eXBlOiAnbWVzc2FnZScsXG4gICAgZWxlbWVudCxcbiAgICBuYW1lOiBlbGVtZW50LmlkXG4gIH07XG5cbiAgY29uc3Qgc3Vic2NyaXB0aW9uID0gdGhpcy5fc2ltdWxhdG9yLmZpbmRTdWJzY3JpcHRpb24oe1xuICAgIGV2ZW50LFxuICAgIGVsZW1lbnRzOiBbIHRhcmdldCwgdGFyZ2V0LnBhcmVudCBdXG4gIH0pO1xuXG4gIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICB0aGlzLl9zaW11bGF0b3IudHJpZ2dlcih7XG4gICAgICBldmVudCxcbiAgICAgIGluaXRpYXRvcixcbiAgICAgIHNjb3BlOiBzdWJzY3JpcHRpb24uc2NvcGVcbiAgICB9KTtcbiAgfVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/MessageFlowBehavior.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/ParallelGatewayBehavior.js":
/*!************************************************************!*\
  !*** ./lib/simulator/behaviors/ParallelGatewayBehavior.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ParallelGatewayBehavior)\n/* harmony export */ });\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/ModelUtil */ \"./lib/simulator/util/ModelUtil.js\");\n\n\n\nfunction ParallelGatewayBehavior(\n    simulator,\n    activityBehavior) {\n\n  this._simulator = simulator;\n  this._activityBehavior = activityBehavior;\n\n  simulator.registerBehavior('bpmn:ParallelGateway', this);\n}\n\nParallelGatewayBehavior.prototype.enter = function(context) {\n\n  const {\n    scope,\n    element\n  } = context;\n\n  const sequenceFlows = (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.filterSequenceFlows)(element.incoming);\n\n  const {\n    parent: parentScope\n  } = scope;\n\n  const elementScopes = this._simulator.findScopes({\n    parent: parentScope,\n    element: element\n  });\n\n  if (elementScopes.length === sequenceFlows.length) {\n\n    for (const childScope of elementScopes) {\n\n      if (childScope !== scope) {\n\n        // complete joining child scope\n        this._simulator.destroyScope(childScope.complete(), scope);\n      }\n    }\n\n    this._simulator.exit(context);\n  }\n};\n\nParallelGatewayBehavior.prototype.exit = function(context) {\n  this._activityBehavior.exit(context);\n};\n\nParallelGatewayBehavior.$inject = [\n  'simulator',\n  'activityBehavior'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9QYXJhbGxlbEdhdGV3YXlCZWhhdmlvci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUUyQjs7O0FBR1o7QUFDZjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKLHdCQUF3QixvRUFBbUI7O0FBRTNDO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9zaW11bGF0b3IvYmVoYXZpb3JzL1BhcmFsbGVsR2F0ZXdheUJlaGF2aW9yLmpzPzE2MmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZmlsdGVyU2VxdWVuY2VGbG93c1xufSBmcm9tICcuLi91dGlsL01vZGVsVXRpbCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGFyYWxsZWxHYXRld2F5QmVoYXZpb3IoXG4gICAgc2ltdWxhdG9yLFxuICAgIGFjdGl2aXR5QmVoYXZpb3IpIHtcblxuICB0aGlzLl9zaW11bGF0b3IgPSBzaW11bGF0b3I7XG4gIHRoaXMuX2FjdGl2aXR5QmVoYXZpb3IgPSBhY3Rpdml0eUJlaGF2aW9yO1xuXG4gIHNpbXVsYXRvci5yZWdpc3RlckJlaGF2aW9yKCdicG1uOlBhcmFsbGVsR2F0ZXdheScsIHRoaXMpO1xufVxuXG5QYXJhbGxlbEdhdGV3YXlCZWhhdmlvci5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgY29uc3Qge1xuICAgIHNjb3BlLFxuICAgIGVsZW1lbnRcbiAgfSA9IGNvbnRleHQ7XG5cbiAgY29uc3Qgc2VxdWVuY2VGbG93cyA9IGZpbHRlclNlcXVlbmNlRmxvd3MoZWxlbWVudC5pbmNvbWluZyk7XG5cbiAgY29uc3Qge1xuICAgIHBhcmVudDogcGFyZW50U2NvcGVcbiAgfSA9IHNjb3BlO1xuXG4gIGNvbnN0IGVsZW1lbnRTY29wZXMgPSB0aGlzLl9zaW11bGF0b3IuZmluZFNjb3Blcyh7XG4gICAgcGFyZW50OiBwYXJlbnRTY29wZSxcbiAgICBlbGVtZW50OiBlbGVtZW50XG4gIH0pO1xuXG4gIGlmIChlbGVtZW50U2NvcGVzLmxlbmd0aCA9PT0gc2VxdWVuY2VGbG93cy5sZW5ndGgpIHtcblxuICAgIGZvciAoY29uc3QgY2hpbGRTY29wZSBvZiBlbGVtZW50U2NvcGVzKSB7XG5cbiAgICAgIGlmIChjaGlsZFNjb3BlICE9PSBzY29wZSkge1xuXG4gICAgICAgIC8vIGNvbXBsZXRlIGpvaW5pbmcgY2hpbGQgc2NvcGVcbiAgICAgICAgdGhpcy5fc2ltdWxhdG9yLmRlc3Ryb3lTY29wZShjaGlsZFNjb3BlLmNvbXBsZXRlKCksIHNjb3BlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9zaW11bGF0b3IuZXhpdChjb250ZXh0KTtcbiAgfVxufTtcblxuUGFyYWxsZWxHYXRld2F5QmVoYXZpb3IucHJvdG90eXBlLmV4aXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHRoaXMuX2FjdGl2aXR5QmVoYXZpb3IuZXhpdChjb250ZXh0KTtcbn07XG5cblBhcmFsbGVsR2F0ZXdheUJlaGF2aW9yLiRpbmplY3QgPSBbXG4gICdzaW11bGF0b3InLFxuICAnYWN0aXZpdHlCZWhhdmlvcidcbl07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/ParallelGatewayBehavior.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/ProcessBehavior.js":
/*!****************************************************!*\
  !*** ./lib/simulator/behaviors/ProcessBehavior.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ProcessBehavior)\n/* harmony export */ });\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/ModelUtil */ \"./lib/simulator/util/ModelUtil.js\");\n\n\n\nfunction ProcessBehavior(\n    simulator,\n    scopeBehavior) {\n\n  this._simulator = simulator;\n  this._scopeBehavior = scopeBehavior;\n\n  simulator.registerBehavior('bpmn:Process', this);\n  simulator.registerBehavior('bpmn:Participant', this);\n}\n\nProcessBehavior.prototype.signal = function(context) {\n\n  const {\n    element,\n    startEvent,\n    startNodes = this._findStarts(element, startEvent),\n    scope\n  } = context;\n\n  if (!startNodes.length) {\n    throw new Error('missing <startNodes> or <startEvent>');\n  }\n\n  for (const startNode of startNodes) {\n\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isStartEvent)(startNode)) {\n      this._simulator.signal({\n        element: startNode,\n        parentScope: scope\n      });\n    } else {\n      this._simulator.enter({\n        element: startNode,\n        scope\n      });\n    }\n  }\n\n};\n\nProcessBehavior.prototype.exit = function(context) {\n\n  const {\n    scope,\n    initiator\n  } = context;\n\n  // ensure that all sub-scopes are destroyed\n\n  this._scopeBehavior.destroyChildren(scope, initiator);\n};\n\nProcessBehavior.prototype._findStarts = function(element, startEvent) {\n\n  const isStartEvent = startEvent\n    ? (node) => startEvent === node\n    : (node) => (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isNoneStartEvent)(node);\n\n  return element.children.filter(\n    node => (\n      isStartEvent(node) || (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isImplicitStartEvent)(node)\n    )\n  );\n};\n\nProcessBehavior.$inject = [\n  'simulator',\n  'scopeBehavior'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9Qcm9jZXNzQmVoYXZpb3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFJMkI7OztBQUdaO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsUUFBUSw2REFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCLGlFQUFnQjs7QUFFaEM7QUFDQTtBQUNBLDRCQUE0QixxRUFBb0I7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL3NpbXVsYXRvci9iZWhhdmlvcnMvUHJvY2Vzc0JlaGF2aW9yLmpzPzU3ZTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaXNJbXBsaWNpdFN0YXJ0RXZlbnQsXG4gIGlzTm9uZVN0YXJ0RXZlbnQsXG4gIGlzU3RhcnRFdmVudFxufSBmcm9tICcuLi91dGlsL01vZGVsVXRpbCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUHJvY2Vzc0JlaGF2aW9yKFxuICAgIHNpbXVsYXRvcixcbiAgICBzY29wZUJlaGF2aW9yKSB7XG5cbiAgdGhpcy5fc2ltdWxhdG9yID0gc2ltdWxhdG9yO1xuICB0aGlzLl9zY29wZUJlaGF2aW9yID0gc2NvcGVCZWhhdmlvcjtcblxuICBzaW11bGF0b3IucmVnaXN0ZXJCZWhhdmlvcignYnBtbjpQcm9jZXNzJywgdGhpcyk7XG4gIHNpbXVsYXRvci5yZWdpc3RlckJlaGF2aW9yKCdicG1uOlBhcnRpY2lwYW50JywgdGhpcyk7XG59XG5cblByb2Nlc3NCZWhhdmlvci5wcm90b3R5cGUuc2lnbmFsID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIGNvbnN0IHtcbiAgICBlbGVtZW50LFxuICAgIHN0YXJ0RXZlbnQsXG4gICAgc3RhcnROb2RlcyA9IHRoaXMuX2ZpbmRTdGFydHMoZWxlbWVudCwgc3RhcnRFdmVudCksXG4gICAgc2NvcGVcbiAgfSA9IGNvbnRleHQ7XG5cbiAgaWYgKCFzdGFydE5vZGVzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWlzc2luZyA8c3RhcnROb2Rlcz4gb3IgPHN0YXJ0RXZlbnQ+Jyk7XG4gIH1cblxuICBmb3IgKGNvbnN0IHN0YXJ0Tm9kZSBvZiBzdGFydE5vZGVzKSB7XG5cbiAgICBpZiAoaXNTdGFydEV2ZW50KHN0YXJ0Tm9kZSkpIHtcbiAgICAgIHRoaXMuX3NpbXVsYXRvci5zaWduYWwoe1xuICAgICAgICBlbGVtZW50OiBzdGFydE5vZGUsXG4gICAgICAgIHBhcmVudFNjb3BlOiBzY29wZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3NpbXVsYXRvci5lbnRlcih7XG4gICAgICAgIGVsZW1lbnQ6IHN0YXJ0Tm9kZSxcbiAgICAgICAgc2NvcGVcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG59O1xuXG5Qcm9jZXNzQmVoYXZpb3IucHJvdG90eXBlLmV4aXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgY29uc3Qge1xuICAgIHNjb3BlLFxuICAgIGluaXRpYXRvclxuICB9ID0gY29udGV4dDtcblxuICAvLyBlbnN1cmUgdGhhdCBhbGwgc3ViLXNjb3BlcyBhcmUgZGVzdHJveWVkXG5cbiAgdGhpcy5fc2NvcGVCZWhhdmlvci5kZXN0cm95Q2hpbGRyZW4oc2NvcGUsIGluaXRpYXRvcik7XG59O1xuXG5Qcm9jZXNzQmVoYXZpb3IucHJvdG90eXBlLl9maW5kU3RhcnRzID0gZnVuY3Rpb24oZWxlbWVudCwgc3RhcnRFdmVudCkge1xuXG4gIGNvbnN0IGlzU3RhcnRFdmVudCA9IHN0YXJ0RXZlbnRcbiAgICA/IChub2RlKSA9PiBzdGFydEV2ZW50ID09PSBub2RlXG4gICAgOiAobm9kZSkgPT4gaXNOb25lU3RhcnRFdmVudChub2RlKTtcblxuICByZXR1cm4gZWxlbWVudC5jaGlsZHJlbi5maWx0ZXIoXG4gICAgbm9kZSA9PiAoXG4gICAgICBpc1N0YXJ0RXZlbnQobm9kZSkgfHwgaXNJbXBsaWNpdFN0YXJ0RXZlbnQobm9kZSlcbiAgICApXG4gICk7XG59O1xuXG5Qcm9jZXNzQmVoYXZpb3IuJGluamVjdCA9IFtcbiAgJ3NpbXVsYXRvcicsXG4gICdzY29wZUJlaGF2aW9yJ1xuXTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/ProcessBehavior.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/ScopeBehavior.js":
/*!**************************************************!*\
  !*** ./lib/simulator/behaviors/ScopeBehavior.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ScopeBehavior)\n/* harmony export */ });\nconst PRE_EXIT_EVENT = {\n  type: 'pre-exit',\n  persistent: true,\n  interrupting: true,\n  boundary: false\n};\n\nconst EXIT_EVENT = {\n  type: 'exit',\n  interrupting: true,\n  boundary: false,\n  persistent: true\n};\n\n\nfunction ScopeBehavior(simulator) {\n  this._simulator = simulator;\n}\n\nScopeBehavior.$inject = [\n  'simulator'\n];\n\n/**\n * Is the given scope finished?\n *\n * @param {Scope}  scope\n * @param {Scope|Function} [excludeScope=null]\n *\n * @return {boolean}\n */\nScopeBehavior.prototype.isFinished = function(scope, excludeScope = null) {\n\n  excludeScope = matchScope(excludeScope);\n\n  return scope.children.every(c => c.destroyed || c.completed || excludeScope(c));\n};\n\n/**\n * Destroy all scope children.\n *\n * @param {Scope} scope\n * @param {Scope} initiator\n * @param {Scope|Function} [excludeScope=null]\n */\nScopeBehavior.prototype.destroyChildren = function(scope, initiator, excludeScope = null) {\n\n  excludeScope = matchScope(excludeScope);\n\n  scope.children.filter(c => !c.destroyed && !excludeScope(c)).map(c => {\n    this._simulator.destroyScope(c, initiator);\n  });\n};\n\nScopeBehavior.prototype.terminate = function(scope, initiator) {\n\n  // kill all child scopes\n  this.destroyChildren(scope, initiator);\n\n  // mark as terminated\n  scope.terminate(initiator);\n\n  // exit immediately\n  this.tryExit(scope, initiator);\n};\n\nScopeBehavior.prototype.interrupt = function(scope, initiator) {\n\n  // kill children but initiator\n  this.destroyChildren(scope, initiator, initiator);\n\n  // mark as failed\n  scope.fail(initiator);\n};\n\nScopeBehavior.prototype.tryExit = function(scope, initiator) {\n  if (!scope) {\n    throw new Error('missing <scope>');\n  }\n\n  if (!initiator) {\n    initiator = scope;\n  }\n\n  if (!this.isFinished(scope, initiator)) {\n    return EXIT_EVENT;\n  }\n\n  const preExitSubscriptions = this._simulator.findSubscriptions({\n    event: PRE_EXIT_EVENT,\n    scope\n  });\n\n  for (const subscription of preExitSubscriptions) {\n\n    const {\n      event,\n      scope\n    } = subscription;\n\n    const scopes = this._simulator.trigger({\n      event,\n      scope,\n      initiator\n    });\n\n    if (scopes.length) {\n      return EXIT_EVENT;\n    }\n  }\n\n  this._simulator.trigger({\n    event: EXIT_EVENT,\n    scope,\n    initiator\n  });\n\n  this.exit({\n    scope,\n    initiator\n  });\n};\n\nScopeBehavior.prototype.exit = function(context) {\n\n  const {\n    scope,\n    initiator\n  } = context;\n\n  if (!initiator) {\n    throw new Error('missing <initiator>');\n  }\n\n  this._simulator.exit({\n    element: scope.element,\n    scope: scope,\n    initiator\n  });\n};\n\nScopeBehavior.prototype.preExit = function(scope, triggerFn) {\n  const subscription = this._simulator.subscribe(scope, PRE_EXIT_EVENT, (initiator) => {\n\n    subscription.remove();\n\n    return triggerFn(initiator);\n  });\n\n  return subscription;\n};\n\n\n// helpers ////////////////\n\n/**\n * Create a scope matcher.\n *\n * @param {Scope|Function} fnOrScope\n *\n * @return { (Scope) => boolean }\n */\nfunction matchScope(fnOrScope) {\n\n  if (typeof fnOrScope === 'function') {\n    return fnOrScope;\n  }\n\n  return (scope) => scope === fnOrScope;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9TY29wZUJlaGF2aW9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHZTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGdCQUFnQjtBQUMzQjtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLGdCQUFnQjtBQUMzQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQjtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL3NpbXVsYXRvci9iZWhhdmlvcnMvU2NvcGVCZWhhdmlvci5qcz81YWIzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFBSRV9FWElUX0VWRU5UID0ge1xuICB0eXBlOiAncHJlLWV4aXQnLFxuICBwZXJzaXN0ZW50OiB0cnVlLFxuICBpbnRlcnJ1cHRpbmc6IHRydWUsXG4gIGJvdW5kYXJ5OiBmYWxzZVxufTtcblxuY29uc3QgRVhJVF9FVkVOVCA9IHtcbiAgdHlwZTogJ2V4aXQnLFxuICBpbnRlcnJ1cHRpbmc6IHRydWUsXG4gIGJvdW5kYXJ5OiBmYWxzZSxcbiAgcGVyc2lzdGVudDogdHJ1ZVxufTtcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTY29wZUJlaGF2aW9yKHNpbXVsYXRvcikge1xuICB0aGlzLl9zaW11bGF0b3IgPSBzaW11bGF0b3I7XG59XG5cblNjb3BlQmVoYXZpb3IuJGluamVjdCA9IFtcbiAgJ3NpbXVsYXRvcidcbl07XG5cbi8qKlxuICogSXMgdGhlIGdpdmVuIHNjb3BlIGZpbmlzaGVkP1xuICpcbiAqIEBwYXJhbSB7U2NvcGV9ICBzY29wZVxuICogQHBhcmFtIHtTY29wZXxGdW5jdGlvbn0gW2V4Y2x1ZGVTY29wZT1udWxsXVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblNjb3BlQmVoYXZpb3IucHJvdG90eXBlLmlzRmluaXNoZWQgPSBmdW5jdGlvbihzY29wZSwgZXhjbHVkZVNjb3BlID0gbnVsbCkge1xuXG4gIGV4Y2x1ZGVTY29wZSA9IG1hdGNoU2NvcGUoZXhjbHVkZVNjb3BlKTtcblxuICByZXR1cm4gc2NvcGUuY2hpbGRyZW4uZXZlcnkoYyA9PiBjLmRlc3Ryb3llZCB8fCBjLmNvbXBsZXRlZCB8fCBleGNsdWRlU2NvcGUoYykpO1xufTtcblxuLyoqXG4gKiBEZXN0cm95IGFsbCBzY29wZSBjaGlsZHJlbi5cbiAqXG4gKiBAcGFyYW0ge1Njb3BlfSBzY29wZVxuICogQHBhcmFtIHtTY29wZX0gaW5pdGlhdG9yXG4gKiBAcGFyYW0ge1Njb3BlfEZ1bmN0aW9ufSBbZXhjbHVkZVNjb3BlPW51bGxdXG4gKi9cblNjb3BlQmVoYXZpb3IucHJvdG90eXBlLmRlc3Ryb3lDaGlsZHJlbiA9IGZ1bmN0aW9uKHNjb3BlLCBpbml0aWF0b3IsIGV4Y2x1ZGVTY29wZSA9IG51bGwpIHtcblxuICBleGNsdWRlU2NvcGUgPSBtYXRjaFNjb3BlKGV4Y2x1ZGVTY29wZSk7XG5cbiAgc2NvcGUuY2hpbGRyZW4uZmlsdGVyKGMgPT4gIWMuZGVzdHJveWVkICYmICFleGNsdWRlU2NvcGUoYykpLm1hcChjID0+IHtcbiAgICB0aGlzLl9zaW11bGF0b3IuZGVzdHJveVNjb3BlKGMsIGluaXRpYXRvcik7XG4gIH0pO1xufTtcblxuU2NvcGVCZWhhdmlvci5wcm90b3R5cGUudGVybWluYXRlID0gZnVuY3Rpb24oc2NvcGUsIGluaXRpYXRvcikge1xuXG4gIC8vIGtpbGwgYWxsIGNoaWxkIHNjb3Blc1xuICB0aGlzLmRlc3Ryb3lDaGlsZHJlbihzY29wZSwgaW5pdGlhdG9yKTtcblxuICAvLyBtYXJrIGFzIHRlcm1pbmF0ZWRcbiAgc2NvcGUudGVybWluYXRlKGluaXRpYXRvcik7XG5cbiAgLy8gZXhpdCBpbW1lZGlhdGVseVxuICB0aGlzLnRyeUV4aXQoc2NvcGUsIGluaXRpYXRvcik7XG59O1xuXG5TY29wZUJlaGF2aW9yLnByb3RvdHlwZS5pbnRlcnJ1cHQgPSBmdW5jdGlvbihzY29wZSwgaW5pdGlhdG9yKSB7XG5cbiAgLy8ga2lsbCBjaGlsZHJlbiBidXQgaW5pdGlhdG9yXG4gIHRoaXMuZGVzdHJveUNoaWxkcmVuKHNjb3BlLCBpbml0aWF0b3IsIGluaXRpYXRvcik7XG5cbiAgLy8gbWFyayBhcyBmYWlsZWRcbiAgc2NvcGUuZmFpbChpbml0aWF0b3IpO1xufTtcblxuU2NvcGVCZWhhdmlvci5wcm90b3R5cGUudHJ5RXhpdCA9IGZ1bmN0aW9uKHNjb3BlLCBpbml0aWF0b3IpIHtcbiAgaWYgKCFzY29wZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignbWlzc2luZyA8c2NvcGU+Jyk7XG4gIH1cblxuICBpZiAoIWluaXRpYXRvcikge1xuICAgIGluaXRpYXRvciA9IHNjb3BlO1xuICB9XG5cbiAgaWYgKCF0aGlzLmlzRmluaXNoZWQoc2NvcGUsIGluaXRpYXRvcikpIHtcbiAgICByZXR1cm4gRVhJVF9FVkVOVDtcbiAgfVxuXG4gIGNvbnN0IHByZUV4aXRTdWJzY3JpcHRpb25zID0gdGhpcy5fc2ltdWxhdG9yLmZpbmRTdWJzY3JpcHRpb25zKHtcbiAgICBldmVudDogUFJFX0VYSVRfRVZFTlQsXG4gICAgc2NvcGVcbiAgfSk7XG5cbiAgZm9yIChjb25zdCBzdWJzY3JpcHRpb24gb2YgcHJlRXhpdFN1YnNjcmlwdGlvbnMpIHtcblxuICAgIGNvbnN0IHtcbiAgICAgIGV2ZW50LFxuICAgICAgc2NvcGVcbiAgICB9ID0gc3Vic2NyaXB0aW9uO1xuXG4gICAgY29uc3Qgc2NvcGVzID0gdGhpcy5fc2ltdWxhdG9yLnRyaWdnZXIoe1xuICAgICAgZXZlbnQsXG4gICAgICBzY29wZSxcbiAgICAgIGluaXRpYXRvclxuICAgIH0pO1xuXG4gICAgaWYgKHNjb3Blcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBFWElUX0VWRU5UO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMuX3NpbXVsYXRvci50cmlnZ2VyKHtcbiAgICBldmVudDogRVhJVF9FVkVOVCxcbiAgICBzY29wZSxcbiAgICBpbml0aWF0b3JcbiAgfSk7XG5cbiAgdGhpcy5leGl0KHtcbiAgICBzY29wZSxcbiAgICBpbml0aWF0b3JcbiAgfSk7XG59O1xuXG5TY29wZUJlaGF2aW9yLnByb3RvdHlwZS5leGl0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIGNvbnN0IHtcbiAgICBzY29wZSxcbiAgICBpbml0aWF0b3JcbiAgfSA9IGNvbnRleHQ7XG5cbiAgaWYgKCFpbml0aWF0b3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21pc3NpbmcgPGluaXRpYXRvcj4nKTtcbiAgfVxuXG4gIHRoaXMuX3NpbXVsYXRvci5leGl0KHtcbiAgICBlbGVtZW50OiBzY29wZS5lbGVtZW50LFxuICAgIHNjb3BlOiBzY29wZSxcbiAgICBpbml0aWF0b3JcbiAgfSk7XG59O1xuXG5TY29wZUJlaGF2aW9yLnByb3RvdHlwZS5wcmVFeGl0ID0gZnVuY3Rpb24oc2NvcGUsIHRyaWdnZXJGbikge1xuICBjb25zdCBzdWJzY3JpcHRpb24gPSB0aGlzLl9zaW11bGF0b3Iuc3Vic2NyaWJlKHNjb3BlLCBQUkVfRVhJVF9FVkVOVCwgKGluaXRpYXRvcikgPT4ge1xuXG4gICAgc3Vic2NyaXB0aW9uLnJlbW92ZSgpO1xuXG4gICAgcmV0dXJuIHRyaWdnZXJGbihpbml0aWF0b3IpO1xuICB9KTtcblxuICByZXR1cm4gc3Vic2NyaXB0aW9uO1xufTtcblxuXG4vLyBoZWxwZXJzIC8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBDcmVhdGUgYSBzY29wZSBtYXRjaGVyLlxuICpcbiAqIEBwYXJhbSB7U2NvcGV8RnVuY3Rpb259IGZuT3JTY29wZVxuICpcbiAqIEByZXR1cm4geyAoU2NvcGUpID0+IGJvb2xlYW4gfVxuICovXG5mdW5jdGlvbiBtYXRjaFNjb3BlKGZuT3JTY29wZSkge1xuXG4gIGlmICh0eXBlb2YgZm5PclNjb3BlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGZuT3JTY29wZTtcbiAgfVxuXG4gIHJldHVybiAoc2NvcGUpID0+IHNjb3BlID09PSBmbk9yU2NvcGU7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/ScopeBehavior.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/SequenceFlowBehavior.js":
/*!*********************************************************!*\
  !*** ./lib/simulator/behaviors/SequenceFlowBehavior.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SequenceFlowBehavior)\n/* harmony export */ });\nfunction SequenceFlowBehavior(\n    simulator,\n    scopeBehavior) {\n\n  this._simulator = simulator;\n  this._scopeBehavior = scopeBehavior;\n\n  simulator.registerBehavior('bpmn:SequenceFlow', this);\n}\n\nSequenceFlowBehavior.prototype.enter = function(context) {\n  this._simulator.exit(context);\n};\n\nSequenceFlowBehavior.prototype.exit = function(context) {\n  const {\n    element,\n    scope\n  } = context;\n\n  this._simulator.enter({\n    element: element.target,\n    scope: scope.parent\n  });\n};\n\nSequenceFlowBehavior.$inject = [\n  'simulator',\n  'scopeBehavior'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9TZXF1ZW5jZUZsb3dCZWhhdmlvci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQWU7QUFDZjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9zaW11bGF0b3IvYmVoYXZpb3JzL1NlcXVlbmNlRmxvd0JlaGF2aW9yLmpzPzdhMTciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2VxdWVuY2VGbG93QmVoYXZpb3IoXG4gICAgc2ltdWxhdG9yLFxuICAgIHNjb3BlQmVoYXZpb3IpIHtcblxuICB0aGlzLl9zaW11bGF0b3IgPSBzaW11bGF0b3I7XG4gIHRoaXMuX3Njb3BlQmVoYXZpb3IgPSBzY29wZUJlaGF2aW9yO1xuXG4gIHNpbXVsYXRvci5yZWdpc3RlckJlaGF2aW9yKCdicG1uOlNlcXVlbmNlRmxvdycsIHRoaXMpO1xufVxuXG5TZXF1ZW5jZUZsb3dCZWhhdmlvci5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHRoaXMuX3NpbXVsYXRvci5leGl0KGNvbnRleHQpO1xufTtcblxuU2VxdWVuY2VGbG93QmVoYXZpb3IucHJvdG90eXBlLmV4aXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIGNvbnN0IHtcbiAgICBlbGVtZW50LFxuICAgIHNjb3BlXG4gIH0gPSBjb250ZXh0O1xuXG4gIHRoaXMuX3NpbXVsYXRvci5lbnRlcih7XG4gICAgZWxlbWVudDogZWxlbWVudC50YXJnZXQsXG4gICAgc2NvcGU6IHNjb3BlLnBhcmVudFxuICB9KTtcbn07XG5cblNlcXVlbmNlRmxvd0JlaGF2aW9yLiRpbmplY3QgPSBbXG4gICdzaW11bGF0b3InLFxuICAnc2NvcGVCZWhhdmlvcidcbl07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/SequenceFlowBehavior.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/StartEventBehavior.js":
/*!*******************************************************!*\
  !*** ./lib/simulator/behaviors/StartEventBehavior.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ StartEventBehavior)\n/* harmony export */ });\nfunction StartEventBehavior(\n    simulator,\n    activityBehavior) {\n\n  this._simulator = simulator;\n  this._activityBehavior = activityBehavior;\n\n  simulator.registerBehavior('bpmn:StartEvent', this);\n}\n\nStartEventBehavior.prototype.signal = function(context) {\n  this._simulator.exit(context);\n};\n\nStartEventBehavior.prototype.exit = function(context) {\n  this._activityBehavior.exit(context);\n};\n\nStartEventBehavior.$inject = [\n  'simulator',\n  'activityBehavior'\n];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9TdGFydEV2ZW50QmVoYXZpb3IuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFlO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9zaW11bGF0b3IvYmVoYXZpb3JzL1N0YXJ0RXZlbnRCZWhhdmlvci5qcz8zZjM0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFN0YXJ0RXZlbnRCZWhhdmlvcihcbiAgICBzaW11bGF0b3IsXG4gICAgYWN0aXZpdHlCZWhhdmlvcikge1xuXG4gIHRoaXMuX3NpbXVsYXRvciA9IHNpbXVsYXRvcjtcbiAgdGhpcy5fYWN0aXZpdHlCZWhhdmlvciA9IGFjdGl2aXR5QmVoYXZpb3I7XG5cbiAgc2ltdWxhdG9yLnJlZ2lzdGVyQmVoYXZpb3IoJ2JwbW46U3RhcnRFdmVudCcsIHRoaXMpO1xufVxuXG5TdGFydEV2ZW50QmVoYXZpb3IucHJvdG90eXBlLnNpZ25hbCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgdGhpcy5fc2ltdWxhdG9yLmV4aXQoY29udGV4dCk7XG59O1xuXG5TdGFydEV2ZW50QmVoYXZpb3IucHJvdG90eXBlLmV4aXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gIHRoaXMuX2FjdGl2aXR5QmVoYXZpb3IuZXhpdChjb250ZXh0KTtcbn07XG5cblN0YXJ0RXZlbnRCZWhhdmlvci4kaW5qZWN0ID0gW1xuICAnc2ltdWxhdG9yJyxcbiAgJ2FjdGl2aXR5QmVoYXZpb3InXG5dOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/StartEventBehavior.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/SubProcessBehavior.js":
/*!*******************************************************!*\
  !*** ./lib/simulator/behaviors/SubProcessBehavior.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SubProcessBehavior)\n/* harmony export */ });\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/ModelUtil */ \"./lib/simulator/util/ModelUtil.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/ModelUtil */ \"./node_modules/bpmn-js/lib/util/ModelUtil.js\");\n\n\n\nfunction SubProcessBehavior(\n    simulator,\n    activityBehavior,\n    scopeBehavior,\n    transactionBehavior,\n    elementRegistry) {\n\n  this._simulator = simulator;\n  this._activityBehavior = activityBehavior;\n  this._scopeBehavior = scopeBehavior;\n  this._transactionBehavior = transactionBehavior;\n  this._elementRegistry = elementRegistry;\n\n  simulator.registerBehavior('bpmn:SubProcess', this);\n  simulator.registerBehavior('bpmn:Transaction', this);\n  simulator.registerBehavior('bpmn:AdHocSubProcess', this);\n}\n\nSubProcessBehavior.$inject = [\n  'simulator',\n  'activityBehavior',\n  'scopeBehavior',\n  'transactionBehavior',\n  'elementRegistry'\n];\n\nSubProcessBehavior.prototype.signal = function(context) {\n  this._start(context);\n};\n\nSubProcessBehavior.prototype.enter = function(context) {\n\n  const {\n    element\n  } = context;\n\n  const continueEvent = this._activityBehavior.waitAtElement(element);\n\n  if (continueEvent) {\n    return this._activityBehavior.signalOnEvent(context, continueEvent);\n  }\n\n  this._start(context);\n};\n\nSubProcessBehavior.prototype.exit = function(context) {\n\n  const {\n    scope\n  } = context;\n\n  const parentScope = scope.parent;\n\n  // successful completion of the fail initiator (event sub-process)\n  // recovers the parent, so that the normal flow is being executed\n  if (parentScope.failInitiator === scope) {\n    parentScope.complete();\n  }\n\n  this._activityBehavior.exit(context);\n};\n\nSubProcessBehavior.prototype._start = function(context) {\n  const {\n    element,\n    startEvent,\n    scope\n  } = context;\n\n  const targetScope = scope.parent;\n\n  if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isEventSubProcess)(element)) {\n\n    if (!startEvent) {\n      throw new Error('missing <startEvent>: required for event sub-process');\n    }\n  } else {\n    if (startEvent) {\n      throw new Error('unexpected <startEvent>: not allowed for sub-process');\n    }\n  }\n\n  if (targetScope.destroyed) {\n    throw new Error(`target scope <${targetScope.id}> destroyed`);\n  }\n\n  if (isTransaction(element)) {\n    this._transactionBehavior.setup(context);\n  }\n\n  if (startEvent && (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isInterrupting)(startEvent)) {\n    this._scopeBehavior.interrupt(targetScope, scope);\n  }\n\n  const startNodes = this._findStarts(element, startEvent);\n\n  for (const element of startNodes) {\n\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isStartEvent)(element)) {\n      this._simulator.signal({\n        element,\n        parentScope: scope,\n        initiator: scope\n      });\n    } else {\n      this._simulator.enter({\n        element,\n        scope,\n        initiator: scope\n      });\n    }\n  }\n};\n\nSubProcessBehavior.prototype._findStarts = function(element, startEvent) {\n\n  // ensure bpmn-js@9 compatibility\n  //\n  // sub-process may be collapsed, in this case operate on the plane\n  element = this._elementRegistry.get(element.id + '_plane') || element;\n\n  const isStartEvent = startEvent\n    ? (node) => startEvent === node\n    : (node) => (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isNoneStartEvent)(node);\n\n  return element.children.filter(\n    node => (\n      isStartEvent(node) || (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.isImplicitStartEvent)(node)\n    )\n  );\n};\n\nfunction isTransaction(element) {\n  return (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.is)(element, 'bpmn:Transaction');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9TdWJQcm9jZXNzQmVoYXZpb3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBTzJCOzs7QUFHWjtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLElBQUk7O0FBRUo7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLElBQUk7O0FBRUo7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKOztBQUVBLE1BQU0sa0VBQWlCOztBQUV2QjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQ0FBcUMsZUFBZTtBQUNwRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLCtEQUFjO0FBQ2xDO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsUUFBUSw2REFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0IsaUVBQWdCOztBQUVoQztBQUNBO0FBQ0EsNEJBQTRCLHFFQUFvQjtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLG1EQUFFO0FBQ1giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9TdWJQcm9jZXNzQmVoYXZpb3IuanM/YWE5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBpcyxcbiAgaXNFdmVudFN1YlByb2Nlc3MsXG4gIGlzSW50ZXJydXB0aW5nLFxuICBpc1N0YXJ0RXZlbnQsXG4gIGlzTm9uZVN0YXJ0RXZlbnQsXG4gIGlzSW1wbGljaXRTdGFydEV2ZW50XG59IGZyb20gJy4uL3V0aWwvTW9kZWxVdGlsJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTdWJQcm9jZXNzQmVoYXZpb3IoXG4gICAgc2ltdWxhdG9yLFxuICAgIGFjdGl2aXR5QmVoYXZpb3IsXG4gICAgc2NvcGVCZWhhdmlvcixcbiAgICB0cmFuc2FjdGlvbkJlaGF2aW9yLFxuICAgIGVsZW1lbnRSZWdpc3RyeSkge1xuXG4gIHRoaXMuX3NpbXVsYXRvciA9IHNpbXVsYXRvcjtcbiAgdGhpcy5fYWN0aXZpdHlCZWhhdmlvciA9IGFjdGl2aXR5QmVoYXZpb3I7XG4gIHRoaXMuX3Njb3BlQmVoYXZpb3IgPSBzY29wZUJlaGF2aW9yO1xuICB0aGlzLl90cmFuc2FjdGlvbkJlaGF2aW9yID0gdHJhbnNhY3Rpb25CZWhhdmlvcjtcbiAgdGhpcy5fZWxlbWVudFJlZ2lzdHJ5ID0gZWxlbWVudFJlZ2lzdHJ5O1xuXG4gIHNpbXVsYXRvci5yZWdpc3RlckJlaGF2aW9yKCdicG1uOlN1YlByb2Nlc3MnLCB0aGlzKTtcbiAgc2ltdWxhdG9yLnJlZ2lzdGVyQmVoYXZpb3IoJ2JwbW46VHJhbnNhY3Rpb24nLCB0aGlzKTtcbiAgc2ltdWxhdG9yLnJlZ2lzdGVyQmVoYXZpb3IoJ2JwbW46QWRIb2NTdWJQcm9jZXNzJywgdGhpcyk7XG59XG5cblN1YlByb2Nlc3NCZWhhdmlvci4kaW5qZWN0ID0gW1xuICAnc2ltdWxhdG9yJyxcbiAgJ2FjdGl2aXR5QmVoYXZpb3InLFxuICAnc2NvcGVCZWhhdmlvcicsXG4gICd0cmFuc2FjdGlvbkJlaGF2aW9yJyxcbiAgJ2VsZW1lbnRSZWdpc3RyeSdcbl07XG5cblN1YlByb2Nlc3NCZWhhdmlvci5wcm90b3R5cGUuc2lnbmFsID0gZnVuY3Rpb24oY29udGV4dCkge1xuICB0aGlzLl9zdGFydChjb250ZXh0KTtcbn07XG5cblN1YlByb2Nlc3NCZWhhdmlvci5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgY29uc3Qge1xuICAgIGVsZW1lbnRcbiAgfSA9IGNvbnRleHQ7XG5cbiAgY29uc3QgY29udGludWVFdmVudCA9IHRoaXMuX2FjdGl2aXR5QmVoYXZpb3Iud2FpdEF0RWxlbWVudChlbGVtZW50KTtcblxuICBpZiAoY29udGludWVFdmVudCkge1xuICAgIHJldHVybiB0aGlzLl9hY3Rpdml0eUJlaGF2aW9yLnNpZ25hbE9uRXZlbnQoY29udGV4dCwgY29udGludWVFdmVudCk7XG4gIH1cblxuICB0aGlzLl9zdGFydChjb250ZXh0KTtcbn07XG5cblN1YlByb2Nlc3NCZWhhdmlvci5wcm90b3R5cGUuZXhpdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICBjb25zdCB7XG4gICAgc2NvcGVcbiAgfSA9IGNvbnRleHQ7XG5cbiAgY29uc3QgcGFyZW50U2NvcGUgPSBzY29wZS5wYXJlbnQ7XG5cbiAgLy8gc3VjY2Vzc2Z1bCBjb21wbGV0aW9uIG9mIHRoZSBmYWlsIGluaXRpYXRvciAoZXZlbnQgc3ViLXByb2Nlc3MpXG4gIC8vIHJlY292ZXJzIHRoZSBwYXJlbnQsIHNvIHRoYXQgdGhlIG5vcm1hbCBmbG93IGlzIGJlaW5nIGV4ZWN1dGVkXG4gIGlmIChwYXJlbnRTY29wZS5mYWlsSW5pdGlhdG9yID09PSBzY29wZSkge1xuICAgIHBhcmVudFNjb3BlLmNvbXBsZXRlKCk7XG4gIH1cblxuICB0aGlzLl9hY3Rpdml0eUJlaGF2aW9yLmV4aXQoY29udGV4dCk7XG59O1xuXG5TdWJQcm9jZXNzQmVoYXZpb3IucHJvdG90eXBlLl9zdGFydCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgY29uc3Qge1xuICAgIGVsZW1lbnQsXG4gICAgc3RhcnRFdmVudCxcbiAgICBzY29wZVxuICB9ID0gY29udGV4dDtcblxuICBjb25zdCB0YXJnZXRTY29wZSA9IHNjb3BlLnBhcmVudDtcblxuICBpZiAoaXNFdmVudFN1YlByb2Nlc3MoZWxlbWVudCkpIHtcblxuICAgIGlmICghc3RhcnRFdmVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdtaXNzaW5nIDxzdGFydEV2ZW50PjogcmVxdWlyZWQgZm9yIGV2ZW50IHN1Yi1wcm9jZXNzJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChzdGFydEV2ZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuZXhwZWN0ZWQgPHN0YXJ0RXZlbnQ+OiBub3QgYWxsb3dlZCBmb3Igc3ViLXByb2Nlc3MnKTtcbiAgICB9XG4gIH1cblxuICBpZiAodGFyZ2V0U2NvcGUuZGVzdHJveWVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGB0YXJnZXQgc2NvcGUgPCR7dGFyZ2V0U2NvcGUuaWR9PiBkZXN0cm95ZWRgKTtcbiAgfVxuXG4gIGlmIChpc1RyYW5zYWN0aW9uKGVsZW1lbnQpKSB7XG4gICAgdGhpcy5fdHJhbnNhY3Rpb25CZWhhdmlvci5zZXR1cChjb250ZXh0KTtcbiAgfVxuXG4gIGlmIChzdGFydEV2ZW50ICYmIGlzSW50ZXJydXB0aW5nKHN0YXJ0RXZlbnQpKSB7XG4gICAgdGhpcy5fc2NvcGVCZWhhdmlvci5pbnRlcnJ1cHQodGFyZ2V0U2NvcGUsIHNjb3BlKTtcbiAgfVxuXG4gIGNvbnN0IHN0YXJ0Tm9kZXMgPSB0aGlzLl9maW5kU3RhcnRzKGVsZW1lbnQsIHN0YXJ0RXZlbnQpO1xuXG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiBzdGFydE5vZGVzKSB7XG5cbiAgICBpZiAoaXNTdGFydEV2ZW50KGVsZW1lbnQpKSB7XG4gICAgICB0aGlzLl9zaW11bGF0b3Iuc2lnbmFsKHtcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgcGFyZW50U2NvcGU6IHNjb3BlLFxuICAgICAgICBpbml0aWF0b3I6IHNjb3BlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2ltdWxhdG9yLmVudGVyKHtcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGluaXRpYXRvcjogc2NvcGVcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufTtcblxuU3ViUHJvY2Vzc0JlaGF2aW9yLnByb3RvdHlwZS5fZmluZFN0YXJ0cyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHN0YXJ0RXZlbnQpIHtcblxuICAvLyBlbnN1cmUgYnBtbi1qc0A5IGNvbXBhdGliaWxpdHlcbiAgLy9cbiAgLy8gc3ViLXByb2Nlc3MgbWF5IGJlIGNvbGxhcHNlZCwgaW4gdGhpcyBjYXNlIG9wZXJhdGUgb24gdGhlIHBsYW5lXG4gIGVsZW1lbnQgPSB0aGlzLl9lbGVtZW50UmVnaXN0cnkuZ2V0KGVsZW1lbnQuaWQgKyAnX3BsYW5lJykgfHwgZWxlbWVudDtcblxuICBjb25zdCBpc1N0YXJ0RXZlbnQgPSBzdGFydEV2ZW50XG4gICAgPyAobm9kZSkgPT4gc3RhcnRFdmVudCA9PT0gbm9kZVxuICAgIDogKG5vZGUpID0+IGlzTm9uZVN0YXJ0RXZlbnQobm9kZSk7XG5cbiAgcmV0dXJuIGVsZW1lbnQuY2hpbGRyZW4uZmlsdGVyKFxuICAgIG5vZGUgPT4gKFxuICAgICAgaXNTdGFydEV2ZW50KG5vZGUpIHx8IGlzSW1wbGljaXRTdGFydEV2ZW50KG5vZGUpXG4gICAgKVxuICApO1xufTtcblxuZnVuY3Rpb24gaXNUcmFuc2FjdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBpcyhlbGVtZW50LCAnYnBtbjpUcmFuc2FjdGlvbicpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/SubProcessBehavior.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/TransactionBehavior.js":
/*!********************************************************!*\
  !*** ./lib/simulator/behaviors/TransactionBehavior.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TransactionBehavior)\n/* harmony export */ });\n/* harmony import */ var _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ScopeTraits */ \"./lib/simulator/ScopeTraits.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/ModelUtil */ \"./lib/simulator/util/ModelUtil.js\");\n/* harmony import */ var _util_ModelUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/ModelUtil */ \"./node_modules/bpmn-js/lib/util/ModelUtil.js\");\n/* harmony import */ var _util_EventsUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/EventsUtil */ \"./lib/simulator/util/EventsUtil.js\");\n/* harmony import */ var _util_SetUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/SetUtil */ \"./lib/simulator/util/SetUtil.js\");\n\n\n\n\n\n\n\n\n\nconst CANCEL_EVENT = {\n  type: 'cancel',\n  interrupting: true,\n  boundary: false,\n  persistent: true\n};\n\n\nfunction TransactionBehavior(simulator, scopeBehavior) {\n  this._simulator = simulator;\n  this._scopeBehavior = scopeBehavior;\n}\n\nTransactionBehavior.$inject = [\n  'simulator',\n  'scopeBehavior'\n];\n\nTransactionBehavior.prototype.setup = function(context) {\n\n  const {\n    scope\n  } = context;\n\n  const cancelSubscription = this._simulator.subscribe(scope, CANCEL_EVENT, (initiator) => {\n\n    cancelSubscription.remove();\n\n    return this.cancel({\n      scope,\n      initiator\n    });\n  });\n\n  const compensateEvent = {\n    type: 'compensate',\n    ref: scope.element,\n    persistent: true,\n    traits: _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.NOT_DEAD\n  };\n\n  const compensateSubscription = this._simulator.subscribe(scope, compensateEvent, (initiator) => {\n\n    // need to trigger ordinary\n    // transaction cancelation\n    if (!scope.canceled) {\n      return this._simulator.trigger({\n        event: CANCEL_EVENT,\n        scope\n      });\n    }\n\n    compensateSubscription.remove();\n\n    return this.compensate({\n      scope,\n      element: scope.element,\n      initiator\n    });\n  });\n};\n\nTransactionBehavior.prototype.cancel = function(context) {\n\n  const {\n    scope,\n    initiator\n  } = context;\n\n  // bail out on double cancel\n  if (scope.destroyed) {\n    return;\n  }\n\n  // mark scope as canceled\n  scope.cancel(initiator);\n\n  // trigger compensation on element\n  this._simulator.trigger({\n    event: {\n      type: 'compensate',\n      ref: scope.element\n    },\n    initiator,\n    scope\n  });\n\n  // re-trigger cancel (to trigger boundary cancel events)\n  return this._simulator.trigger({\n    scope,\n    initiator,\n    event: CANCEL_EVENT\n  });\n};\n\nTransactionBehavior.prototype.registerCompensation = function(scope) {\n\n  const {\n    element\n  } = scope;\n\n  // check for compensation triggers\n  //\n  // * embedded compensation event sub-processes\n  // * compensation boundary events\n\n  const compensateStartEvents = element.children.filter(\n    _util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isEventSubProcess\n  ).map(\n    element => element.children.find(\n      element => (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isStartEvent)(element) && (0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isCompensationEvent)(element)\n    )\n  ).filter(s => s);\n\n  const compensateBoundaryEvents = element.attachers.filter(_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isCompensationEvent);\n\n  if (!compensateStartEvents.length && !compensateBoundaryEvents.length) {\n    return;\n  }\n\n  // always register on parent scope\n  const transactionScope = this.findTransactionScope(scope.parent);\n\n  // sub processes may enter a <compensable> state\n  // in that state they are kept alive on exit\n  // until the parent gets destroyed; as long as they are kept alive\n  // compensation can happen on them\n  //\n  if (!(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_2__.is)(transactionScope.element, 'bpmn:Transaction')) {\n    this.makeCompensable(transactionScope);\n  }\n\n  for (const startEvent of compensateStartEvents) {\n\n    const compensationEvent = {\n      element: startEvent,\n      type: 'compensate',\n      persistent: true,\n      interrupting: true,\n      ref: element,\n      traits: _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.NOT_DEAD\n    };\n\n    const compensateEventSub = startEvent.parent;\n\n    const subscription = this._simulator.subscribe(scope, compensationEvent, initiator => {\n\n      subscription.remove();\n\n      return this._simulator.signal({\n        initiator,\n        element: compensateEventSub,\n        startEvent,\n        parentScope: scope\n      });\n    });\n  }\n\n  for (const boundaryEvent of compensateBoundaryEvents) {\n\n    const compensationEvent = {\n      element: boundaryEvent,\n      type: 'compensate',\n      persistent: true,\n      ref: element,\n      traits: _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.NOT_DEAD\n    };\n\n    const compensateActivity = boundaryEvent.outgoing.map(\n      outgoing => outgoing.target\n    ).find(\n      _util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isCompensationActivity\n    );\n\n    if (!compensateActivity) {\n      continue;\n    }\n\n    const subscription = this._simulator.subscribe(transactionScope, compensationEvent, initiator => {\n\n      subscription.remove();\n\n      // enter compensate activity like normal task\n      return this._simulator.enter({\n        initiator,\n        element: compensateActivity,\n        scope: transactionScope\n      });\n    });\n  }\n};\n\nTransactionBehavior.prototype.makeCompensable = function(scope) {\n\n  if (scope.hasTrait(_ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.COMPENSABLE) || !scope.parent) {\n    return;\n  }\n\n  const compensateEvent = {\n    type: 'compensate',\n    ref: scope.element,\n    interrupting: true,\n    persistent: true,\n    traits: _ScopeTraits__WEBPACK_IMPORTED_MODULE_0__.ScopeTraits.NOT_DEAD\n  };\n\n  scope.compensable();\n\n  const scopeSub = this._simulator.subscribe(scope, compensateEvent, (initiator) => {\n\n    scopeSub.remove();\n\n    scope.fail(initiator);\n\n    this.compensate({\n      scope,\n      element: scope.element,\n      initiator\n    });\n\n    this._scopeBehavior.tryExit(scope, initiator);\n\n    return scope;\n  });\n\n  const parentScope = scope.parent;\n\n  if (!parentScope) {\n    return;\n  }\n\n  const parentSub = this._simulator.subscribe(parentScope, compensateEvent, initiator => {\n\n    parentSub.remove();\n\n    return this._simulator.trigger({\n      scope,\n      event: compensateEvent,\n      initiator\n    });\n\n  });\n\n  this.makeCompensable(parentScope);\n};\n\n\nTransactionBehavior.prototype.findTransactionScope = function(scope) {\n\n  let parentScope = scope;\n\n  while (parentScope) {\n    const element = parentScope.element;\n\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_2__.is)(element, 'bpmn:SubProcess') && !(0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isEventSubProcess)(element)) {\n      return parentScope;\n    }\n\n    if ((0,_util_ModelUtil__WEBPACK_IMPORTED_MODULE_1__.isAny)(element, [\n      'bpmn:Transaction',\n      'bpmn:Process',\n      'bpmn:Participant'\n    ])) {\n      return parentScope;\n    }\n\n    parentScope = parentScope.parent;\n  }\n\n  throw noTransactionContext(scope);\n};\n\nTransactionBehavior.prototype.compensate = function(context) {\n\n  const {\n    scope,\n    element\n  } = context;\n\n  // compensate all\n  const compensateSubscriptions = (0,_util_SetUtil__WEBPACK_IMPORTED_MODULE_3__.filterSet)(\n    scope.subscriptions,\n    subscription => (0,_util_EventsUtil__WEBPACK_IMPORTED_MODULE_4__.eventsMatch)({ type: 'compensate' }, subscription.event)\n  );\n\n  const localSubscriptions = compensateSubscriptions.filter(subscription => subscription.event.ref === element);\n\n  const otherSubscriptions = compensateSubscriptions.filter(subscription => subscription.event.ref !== element);\n\n  for (const subscription of localSubscriptions) {\n    this._scopeBehavior.preExit(scope, initiator => {\n      return this._simulator.trigger(subscription);\n    });\n  }\n\n  for (const subscription of otherSubscriptions.reverse()) {\n    this._scopeBehavior.preExit(scope, initiator => {\n      return this._simulator.trigger(subscription);\n    });\n  }\n};\n\n\n// helpers ///////////////\n\nfunction noTransactionContext(scope) {\n  throw new Error(`no transaction context for <${scope.id}>`);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9UcmFuc2FjdGlvbkJlaGF2aW9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUV3Qjs7QUFTRzs7QUFJQzs7QUFJSDs7O0FBR3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR2U7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLElBQUk7O0FBRUo7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFXO0FBQ3ZCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUksOERBQWlCO0FBQ3JCO0FBQ0E7QUFDQSxpQkFBaUIsNkRBQVksYUFBYSxvRUFBbUI7QUFDN0Q7QUFDQTs7QUFFQSw0REFBNEQsZ0VBQW1COztBQUUvRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQSxPQUFPLG1EQUFFO0FBQ1Q7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFXO0FBQ3pCOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFXO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sbUVBQXNCO0FBQzVCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBLHFCQUFxQixxREFBVztBQUNoQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFEQUFXO0FBQ3ZCOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTCxHQUFHOztBQUVIO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsUUFBUSxtREFBRSxpQ0FBaUMsa0VBQWlCO0FBQzVEO0FBQ0E7O0FBRUEsUUFBUSxzREFBSztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBLGtDQUFrQyx3REFBUztBQUMzQztBQUNBLG9CQUFvQiw2REFBVyxHQUFHLG9CQUFvQjtBQUN0RDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0EsaURBQWlELFNBQVM7QUFDMUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9UcmFuc2FjdGlvbkJlaGF2aW9yLmpzP2NmOWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgU2NvcGVUcmFpdHNcbn0gZnJvbSAnLi4vU2NvcGVUcmFpdHMnO1xuXG5pbXBvcnQge1xuICBpc0FueSxcbiAgaXNDb21wZW5zYXRpb25FdmVudCxcbiAgaXNDb21wZW5zYXRpb25BY3Rpdml0eSxcbiAgaXNFdmVudFN1YlByb2Nlc3MsXG4gIGlzU3RhcnRFdmVudCxcbiAgaXNcbn0gZnJvbSAnLi4vdXRpbC9Nb2RlbFV0aWwnO1xuXG5pbXBvcnQge1xuICBldmVudHNNYXRjaFxufSBmcm9tICcuLi91dGlsL0V2ZW50c1V0aWwnO1xuXG5pbXBvcnQge1xuICBmaWx0ZXJTZXRcbn0gZnJvbSAnLi4vdXRpbC9TZXRVdGlsJztcblxuXG5jb25zdCBDQU5DRUxfRVZFTlQgPSB7XG4gIHR5cGU6ICdjYW5jZWwnLFxuICBpbnRlcnJ1cHRpbmc6IHRydWUsXG4gIGJvdW5kYXJ5OiBmYWxzZSxcbiAgcGVyc2lzdGVudDogdHJ1ZVxufTtcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUcmFuc2FjdGlvbkJlaGF2aW9yKHNpbXVsYXRvciwgc2NvcGVCZWhhdmlvcikge1xuICB0aGlzLl9zaW11bGF0b3IgPSBzaW11bGF0b3I7XG4gIHRoaXMuX3Njb3BlQmVoYXZpb3IgPSBzY29wZUJlaGF2aW9yO1xufVxuXG5UcmFuc2FjdGlvbkJlaGF2aW9yLiRpbmplY3QgPSBbXG4gICdzaW11bGF0b3InLFxuICAnc2NvcGVCZWhhdmlvcidcbl07XG5cblRyYW5zYWN0aW9uQmVoYXZpb3IucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIGNvbnN0IHtcbiAgICBzY29wZVxuICB9ID0gY29udGV4dDtcblxuICBjb25zdCBjYW5jZWxTdWJzY3JpcHRpb24gPSB0aGlzLl9zaW11bGF0b3Iuc3Vic2NyaWJlKHNjb3BlLCBDQU5DRUxfRVZFTlQsIChpbml0aWF0b3IpID0+IHtcblxuICAgIGNhbmNlbFN1YnNjcmlwdGlvbi5yZW1vdmUoKTtcblxuICAgIHJldHVybiB0aGlzLmNhbmNlbCh7XG4gICAgICBzY29wZSxcbiAgICAgIGluaXRpYXRvclxuICAgIH0pO1xuICB9KTtcblxuICBjb25zdCBjb21wZW5zYXRlRXZlbnQgPSB7XG4gICAgdHlwZTogJ2NvbXBlbnNhdGUnLFxuICAgIHJlZjogc2NvcGUuZWxlbWVudCxcbiAgICBwZXJzaXN0ZW50OiB0cnVlLFxuICAgIHRyYWl0czogU2NvcGVUcmFpdHMuTk9UX0RFQURcbiAgfTtcblxuICBjb25zdCBjb21wZW5zYXRlU3Vic2NyaXB0aW9uID0gdGhpcy5fc2ltdWxhdG9yLnN1YnNjcmliZShzY29wZSwgY29tcGVuc2F0ZUV2ZW50LCAoaW5pdGlhdG9yKSA9PiB7XG5cbiAgICAvLyBuZWVkIHRvIHRyaWdnZXIgb3JkaW5hcnlcbiAgICAvLyB0cmFuc2FjdGlvbiBjYW5jZWxhdGlvblxuICAgIGlmICghc2NvcGUuY2FuY2VsZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zaW11bGF0b3IudHJpZ2dlcih7XG4gICAgICAgIGV2ZW50OiBDQU5DRUxfRVZFTlQsXG4gICAgICAgIHNjb3BlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb21wZW5zYXRlU3Vic2NyaXB0aW9uLnJlbW92ZSgpO1xuXG4gICAgcmV0dXJuIHRoaXMuY29tcGVuc2F0ZSh7XG4gICAgICBzY29wZSxcbiAgICAgIGVsZW1lbnQ6IHNjb3BlLmVsZW1lbnQsXG4gICAgICBpbml0aWF0b3JcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5UcmFuc2FjdGlvbkJlaGF2aW9yLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgY29uc3Qge1xuICAgIHNjb3BlLFxuICAgIGluaXRpYXRvclxuICB9ID0gY29udGV4dDtcblxuICAvLyBiYWlsIG91dCBvbiBkb3VibGUgY2FuY2VsXG4gIGlmIChzY29wZS5kZXN0cm95ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBtYXJrIHNjb3BlIGFzIGNhbmNlbGVkXG4gIHNjb3BlLmNhbmNlbChpbml0aWF0b3IpO1xuXG4gIC8vIHRyaWdnZXIgY29tcGVuc2F0aW9uIG9uIGVsZW1lbnRcbiAgdGhpcy5fc2ltdWxhdG9yLnRyaWdnZXIoe1xuICAgIGV2ZW50OiB7XG4gICAgICB0eXBlOiAnY29tcGVuc2F0ZScsXG4gICAgICByZWY6IHNjb3BlLmVsZW1lbnRcbiAgICB9LFxuICAgIGluaXRpYXRvcixcbiAgICBzY29wZVxuICB9KTtcblxuICAvLyByZS10cmlnZ2VyIGNhbmNlbCAodG8gdHJpZ2dlciBib3VuZGFyeSBjYW5jZWwgZXZlbnRzKVxuICByZXR1cm4gdGhpcy5fc2ltdWxhdG9yLnRyaWdnZXIoe1xuICAgIHNjb3BlLFxuICAgIGluaXRpYXRvcixcbiAgICBldmVudDogQ0FOQ0VMX0VWRU5UXG4gIH0pO1xufTtcblxuVHJhbnNhY3Rpb25CZWhhdmlvci5wcm90b3R5cGUucmVnaXN0ZXJDb21wZW5zYXRpb24gPSBmdW5jdGlvbihzY29wZSkge1xuXG4gIGNvbnN0IHtcbiAgICBlbGVtZW50XG4gIH0gPSBzY29wZTtcblxuICAvLyBjaGVjayBmb3IgY29tcGVuc2F0aW9uIHRyaWdnZXJzXG4gIC8vXG4gIC8vICogZW1iZWRkZWQgY29tcGVuc2F0aW9uIGV2ZW50IHN1Yi1wcm9jZXNzZXNcbiAgLy8gKiBjb21wZW5zYXRpb24gYm91bmRhcnkgZXZlbnRzXG5cbiAgY29uc3QgY29tcGVuc2F0ZVN0YXJ0RXZlbnRzID0gZWxlbWVudC5jaGlsZHJlbi5maWx0ZXIoXG4gICAgaXNFdmVudFN1YlByb2Nlc3NcbiAgKS5tYXAoXG4gICAgZWxlbWVudCA9PiBlbGVtZW50LmNoaWxkcmVuLmZpbmQoXG4gICAgICBlbGVtZW50ID0+IGlzU3RhcnRFdmVudChlbGVtZW50KSAmJiBpc0NvbXBlbnNhdGlvbkV2ZW50KGVsZW1lbnQpXG4gICAgKVxuICApLmZpbHRlcihzID0+IHMpO1xuXG4gIGNvbnN0IGNvbXBlbnNhdGVCb3VuZGFyeUV2ZW50cyA9IGVsZW1lbnQuYXR0YWNoZXJzLmZpbHRlcihpc0NvbXBlbnNhdGlvbkV2ZW50KTtcblxuICBpZiAoIWNvbXBlbnNhdGVTdGFydEV2ZW50cy5sZW5ndGggJiYgIWNvbXBlbnNhdGVCb3VuZGFyeUV2ZW50cy5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBhbHdheXMgcmVnaXN0ZXIgb24gcGFyZW50IHNjb3BlXG4gIGNvbnN0IHRyYW5zYWN0aW9uU2NvcGUgPSB0aGlzLmZpbmRUcmFuc2FjdGlvblNjb3BlKHNjb3BlLnBhcmVudCk7XG5cbiAgLy8gc3ViIHByb2Nlc3NlcyBtYXkgZW50ZXIgYSA8Y29tcGVuc2FibGU+IHN0YXRlXG4gIC8vIGluIHRoYXQgc3RhdGUgdGhleSBhcmUga2VwdCBhbGl2ZSBvbiBleGl0XG4gIC8vIHVudGlsIHRoZSBwYXJlbnQgZ2V0cyBkZXN0cm95ZWQ7IGFzIGxvbmcgYXMgdGhleSBhcmUga2VwdCBhbGl2ZVxuICAvLyBjb21wZW5zYXRpb24gY2FuIGhhcHBlbiBvbiB0aGVtXG4gIC8vXG4gIGlmICghaXModHJhbnNhY3Rpb25TY29wZS5lbGVtZW50LCAnYnBtbjpUcmFuc2FjdGlvbicpKSB7XG4gICAgdGhpcy5tYWtlQ29tcGVuc2FibGUodHJhbnNhY3Rpb25TY29wZSk7XG4gIH1cblxuICBmb3IgKGNvbnN0IHN0YXJ0RXZlbnQgb2YgY29tcGVuc2F0ZVN0YXJ0RXZlbnRzKSB7XG5cbiAgICBjb25zdCBjb21wZW5zYXRpb25FdmVudCA9IHtcbiAgICAgIGVsZW1lbnQ6IHN0YXJ0RXZlbnQsXG4gICAgICB0eXBlOiAnY29tcGVuc2F0ZScsXG4gICAgICBwZXJzaXN0ZW50OiB0cnVlLFxuICAgICAgaW50ZXJydXB0aW5nOiB0cnVlLFxuICAgICAgcmVmOiBlbGVtZW50LFxuICAgICAgdHJhaXRzOiBTY29wZVRyYWl0cy5OT1RfREVBRFxuICAgIH07XG5cbiAgICBjb25zdCBjb21wZW5zYXRlRXZlbnRTdWIgPSBzdGFydEV2ZW50LnBhcmVudDtcblxuICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHRoaXMuX3NpbXVsYXRvci5zdWJzY3JpYmUoc2NvcGUsIGNvbXBlbnNhdGlvbkV2ZW50LCBpbml0aWF0b3IgPT4ge1xuXG4gICAgICBzdWJzY3JpcHRpb24ucmVtb3ZlKCk7XG5cbiAgICAgIHJldHVybiB0aGlzLl9zaW11bGF0b3Iuc2lnbmFsKHtcbiAgICAgICAgaW5pdGlhdG9yLFxuICAgICAgICBlbGVtZW50OiBjb21wZW5zYXRlRXZlbnRTdWIsXG4gICAgICAgIHN0YXJ0RXZlbnQsXG4gICAgICAgIHBhcmVudFNjb3BlOiBzY29wZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmb3IgKGNvbnN0IGJvdW5kYXJ5RXZlbnQgb2YgY29tcGVuc2F0ZUJvdW5kYXJ5RXZlbnRzKSB7XG5cbiAgICBjb25zdCBjb21wZW5zYXRpb25FdmVudCA9IHtcbiAgICAgIGVsZW1lbnQ6IGJvdW5kYXJ5RXZlbnQsXG4gICAgICB0eXBlOiAnY29tcGVuc2F0ZScsXG4gICAgICBwZXJzaXN0ZW50OiB0cnVlLFxuICAgICAgcmVmOiBlbGVtZW50LFxuICAgICAgdHJhaXRzOiBTY29wZVRyYWl0cy5OT1RfREVBRFxuICAgIH07XG5cbiAgICBjb25zdCBjb21wZW5zYXRlQWN0aXZpdHkgPSBib3VuZGFyeUV2ZW50Lm91dGdvaW5nLm1hcChcbiAgICAgIG91dGdvaW5nID0+IG91dGdvaW5nLnRhcmdldFxuICAgICkuZmluZChcbiAgICAgIGlzQ29tcGVuc2F0aW9uQWN0aXZpdHlcbiAgICApO1xuXG4gICAgaWYgKCFjb21wZW5zYXRlQWN0aXZpdHkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHRoaXMuX3NpbXVsYXRvci5zdWJzY3JpYmUodHJhbnNhY3Rpb25TY29wZSwgY29tcGVuc2F0aW9uRXZlbnQsIGluaXRpYXRvciA9PiB7XG5cbiAgICAgIHN1YnNjcmlwdGlvbi5yZW1vdmUoKTtcblxuICAgICAgLy8gZW50ZXIgY29tcGVuc2F0ZSBhY3Rpdml0eSBsaWtlIG5vcm1hbCB0YXNrXG4gICAgICByZXR1cm4gdGhpcy5fc2ltdWxhdG9yLmVudGVyKHtcbiAgICAgICAgaW5pdGlhdG9yLFxuICAgICAgICBlbGVtZW50OiBjb21wZW5zYXRlQWN0aXZpdHksXG4gICAgICAgIHNjb3BlOiB0cmFuc2FjdGlvblNjb3BlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufTtcblxuVHJhbnNhY3Rpb25CZWhhdmlvci5wcm90b3R5cGUubWFrZUNvbXBlbnNhYmxlID0gZnVuY3Rpb24oc2NvcGUpIHtcblxuICBpZiAoc2NvcGUuaGFzVHJhaXQoU2NvcGVUcmFpdHMuQ09NUEVOU0FCTEUpIHx8ICFzY29wZS5wYXJlbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjb21wZW5zYXRlRXZlbnQgPSB7XG4gICAgdHlwZTogJ2NvbXBlbnNhdGUnLFxuICAgIHJlZjogc2NvcGUuZWxlbWVudCxcbiAgICBpbnRlcnJ1cHRpbmc6IHRydWUsXG4gICAgcGVyc2lzdGVudDogdHJ1ZSxcbiAgICB0cmFpdHM6IFNjb3BlVHJhaXRzLk5PVF9ERUFEXG4gIH07XG5cbiAgc2NvcGUuY29tcGVuc2FibGUoKTtcblxuICBjb25zdCBzY29wZVN1YiA9IHRoaXMuX3NpbXVsYXRvci5zdWJzY3JpYmUoc2NvcGUsIGNvbXBlbnNhdGVFdmVudCwgKGluaXRpYXRvcikgPT4ge1xuXG4gICAgc2NvcGVTdWIucmVtb3ZlKCk7XG5cbiAgICBzY29wZS5mYWlsKGluaXRpYXRvcik7XG5cbiAgICB0aGlzLmNvbXBlbnNhdGUoe1xuICAgICAgc2NvcGUsXG4gICAgICBlbGVtZW50OiBzY29wZS5lbGVtZW50LFxuICAgICAgaW5pdGlhdG9yXG4gICAgfSk7XG5cbiAgICB0aGlzLl9zY29wZUJlaGF2aW9yLnRyeUV4aXQoc2NvcGUsIGluaXRpYXRvcik7XG5cbiAgICByZXR1cm4gc2NvcGU7XG4gIH0pO1xuXG4gIGNvbnN0IHBhcmVudFNjb3BlID0gc2NvcGUucGFyZW50O1xuXG4gIGlmICghcGFyZW50U2NvcGUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBwYXJlbnRTdWIgPSB0aGlzLl9zaW11bGF0b3Iuc3Vic2NyaWJlKHBhcmVudFNjb3BlLCBjb21wZW5zYXRlRXZlbnQsIGluaXRpYXRvciA9PiB7XG5cbiAgICBwYXJlbnRTdWIucmVtb3ZlKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fc2ltdWxhdG9yLnRyaWdnZXIoe1xuICAgICAgc2NvcGUsXG4gICAgICBldmVudDogY29tcGVuc2F0ZUV2ZW50LFxuICAgICAgaW5pdGlhdG9yXG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgdGhpcy5tYWtlQ29tcGVuc2FibGUocGFyZW50U2NvcGUpO1xufTtcblxuXG5UcmFuc2FjdGlvbkJlaGF2aW9yLnByb3RvdHlwZS5maW5kVHJhbnNhY3Rpb25TY29wZSA9IGZ1bmN0aW9uKHNjb3BlKSB7XG5cbiAgbGV0IHBhcmVudFNjb3BlID0gc2NvcGU7XG5cbiAgd2hpbGUgKHBhcmVudFNjb3BlKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IHBhcmVudFNjb3BlLmVsZW1lbnQ7XG5cbiAgICBpZiAoaXMoZWxlbWVudCwgJ2JwbW46U3ViUHJvY2VzcycpICYmICFpc0V2ZW50U3ViUHJvY2VzcyhlbGVtZW50KSkge1xuICAgICAgcmV0dXJuIHBhcmVudFNjb3BlO1xuICAgIH1cblxuICAgIGlmIChpc0FueShlbGVtZW50LCBbXG4gICAgICAnYnBtbjpUcmFuc2FjdGlvbicsXG4gICAgICAnYnBtbjpQcm9jZXNzJyxcbiAgICAgICdicG1uOlBhcnRpY2lwYW50J1xuICAgIF0pKSB7XG4gICAgICByZXR1cm4gcGFyZW50U2NvcGU7XG4gICAgfVxuXG4gICAgcGFyZW50U2NvcGUgPSBwYXJlbnRTY29wZS5wYXJlbnQ7XG4gIH1cblxuICB0aHJvdyBub1RyYW5zYWN0aW9uQ29udGV4dChzY29wZSk7XG59O1xuXG5UcmFuc2FjdGlvbkJlaGF2aW9yLnByb3RvdHlwZS5jb21wZW5zYXRlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXG4gIGNvbnN0IHtcbiAgICBzY29wZSxcbiAgICBlbGVtZW50XG4gIH0gPSBjb250ZXh0O1xuXG4gIC8vIGNvbXBlbnNhdGUgYWxsXG4gIGNvbnN0IGNvbXBlbnNhdGVTdWJzY3JpcHRpb25zID0gZmlsdGVyU2V0KFxuICAgIHNjb3BlLnN1YnNjcmlwdGlvbnMsXG4gICAgc3Vic2NyaXB0aW9uID0+IGV2ZW50c01hdGNoKHsgdHlwZTogJ2NvbXBlbnNhdGUnIH0sIHN1YnNjcmlwdGlvbi5ldmVudClcbiAgKTtcblxuICBjb25zdCBsb2NhbFN1YnNjcmlwdGlvbnMgPSBjb21wZW5zYXRlU3Vic2NyaXB0aW9ucy5maWx0ZXIoc3Vic2NyaXB0aW9uID0+IHN1YnNjcmlwdGlvbi5ldmVudC5yZWYgPT09IGVsZW1lbnQpO1xuXG4gIGNvbnN0IG90aGVyU3Vic2NyaXB0aW9ucyA9IGNvbXBlbnNhdGVTdWJzY3JpcHRpb25zLmZpbHRlcihzdWJzY3JpcHRpb24gPT4gc3Vic2NyaXB0aW9uLmV2ZW50LnJlZiAhPT0gZWxlbWVudCk7XG5cbiAgZm9yIChjb25zdCBzdWJzY3JpcHRpb24gb2YgbG9jYWxTdWJzY3JpcHRpb25zKSB7XG4gICAgdGhpcy5fc2NvcGVCZWhhdmlvci5wcmVFeGl0KHNjb3BlLCBpbml0aWF0b3IgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX3NpbXVsYXRvci50cmlnZ2VyKHN1YnNjcmlwdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBmb3IgKGNvbnN0IHN1YnNjcmlwdGlvbiBvZiBvdGhlclN1YnNjcmlwdGlvbnMucmV2ZXJzZSgpKSB7XG4gICAgdGhpcy5fc2NvcGVCZWhhdmlvci5wcmVFeGl0KHNjb3BlLCBpbml0aWF0b3IgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX3NpbXVsYXRvci50cmlnZ2VyKHN1YnNjcmlwdGlvbik7XG4gICAgfSk7XG4gIH1cbn07XG5cblxuLy8gaGVscGVycyAvLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gbm9UcmFuc2FjdGlvbkNvbnRleHQoc2NvcGUpIHtcbiAgdGhyb3cgbmV3IEVycm9yKGBubyB0cmFuc2FjdGlvbiBjb250ZXh0IGZvciA8JHtzY29wZS5pZH0+YCk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/TransactionBehavior.js\n");

/***/ }),

/***/ "./lib/simulator/behaviors/index.js":
/*!******************************************!*\
  !*** ./lib/simulator/behaviors/index.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _StartEventBehavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StartEventBehavior */ \"./lib/simulator/behaviors/StartEventBehavior.js\");\n/* harmony import */ var _EndEventBehavior__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EndEventBehavior */ \"./lib/simulator/behaviors/EndEventBehavior.js\");\n/* harmony import */ var _BoundaryEventBehavior__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BoundaryEventBehavior */ \"./lib/simulator/behaviors/BoundaryEventBehavior.js\");\n/* harmony import */ var _IntermediateCatchEventBehavior__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./IntermediateCatchEventBehavior */ \"./lib/simulator/behaviors/IntermediateCatchEventBehavior.js\");\n/* harmony import */ var _IntermediateThrowEventBehavior__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./IntermediateThrowEventBehavior */ \"./lib/simulator/behaviors/IntermediateThrowEventBehavior.js\");\n/* harmony import */ var _ExclusiveGatewayBehavior__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ExclusiveGatewayBehavior */ \"./lib/simulator/behaviors/ExclusiveGatewayBehavior.js\");\n/* harmony import */ var _ParallelGatewayBehavior__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ParallelGatewayBehavior */ \"./lib/simulator/behaviors/ParallelGatewayBehavior.js\");\n/* harmony import */ var _EventBasedGatewayBehavior__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./EventBasedGatewayBehavior */ \"./lib/simulator/behaviors/EventBasedGatewayBehavior.js\");\n/* harmony import */ var _InclusiveGatewayBehavior__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./InclusiveGatewayBehavior */ \"./lib/simulator/behaviors/InclusiveGatewayBehavior.js\");\n/* harmony import */ var _ActivityBehavior__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ActivityBehavior */ \"./lib/simulator/behaviors/ActivityBehavior.js\");\n/* harmony import */ var _SubProcessBehavior__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SubProcessBehavior */ \"./lib/simulator/behaviors/SubProcessBehavior.js\");\n/* harmony import */ var _TransactionBehavior__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./TransactionBehavior */ \"./lib/simulator/behaviors/TransactionBehavior.js\");\n/* harmony import */ var _SequenceFlowBehavior__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./SequenceFlowBehavior */ \"./lib/simulator/behaviors/SequenceFlowBehavior.js\");\n/* harmony import */ var _MessageFlowBehavior__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./MessageFlowBehavior */ \"./lib/simulator/behaviors/MessageFlowBehavior.js\");\n/* harmony import */ var _EventBehaviors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./EventBehaviors */ \"./lib/simulator/behaviors/EventBehaviors.js\");\n/* harmony import */ var _ScopeBehavior__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ScopeBehavior */ \"./lib/simulator/behaviors/ScopeBehavior.js\");\n/* harmony import */ var _ProcessBehavior__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ProcessBehavior */ \"./lib/simulator/behaviors/ProcessBehavior.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __init__: [\n    'startEventBehavior',\n    'endEventBehavior',\n    'boundaryEventBehavior',\n    'intermediateCatchEventBehavior',\n    'intermediateThrowEventBehavior',\n    'exclusiveGatewayBehavior',\n    'parallelGatewayBehavior',\n    'eventBasedGatewayBehavior',\n    'inclusiveGatewayBehavior',\n    'subProcessBehavior',\n    'sequenceFlowBehavior',\n    'messageFlowBehavior',\n    'processBehavior'\n  ],\n  startEventBehavior: [ 'type', _StartEventBehavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ],\n  endEventBehavior: [ 'type', _EndEventBehavior__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ],\n  boundaryEventBehavior: [ 'type', _BoundaryEventBehavior__WEBPACK_IMPORTED_MODULE_2__[\"default\"] ],\n  intermediateCatchEventBehavior: [ 'type', _IntermediateCatchEventBehavior__WEBPACK_IMPORTED_MODULE_3__[\"default\"] ],\n  intermediateThrowEventBehavior: [ 'type', _IntermediateThrowEventBehavior__WEBPACK_IMPORTED_MODULE_4__[\"default\"] ],\n  exclusiveGatewayBehavior: [ 'type', _ExclusiveGatewayBehavior__WEBPACK_IMPORTED_MODULE_5__[\"default\"] ],\n  parallelGatewayBehavior: [ 'type', _ParallelGatewayBehavior__WEBPACK_IMPORTED_MODULE_6__[\"default\"] ],\n  eventBasedGatewayBehavior: [ 'type', _EventBasedGatewayBehavior__WEBPACK_IMPORTED_MODULE_7__[\"default\"] ],\n  inclusiveGatewayBehavior: [ 'type', _InclusiveGatewayBehavior__WEBPACK_IMPORTED_MODULE_8__[\"default\"] ],\n  activityBehavior: [ 'type', _ActivityBehavior__WEBPACK_IMPORTED_MODULE_9__[\"default\"] ],\n  subProcessBehavior: [ 'type', _SubProcessBehavior__WEBPACK_IMPORTED_MODULE_10__[\"default\"] ],\n  sequenceFlowBehavior: [ 'type', _SequenceFlowBehavior__WEBPACK_IMPORTED_MODULE_11__[\"default\"] ],\n  messageFlowBehavior: [ 'type', _MessageFlowBehavior__WEBPACK_IMPORTED_MODULE_12__[\"default\"] ],\n  eventBehaviors: [ 'type', _EventBehaviors__WEBPACK_IMPORTED_MODULE_13__[\"default\"] ],\n  scopeBehavior: [ 'type', _ScopeBehavior__WEBPACK_IMPORTED_MODULE_14__[\"default\"] ],\n  processBehavior: [ 'type', _ProcessBehavior__WEBPACK_IMPORTED_MODULE_15__[\"default\"] ],\n  transactionBehavior: [ 'type', _TransactionBehavior__WEBPACK_IMPORTED_MODULE_16__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2JlaGF2aW9ycy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0Q7QUFDSjtBQUNVO0FBQ2tCO0FBQ0E7O0FBRVo7QUFDRjtBQUNJO0FBQ0Y7O0FBRWhCO0FBQ0k7QUFDRTs7QUFFRTtBQUNGOztBQUVWO0FBQ0Y7O0FBRUk7OztBQUdoRCxpRUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywyREFBa0I7QUFDbEQsOEJBQThCLHlEQUFnQjtBQUM5QyxtQ0FBbUMsOERBQXFCO0FBQ3hELDRDQUE0Qyx1RUFBOEI7QUFDMUUsNENBQTRDLHVFQUE4QjtBQUMxRSxzQ0FBc0MsaUVBQXdCO0FBQzlELHFDQUFxQyxnRUFBdUI7QUFDNUQsdUNBQXVDLGtFQUF5QjtBQUNoRSxzQ0FBc0MsaUVBQXdCO0FBQzlELDhCQUE4Qix5REFBZ0I7QUFDOUMsZ0NBQWdDLDREQUFrQjtBQUNsRCxrQ0FBa0MsOERBQW9CO0FBQ3RELGlDQUFpQyw2REFBbUI7QUFDcEQsNEJBQTRCLHdEQUFjO0FBQzFDLDJCQUEyQix1REFBYTtBQUN4Qyw2QkFBNkIseURBQWU7QUFDNUMsaUNBQWlDLDZEQUFtQjtBQUNwRCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL3NpbXVsYXRvci9iZWhhdmlvcnMvaW5kZXguanM/OWMyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3RhcnRFdmVudEJlaGF2aW9yIGZyb20gJy4vU3RhcnRFdmVudEJlaGF2aW9yJztcbmltcG9ydCBFbmRFdmVudEJlaGF2aW9yIGZyb20gJy4vRW5kRXZlbnRCZWhhdmlvcic7XG5pbXBvcnQgQm91bmRhcnlFdmVudEJlaGF2aW9yIGZyb20gJy4vQm91bmRhcnlFdmVudEJlaGF2aW9yJztcbmltcG9ydCBJbnRlcm1lZGlhdGVDYXRjaEV2ZW50QmVoYXZpb3IgZnJvbSAnLi9JbnRlcm1lZGlhdGVDYXRjaEV2ZW50QmVoYXZpb3InO1xuaW1wb3J0IEludGVybWVkaWF0ZVRocm93RXZlbnRCZWhhdmlvciBmcm9tICcuL0ludGVybWVkaWF0ZVRocm93RXZlbnRCZWhhdmlvcic7XG5cbmltcG9ydCBFeGNsdXNpdmVHYXRld2F5QmVoYXZpb3IgZnJvbSAnLi9FeGNsdXNpdmVHYXRld2F5QmVoYXZpb3InO1xuaW1wb3J0IFBhcmFsbGVsR2F0ZXdheUJlaGF2aW9yIGZyb20gJy4vUGFyYWxsZWxHYXRld2F5QmVoYXZpb3InO1xuaW1wb3J0IEV2ZW50QmFzZWRHYXRld2F5QmVoYXZpb3IgZnJvbSAnLi9FdmVudEJhc2VkR2F0ZXdheUJlaGF2aW9yJztcbmltcG9ydCBJbmNsdXNpdmVHYXRld2F5QmVoYXZpb3IgZnJvbSAnLi9JbmNsdXNpdmVHYXRld2F5QmVoYXZpb3InO1xuXG5pbXBvcnQgQWN0aXZpdHlCZWhhdmlvciBmcm9tICcuL0FjdGl2aXR5QmVoYXZpb3InO1xuaW1wb3J0IFN1YlByb2Nlc3NCZWhhdmlvciBmcm9tICcuL1N1YlByb2Nlc3NCZWhhdmlvcic7XG5pbXBvcnQgVHJhbnNhY3Rpb25CZWhhdmlvciBmcm9tICcuL1RyYW5zYWN0aW9uQmVoYXZpb3InO1xuXG5pbXBvcnQgU2VxdWVuY2VGbG93QmVoYXZpb3IgZnJvbSAnLi9TZXF1ZW5jZUZsb3dCZWhhdmlvcic7XG5pbXBvcnQgTWVzc2FnZUZsb3dCZWhhdmlvciBmcm9tICcuL01lc3NhZ2VGbG93QmVoYXZpb3InO1xuXG5pbXBvcnQgRXZlbnRCZWhhdmlvcnMgZnJvbSAnLi9FdmVudEJlaGF2aW9ycyc7XG5pbXBvcnQgU2NvcGVCZWhhdmlvciBmcm9tICcuL1Njb3BlQmVoYXZpb3InO1xuXG5pbXBvcnQgUHJvY2Vzc0JlaGF2aW9yIGZyb20gJy4vUHJvY2Vzc0JlaGF2aW9yJztcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9faW5pdF9fOiBbXG4gICAgJ3N0YXJ0RXZlbnRCZWhhdmlvcicsXG4gICAgJ2VuZEV2ZW50QmVoYXZpb3InLFxuICAgICdib3VuZGFyeUV2ZW50QmVoYXZpb3InLFxuICAgICdpbnRlcm1lZGlhdGVDYXRjaEV2ZW50QmVoYXZpb3InLFxuICAgICdpbnRlcm1lZGlhdGVUaHJvd0V2ZW50QmVoYXZpb3InLFxuICAgICdleGNsdXNpdmVHYXRld2F5QmVoYXZpb3InLFxuICAgICdwYXJhbGxlbEdhdGV3YXlCZWhhdmlvcicsXG4gICAgJ2V2ZW50QmFzZWRHYXRld2F5QmVoYXZpb3InLFxuICAgICdpbmNsdXNpdmVHYXRld2F5QmVoYXZpb3InLFxuICAgICdzdWJQcm9jZXNzQmVoYXZpb3InLFxuICAgICdzZXF1ZW5jZUZsb3dCZWhhdmlvcicsXG4gICAgJ21lc3NhZ2VGbG93QmVoYXZpb3InLFxuICAgICdwcm9jZXNzQmVoYXZpb3InXG4gIF0sXG4gIHN0YXJ0RXZlbnRCZWhhdmlvcjogWyAndHlwZScsIFN0YXJ0RXZlbnRCZWhhdmlvciBdLFxuICBlbmRFdmVudEJlaGF2aW9yOiBbICd0eXBlJywgRW5kRXZlbnRCZWhhdmlvciBdLFxuICBib3VuZGFyeUV2ZW50QmVoYXZpb3I6IFsgJ3R5cGUnLCBCb3VuZGFyeUV2ZW50QmVoYXZpb3IgXSxcbiAgaW50ZXJtZWRpYXRlQ2F0Y2hFdmVudEJlaGF2aW9yOiBbICd0eXBlJywgSW50ZXJtZWRpYXRlQ2F0Y2hFdmVudEJlaGF2aW9yIF0sXG4gIGludGVybWVkaWF0ZVRocm93RXZlbnRCZWhhdmlvcjogWyAndHlwZScsIEludGVybWVkaWF0ZVRocm93RXZlbnRCZWhhdmlvciBdLFxuICBleGNsdXNpdmVHYXRld2F5QmVoYXZpb3I6IFsgJ3R5cGUnLCBFeGNsdXNpdmVHYXRld2F5QmVoYXZpb3IgXSxcbiAgcGFyYWxsZWxHYXRld2F5QmVoYXZpb3I6IFsgJ3R5cGUnLCBQYXJhbGxlbEdhdGV3YXlCZWhhdmlvciBdLFxuICBldmVudEJhc2VkR2F0ZXdheUJlaGF2aW9yOiBbICd0eXBlJywgRXZlbnRCYXNlZEdhdGV3YXlCZWhhdmlvciBdLFxuICBpbmNsdXNpdmVHYXRld2F5QmVoYXZpb3I6IFsgJ3R5cGUnLCBJbmNsdXNpdmVHYXRld2F5QmVoYXZpb3IgXSxcbiAgYWN0aXZpdHlCZWhhdmlvcjogWyAndHlwZScsIEFjdGl2aXR5QmVoYXZpb3IgXSxcbiAgc3ViUHJvY2Vzc0JlaGF2aW9yOiBbICd0eXBlJywgU3ViUHJvY2Vzc0JlaGF2aW9yIF0sXG4gIHNlcXVlbmNlRmxvd0JlaGF2aW9yOiBbICd0eXBlJywgU2VxdWVuY2VGbG93QmVoYXZpb3IgXSxcbiAgbWVzc2FnZUZsb3dCZWhhdmlvcjogWyAndHlwZScsIE1lc3NhZ2VGbG93QmVoYXZpb3IgXSxcbiAgZXZlbnRCZWhhdmlvcnM6IFsgJ3R5cGUnLCBFdmVudEJlaGF2aW9ycyBdLFxuICBzY29wZUJlaGF2aW9yOiBbICd0eXBlJywgU2NvcGVCZWhhdmlvciBdLFxuICBwcm9jZXNzQmVoYXZpb3I6IFsgJ3R5cGUnLCBQcm9jZXNzQmVoYXZpb3IgXSxcbiAgdHJhbnNhY3Rpb25CZWhhdmlvcjogWyAndHlwZScsIFRyYW5zYWN0aW9uQmVoYXZpb3IgXVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/simulator/behaviors/index.js\n");

/***/ }),

/***/ "./lib/simulator/index.js":
/*!********************************!*\
  !*** ./lib/simulator/index.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Simulator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Simulator */ \"./lib/simulator/Simulator.js\");\n/* harmony import */ var _behaviors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./behaviors */ \"./lib/simulator/behaviors/index.js\");\n\n\n\nconst HIGH_PRIORITY = 5000;\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __depends__: [\n    _behaviors__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n  ],\n  __init__: [\n    [ 'eventBus', 'simulator', function(eventBus, simulator) {\n      eventBus.on([\n        'tokenSimulation.toggleMode',\n        'tokenSimulation.resetSimulation'\n      ], HIGH_PRIORITY, event => {\n        simulator.reset();\n      });\n    } ]\n  ],\n  simulator: [ 'type', _Simulator__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFvQztBQUNlOztBQUVuRDs7QUFFQSxpRUFBZTtBQUNmO0FBQ0EsSUFBSSxrREFBd0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQSx1QkFBdUIsa0RBQVM7QUFDaEMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9zaW11bGF0b3IvaW5kZXguanM/NjAzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU2ltdWxhdG9yIGZyb20gJy4vU2ltdWxhdG9yJztcbmltcG9ydCBTaW11bGF0aW9uQmVoYXZpb3JNb2R1bGUgZnJvbSAnLi9iZWhhdmlvcnMnO1xuXG5jb25zdCBISUdIX1BSSU9SSVRZID0gNTAwMDtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2RlcGVuZHNfXzogW1xuICAgIFNpbXVsYXRpb25CZWhhdmlvck1vZHVsZVxuICBdLFxuICBfX2luaXRfXzogW1xuICAgIFsgJ2V2ZW50QnVzJywgJ3NpbXVsYXRvcicsIGZ1bmN0aW9uKGV2ZW50QnVzLCBzaW11bGF0b3IpIHtcbiAgICAgIGV2ZW50QnVzLm9uKFtcbiAgICAgICAgJ3Rva2VuU2ltdWxhdGlvbi50b2dnbGVNb2RlJyxcbiAgICAgICAgJ3Rva2VuU2ltdWxhdGlvbi5yZXNldFNpbXVsYXRpb24nXG4gICAgICBdLCBISUdIX1BSSU9SSVRZLCBldmVudCA9PiB7XG4gICAgICAgIHNpbXVsYXRvci5yZXNldCgpO1xuICAgICAgfSk7XG4gICAgfSBdXG4gIF0sXG4gIHNpbXVsYXRvcjogWyAndHlwZScsIFNpbXVsYXRvciBdXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/simulator/index.js\n");

/***/ }),

/***/ "./lib/simulator/util/EventsUtil.js":
/*!******************************************!*\
  !*** ./lib/simulator/util/EventsUtil.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   eventsMatch: () => (/* binding */ eventsMatch)\n/* harmony export */ });\nfunction eventsMatch(a, b) {\n  return [ 'type', 'name', 'ref', 'iref' ].every(attr => !(attr in a) || a[attr] === b[attr]);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL3V0aWwvRXZlbnRzVXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL3NpbXVsYXRvci91dGlsL0V2ZW50c1V0aWwuanM/NjI4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZXZlbnRzTWF0Y2goYSwgYikge1xuICByZXR1cm4gWyAndHlwZScsICduYW1lJywgJ3JlZicsICdpcmVmJyBdLmV2ZXJ5KGF0dHIgPT4gIShhdHRyIGluIGEpIHx8IGFbYXR0cl0gPT09IGJbYXR0cl0pO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/simulator/util/EventsUtil.js\n");

/***/ }),

/***/ "./lib/simulator/util/ModelUtil.js":
/*!*****************************************!*\
  !*** ./lib/simulator/util/ModelUtil.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   filterSequenceFlows: () => (/* binding */ filterSequenceFlows),\n/* harmony export */   getBusinessObject: () => (/* reexport safe */ bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.getBusinessObject),\n/* harmony export */   is: () => (/* reexport safe */ bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is),\n/* harmony export */   isAny: () => (/* binding */ isAny),\n/* harmony export */   isBoundaryEvent: () => (/* binding */ isBoundaryEvent),\n/* harmony export */   isCatchEvent: () => (/* binding */ isCatchEvent),\n/* harmony export */   isCompensationActivity: () => (/* binding */ isCompensationActivity),\n/* harmony export */   isCompensationEvent: () => (/* binding */ isCompensationEvent),\n/* harmony export */   isEventSubProcess: () => (/* binding */ isEventSubProcess),\n/* harmony export */   isImplicitStartEvent: () => (/* binding */ isImplicitStartEvent),\n/* harmony export */   isInterrupting: () => (/* binding */ isInterrupting),\n/* harmony export */   isLabel: () => (/* binding */ isLabel),\n/* harmony export */   isLinkCatch: () => (/* binding */ isLinkCatch),\n/* harmony export */   isMessageCatch: () => (/* binding */ isMessageCatch),\n/* harmony export */   isMessageFlow: () => (/* binding */ isMessageFlow),\n/* harmony export */   isNoneStartEvent: () => (/* binding */ isNoneStartEvent),\n/* harmony export */   isSequenceFlow: () => (/* binding */ isSequenceFlow),\n/* harmony export */   isStartEvent: () => (/* binding */ isStartEvent),\n/* harmony export */   isTypedEvent: () => (/* binding */ isTypedEvent)\n/* harmony export */ });\n/* harmony import */ var bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bpmn-js/lib/util/ModelUtil */ \"./node_modules/bpmn-js/lib/util/ModelUtil.js\");\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"./node_modules/min-dash/dist/index.esm.js\");\n\n\n\n\n\n\n\nfunction filterSequenceFlows(flows) {\n  return flows.filter(f => (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(f, 'bpmn:SequenceFlow'));\n}\n\nfunction isMessageFlow(element) {\n  return (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(element, 'bpmn:MessageFlow');\n}\n\nfunction isSequenceFlow(element) {\n  return (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(element, 'bpmn:SequenceFlow');\n}\n\nfunction isMessageCatch(element) {\n  return isCatchEvent(element) && isTypedEvent(element, 'bpmn:MessageEventDefinition');\n}\n\nfunction isLinkCatch(element) {\n  return isCatchEvent(element) && isTypedEvent(element, 'bpmn:LinkEventDefinition');\n}\n\nfunction isCompensationEvent(element) {\n  return isCatchEvent(element) && isTypedEvent(element, 'bpmn:CompensateEventDefinition');\n}\n\nfunction isCompensationActivity(element) {\n  return (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(element, 'bpmn:Activity') && element.businessObject.isForCompensation;\n}\n\nfunction isCatchEvent(element) {\n  return (\n    (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(element, 'bpmn:CatchEvent') ||\n    (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(element, 'bpmn:ReceiveTask')\n  ) && !isLabel(element);\n}\n\nfunction isBoundaryEvent(element) {\n  return (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(element, 'bpmn:BoundaryEvent') && !isLabel(element);\n}\n\nfunction isNoneStartEvent(element) {\n  return isStartEvent(element) && !isTypedEvent(element);\n}\n\nfunction isImplicitStartEvent(element) {\n  if (isLabel(element)) {\n    return false;\n  }\n\n  if (!isAny(element, [\n    'bpmn:Activity',\n    'bpmn:IntermediateCatchEvent',\n    'bpmn:IntermediateThrowEvent',\n    'bpmn:Gateway',\n    'bpmn:EndEvent'\n  ])) {\n    return false;\n  }\n\n  if (isLinkCatch(element)) {\n    return false;\n  }\n\n  const incoming = element.incoming.find(isSequenceFlow);\n\n  if (incoming) {\n    return false;\n  }\n\n  if (isCompensationActivity(element)) {\n    return false;\n  }\n\n  if (isEventSubProcess(element)) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction isStartEvent(element) {\n  return (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(element, 'bpmn:StartEvent') && !isLabel(element);\n}\n\nfunction isLabel(element) {\n  return !!element.labelTarget;\n}\n\nfunction isEventSubProcess(element) {\n  return (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.getBusinessObject)(element).triggeredByEvent;\n}\n\nfunction isInterrupting(element) {\n  return (\n    (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(element, 'bpmn:StartEvent') && (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.getBusinessObject)(element).isInterrupting\n  ) || (\n    (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(element, 'bpmn:BoundaryEvent') && (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.getBusinessObject)(element).cancelActivity\n  );\n}\n\nfunction isAny(element, types) {\n  return types.some(type => (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(element, type));\n}\n\n/**\n * @param { DiagramElement} event\n * @param {string|undefined} [eventDefinitionType]\n *\n * @return {boolean}\n */\nfunction isTypedEvent(event, eventDefinitionType) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.some)((0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.getBusinessObject)(event).eventDefinitions, definition => {\n    return eventDefinitionType ? (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(definition, eventDefinitionType) : true;\n  });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL3V0aWwvTW9kZWxVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUdvQzs7QUFJbEI7OztBQUdlOztBQUUxQjtBQUNQLDJCQUEyQiw4REFBRTtBQUM3Qjs7QUFFTztBQUNQLFNBQVMsOERBQUU7QUFDWDs7QUFFTztBQUNQLFNBQVMsOERBQUU7QUFDWDs7QUFFTztBQUNQO0FBQ0E7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQTs7QUFFTztBQUNQLFNBQVMsOERBQUU7QUFDWDs7QUFFTztBQUNQO0FBQ0EsSUFBSSw4REFBRTtBQUNOLElBQUksOERBQUU7QUFDTjtBQUNBOztBQUVPO0FBQ1AsU0FBUyw4REFBRTtBQUNYOztBQUVPO0FBQ1A7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRU87QUFDUCxTQUFTLDhEQUFFO0FBQ1g7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1AsU0FBUyw2RUFBaUI7QUFDMUI7O0FBRU87QUFDUDtBQUNBLElBQUksOERBQUUsZ0NBQWdDLDZFQUFpQjtBQUN2RDtBQUNBLElBQUksOERBQUUsbUNBQW1DLDZFQUFpQjtBQUMxRDtBQUNBOztBQUVPO0FBQ1AsNEJBQTRCLDhEQUFFO0FBQzlCOztBQUVBO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUIsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQLFNBQVMsOENBQUksQ0FBQyw2RUFBaUI7QUFDL0IsaUNBQWlDLDhEQUFFO0FBQ25DLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi9zaW11bGF0b3IvdXRpbC9Nb2RlbFV0aWwuanM/Mjk4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBpcyxcbiAgZ2V0QnVzaW5lc3NPYmplY3Rcbn0gZnJvbSAnYnBtbi1qcy9saWIvdXRpbC9Nb2RlbFV0aWwnO1xuXG5pbXBvcnQge1xuICBzb21lXG59IGZyb20gJ21pbi1kYXNoJztcblxuXG5leHBvcnQgeyBpcywgZ2V0QnVzaW5lc3NPYmplY3QgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlclNlcXVlbmNlRmxvd3MoZmxvd3MpIHtcbiAgcmV0dXJuIGZsb3dzLmZpbHRlcihmID0+IGlzKGYsICdicG1uOlNlcXVlbmNlRmxvdycpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTWVzc2FnZUZsb3coZWxlbWVudCkge1xuICByZXR1cm4gaXMoZWxlbWVudCwgJ2JwbW46TWVzc2FnZUZsb3cnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2VxdWVuY2VGbG93KGVsZW1lbnQpIHtcbiAgcmV0dXJuIGlzKGVsZW1lbnQsICdicG1uOlNlcXVlbmNlRmxvdycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNNZXNzYWdlQ2F0Y2goZWxlbWVudCkge1xuICByZXR1cm4gaXNDYXRjaEV2ZW50KGVsZW1lbnQpICYmIGlzVHlwZWRFdmVudChlbGVtZW50LCAnYnBtbjpNZXNzYWdlRXZlbnREZWZpbml0aW9uJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0xpbmtDYXRjaChlbGVtZW50KSB7XG4gIHJldHVybiBpc0NhdGNoRXZlbnQoZWxlbWVudCkgJiYgaXNUeXBlZEV2ZW50KGVsZW1lbnQsICdicG1uOkxpbmtFdmVudERlZmluaXRpb24nKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29tcGVuc2F0aW9uRXZlbnQoZWxlbWVudCkge1xuICByZXR1cm4gaXNDYXRjaEV2ZW50KGVsZW1lbnQpICYmIGlzVHlwZWRFdmVudChlbGVtZW50LCAnYnBtbjpDb21wZW5zYXRlRXZlbnREZWZpbml0aW9uJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbXBlbnNhdGlvbkFjdGl2aXR5KGVsZW1lbnQpIHtcbiAgcmV0dXJuIGlzKGVsZW1lbnQsICdicG1uOkFjdGl2aXR5JykgJiYgZWxlbWVudC5idXNpbmVzc09iamVjdC5pc0ZvckNvbXBlbnNhdGlvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2F0Y2hFdmVudChlbGVtZW50KSB7XG4gIHJldHVybiAoXG4gICAgaXMoZWxlbWVudCwgJ2JwbW46Q2F0Y2hFdmVudCcpIHx8XG4gICAgaXMoZWxlbWVudCwgJ2JwbW46UmVjZWl2ZVRhc2snKVxuICApICYmICFpc0xhYmVsKGVsZW1lbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNCb3VuZGFyeUV2ZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuIGlzKGVsZW1lbnQsICdicG1uOkJvdW5kYXJ5RXZlbnQnKSAmJiAhaXNMYWJlbChlbGVtZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTm9uZVN0YXJ0RXZlbnQoZWxlbWVudCkge1xuICByZXR1cm4gaXNTdGFydEV2ZW50KGVsZW1lbnQpICYmICFpc1R5cGVkRXZlbnQoZWxlbWVudCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0ltcGxpY2l0U3RhcnRFdmVudChlbGVtZW50KSB7XG4gIGlmIChpc0xhYmVsKGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFpc0FueShlbGVtZW50LCBbXG4gICAgJ2JwbW46QWN0aXZpdHknLFxuICAgICdicG1uOkludGVybWVkaWF0ZUNhdGNoRXZlbnQnLFxuICAgICdicG1uOkludGVybWVkaWF0ZVRocm93RXZlbnQnLFxuICAgICdicG1uOkdhdGV3YXknLFxuICAgICdicG1uOkVuZEV2ZW50J1xuICBdKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChpc0xpbmtDYXRjaChlbGVtZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IGluY29taW5nID0gZWxlbWVudC5pbmNvbWluZy5maW5kKGlzU2VxdWVuY2VGbG93KTtcblxuICBpZiAoaW5jb21pbmcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoaXNDb21wZW5zYXRpb25BY3Rpdml0eShlbGVtZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChpc0V2ZW50U3ViUHJvY2VzcyhlbGVtZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTdGFydEV2ZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuIGlzKGVsZW1lbnQsICdicG1uOlN0YXJ0RXZlbnQnKSAmJiAhaXNMYWJlbChlbGVtZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTGFiZWwoZWxlbWVudCkge1xuICByZXR1cm4gISFlbGVtZW50LmxhYmVsVGFyZ2V0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFdmVudFN1YlByb2Nlc3MoZWxlbWVudCkge1xuICByZXR1cm4gZ2V0QnVzaW5lc3NPYmplY3QoZWxlbWVudCkudHJpZ2dlcmVkQnlFdmVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZXJydXB0aW5nKGVsZW1lbnQpIHtcbiAgcmV0dXJuIChcbiAgICBpcyhlbGVtZW50LCAnYnBtbjpTdGFydEV2ZW50JykgJiYgZ2V0QnVzaW5lc3NPYmplY3QoZWxlbWVudCkuaXNJbnRlcnJ1cHRpbmdcbiAgKSB8fCAoXG4gICAgaXMoZWxlbWVudCwgJ2JwbW46Qm91bmRhcnlFdmVudCcpICYmIGdldEJ1c2luZXNzT2JqZWN0KGVsZW1lbnQpLmNhbmNlbEFjdGl2aXR5XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FueShlbGVtZW50LCB0eXBlcykge1xuICByZXR1cm4gdHlwZXMuc29tZSh0eXBlID0+IGlzKGVsZW1lbnQsIHR5cGUpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyBEaWFncmFtRWxlbWVudH0gZXZlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gW2V2ZW50RGVmaW5pdGlvblR5cGVdXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVHlwZWRFdmVudChldmVudCwgZXZlbnREZWZpbml0aW9uVHlwZSkge1xuICByZXR1cm4gc29tZShnZXRCdXNpbmVzc09iamVjdChldmVudCkuZXZlbnREZWZpbml0aW9ucywgZGVmaW5pdGlvbiA9PiB7XG4gICAgcmV0dXJuIGV2ZW50RGVmaW5pdGlvblR5cGUgPyBpcyhkZWZpbml0aW9uLCBldmVudERlZmluaXRpb25UeXBlKSA6IHRydWU7XG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/simulator/util/ModelUtil.js\n");

/***/ }),

/***/ "./lib/simulator/util/SetUtil.js":
/*!***************************************!*\
  !*** ./lib/simulator/util/SetUtil.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   filterSet: () => (/* binding */ filterSet),\n/* harmony export */   findSet: () => (/* binding */ findSet)\n/* harmony export */ });\nfunction filterSet(set, matchFn) {\n\n  const matched = [];\n\n  for (const el of set) {\n    if (matchFn(el)) {\n      matched.push(el);\n    }\n  }\n\n  return matched;\n}\n\nfunction findSet(set, matchFn) {\n\n  for (const el of set) {\n    if (matchFn(el)) {\n      return el;\n    }\n  }\n\n  return null;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvc2ltdWxhdG9yL3V0aWwvU2V0VXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPOztBQUVQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9saWIvc2ltdWxhdG9yL3V0aWwvU2V0VXRpbC5qcz85ZTVkIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJTZXQoc2V0LCBtYXRjaEZuKSB7XG5cbiAgY29uc3QgbWF0Y2hlZCA9IFtdO1xuXG4gIGZvciAoY29uc3QgZWwgb2Ygc2V0KSB7XG4gICAgaWYgKG1hdGNoRm4oZWwpKSB7XG4gICAgICBtYXRjaGVkLnB1c2goZWwpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtYXRjaGVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZFNldChzZXQsIG1hdGNoRm4pIHtcblxuICBmb3IgKGNvbnN0IGVsIG9mIHNldCkge1xuICAgIGlmIChtYXRjaEZuKGVsKSkge1xuICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/simulator/util/SetUtil.js\n");

/***/ }),

/***/ "./lib/util/ElementHelper.js":
/*!***********************************!*\
  !*** ./lib/util/ElementHelper.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getBusinessObject: () => (/* reexport safe */ bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.getBusinessObject),\n/* harmony export */   getEventDefinition: () => (/* binding */ getEventDefinition),\n/* harmony export */   is: () => (/* binding */ is),\n/* harmony export */   isTypedEvent: () => (/* binding */ isTypedEvent)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bpmn-js/lib/util/ModelUtil */ \"./node_modules/bpmn-js/lib/util/ModelUtil.js\");\n\n\n\n\nfunction is(element, types) {\n  if (element.type === 'label') {\n    return false;\n  }\n\n  if (!Array.isArray(types)) {\n    types = [ types ];\n  }\n\n  return types.some(function(type) {\n    return (0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.is)(element, type);\n  });\n}\n\nfunction getEventDefinition(event, eventDefinitionType) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.find)((0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.getBusinessObject)(event).eventDefinitions, definition => {\n    return is(definition, eventDefinitionType);\n  });\n}\n\nfunction isTypedEvent(event, eventDefinitionType) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.some)((0,bpmn_js_lib_util_ModelUtil__WEBPACK_IMPORTED_MODULE_0__.getBusinessObject)(event).eventDefinitions, definition => {\n    return is(definition, eventDefinitionType);\n  });\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdXRpbC9FbGVtZW50SGVscGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUdrQjs7QUFLa0I7O0FBRTdCO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsOERBQUk7QUFDZixHQUFHO0FBQ0g7O0FBRU87QUFDUCxTQUFTLDhDQUFJLENBQUMsNkVBQWlCO0FBQy9CO0FBQ0EsR0FBRztBQUNIOztBQUVPO0FBQ1AsU0FBUyw4Q0FBSSxDQUFDLDZFQUFpQjtBQUMvQjtBQUNBLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi91dGlsL0VsZW1lbnRIZWxwZXIuanM/MGFlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBmaW5kLFxuICBzb21lXG59IGZyb20gJ21pbi1kYXNoJztcblxuaW1wb3J0IHtcbiAgaXMgYXMgX19pcyxcbiAgZ2V0QnVzaW5lc3NPYmplY3Rcbn0gZnJvbSAnYnBtbi1qcy9saWIvdXRpbC9Nb2RlbFV0aWwnO1xuXG5leHBvcnQgZnVuY3Rpb24gaXMoZWxlbWVudCwgdHlwZXMpIHtcbiAgaWYgKGVsZW1lbnQudHlwZSA9PT0gJ2xhYmVsJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghQXJyYXkuaXNBcnJheSh0eXBlcykpIHtcbiAgICB0eXBlcyA9IFsgdHlwZXMgXTtcbiAgfVxuXG4gIHJldHVybiB0eXBlcy5zb21lKGZ1bmN0aW9uKHR5cGUpIHtcbiAgICByZXR1cm4gX19pcyhlbGVtZW50LCB0eXBlKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFdmVudERlZmluaXRpb24oZXZlbnQsIGV2ZW50RGVmaW5pdGlvblR5cGUpIHtcbiAgcmV0dXJuIGZpbmQoZ2V0QnVzaW5lc3NPYmplY3QoZXZlbnQpLmV2ZW50RGVmaW5pdGlvbnMsIGRlZmluaXRpb24gPT4ge1xuICAgIHJldHVybiBpcyhkZWZpbml0aW9uLCBldmVudERlZmluaXRpb25UeXBlKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1R5cGVkRXZlbnQoZXZlbnQsIGV2ZW50RGVmaW5pdGlvblR5cGUpIHtcbiAgcmV0dXJuIHNvbWUoZ2V0QnVzaW5lc3NPYmplY3QoZXZlbnQpLmV2ZW50RGVmaW5pdGlvbnMsIGRlZmluaXRpb24gPT4ge1xuICAgIHJldHVybiBpcyhkZWZpbml0aW9uLCBldmVudERlZmluaXRpb25UeXBlKTtcbiAgfSk7XG59XG5cbmV4cG9ydCB7XG4gIGdldEJ1c2luZXNzT2JqZWN0XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/util/ElementHelper.js\n");

/***/ }),

/***/ "./lib/util/EventHelper.js":
/*!*********************************!*\
  !*** ./lib/util/EventHelper.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ANIMATION_CREATED_EVENT: () => (/* binding */ ANIMATION_CREATED_EVENT),\n/* harmony export */   ANIMATION_SPEED_CHANGED_EVENT: () => (/* binding */ ANIMATION_SPEED_CHANGED_EVENT),\n/* harmony export */   ELEMENT_CHANGED_EVENT: () => (/* binding */ ELEMENT_CHANGED_EVENT),\n/* harmony export */   PAUSE_SIMULATION_EVENT: () => (/* binding */ PAUSE_SIMULATION_EVENT),\n/* harmony export */   PLAY_SIMULATION_EVENT: () => (/* binding */ PLAY_SIMULATION_EVENT),\n/* harmony export */   RESET_SIMULATION_EVENT: () => (/* binding */ RESET_SIMULATION_EVENT),\n/* harmony export */   SCOPE_CHANGED_EVENT: () => (/* binding */ SCOPE_CHANGED_EVENT),\n/* harmony export */   SCOPE_CREATE_EVENT: () => (/* binding */ SCOPE_CREATE_EVENT),\n/* harmony export */   SCOPE_DESTROYED_EVENT: () => (/* binding */ SCOPE_DESTROYED_EVENT),\n/* harmony export */   SCOPE_FILTER_CHANGED_EVENT: () => (/* binding */ SCOPE_FILTER_CHANGED_EVENT),\n/* harmony export */   TOGGLE_MODE_EVENT: () => (/* binding */ TOGGLE_MODE_EVENT),\n/* harmony export */   TRACE_EVENT: () => (/* binding */ TRACE_EVENT)\n/* harmony export */ });\nconst TOGGLE_MODE_EVENT = 'tokenSimulation.toggleMode';\r\nconst PLAY_SIMULATION_EVENT = 'tokenSimulation.playSimulation';\r\nconst PAUSE_SIMULATION_EVENT = 'tokenSimulation.pauseSimulation';\r\nconst RESET_SIMULATION_EVENT = 'tokenSimulation.resetSimulation';\r\nconst ANIMATION_CREATED_EVENT = 'tokenSimulation.animationCreated';\r\nconst ANIMATION_SPEED_CHANGED_EVENT = 'tokenSimulation.animationSpeedChanged';\r\nconst ELEMENT_CHANGED_EVENT = 'tokenSimulation.simulator.elementChanged';\r\nconst SCOPE_DESTROYED_EVENT = 'tokenSimulation.simulator.destroyScope';\r\nconst SCOPE_CHANGED_EVENT = 'tokenSimulation.simulator.scopeChanged';\r\nconst SCOPE_CREATE_EVENT = 'tokenSimulation.simulator.createScope';\r\nconst SCOPE_FILTER_CHANGED_EVENT = 'tokenSimulation.scopeFilterChanged';\r\nconst TRACE_EVENT = 'tokenSimulation.simulator.trace';\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdXRpbC9FdmVudEhlbHBlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL2xpYi91dGlsL0V2ZW50SGVscGVyLmpzP2FlMDIiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVE9HR0xFX01PREVfRVZFTlQgPSAndG9rZW5TaW11bGF0aW9uLnRvZ2dsZU1vZGUnO1xyXG5jb25zdCBQTEFZX1NJTVVMQVRJT05fRVZFTlQgPSAndG9rZW5TaW11bGF0aW9uLnBsYXlTaW11bGF0aW9uJztcclxuY29uc3QgUEFVU0VfU0lNVUxBVElPTl9FVkVOVCA9ICd0b2tlblNpbXVsYXRpb24ucGF1c2VTaW11bGF0aW9uJztcclxuY29uc3QgUkVTRVRfU0lNVUxBVElPTl9FVkVOVCA9ICd0b2tlblNpbXVsYXRpb24ucmVzZXRTaW11bGF0aW9uJztcclxuY29uc3QgQU5JTUFUSU9OX0NSRUFURURfRVZFTlQgPSAndG9rZW5TaW11bGF0aW9uLmFuaW1hdGlvbkNyZWF0ZWQnO1xyXG5jb25zdCBBTklNQVRJT05fU1BFRURfQ0hBTkdFRF9FVkVOVCA9ICd0b2tlblNpbXVsYXRpb24uYW5pbWF0aW9uU3BlZWRDaGFuZ2VkJztcclxuY29uc3QgRUxFTUVOVF9DSEFOR0VEX0VWRU5UID0gJ3Rva2VuU2ltdWxhdGlvbi5zaW11bGF0b3IuZWxlbWVudENoYW5nZWQnO1xyXG5jb25zdCBTQ09QRV9ERVNUUk9ZRURfRVZFTlQgPSAndG9rZW5TaW11bGF0aW9uLnNpbXVsYXRvci5kZXN0cm95U2NvcGUnO1xyXG5jb25zdCBTQ09QRV9DSEFOR0VEX0VWRU5UID0gJ3Rva2VuU2ltdWxhdGlvbi5zaW11bGF0b3Iuc2NvcGVDaGFuZ2VkJztcclxuY29uc3QgU0NPUEVfQ1JFQVRFX0VWRU5UID0gJ3Rva2VuU2ltdWxhdGlvbi5zaW11bGF0b3IuY3JlYXRlU2NvcGUnO1xyXG5jb25zdCBTQ09QRV9GSUxURVJfQ0hBTkdFRF9FVkVOVCA9ICd0b2tlblNpbXVsYXRpb24uc2NvcGVGaWx0ZXJDaGFuZ2VkJztcclxuY29uc3QgVFJBQ0VfRVZFTlQgPSAndG9rZW5TaW11bGF0aW9uLnNpbXVsYXRvci50cmFjZSc7XHJcblxyXG5leHBvcnQge1xyXG4gIFRPR0dMRV9NT0RFX0VWRU5ULFxyXG4gIFBMQVlfU0lNVUxBVElPTl9FVkVOVCxcclxuICBQQVVTRV9TSU1VTEFUSU9OX0VWRU5ULFxyXG4gIFJFU0VUX1NJTVVMQVRJT05fRVZFTlQsXHJcbiAgQU5JTUFUSU9OX0NSRUFURURfRVZFTlQsXHJcbiAgQU5JTUFUSU9OX1NQRUVEX0NIQU5HRURfRVZFTlQsXHJcbiAgRUxFTUVOVF9DSEFOR0VEX0VWRU5ULFxyXG4gIFNDT1BFX0RFU1RST1lFRF9FVkVOVCxcclxuICBTQ09QRV9DSEFOR0VEX0VWRU5ULFxyXG4gIFNDT1BFX0NSRUFURV9FVkVOVCxcclxuICBTQ09QRV9GSUxURVJfQ0hBTkdFRF9FVkVOVCxcclxuICBUUkFDRV9FVkVOVFxyXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/util/EventHelper.js\n");

/***/ }),

/***/ "./lib/viewer.js":
/*!***********************!*\
  !*** ./lib/viewer.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _features_toggle_mode_viewer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./features/toggle-mode/viewer */ \"./lib/features/toggle-mode/viewer/index.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base */ \"./lib/base.js\");\n\r\n\r\n\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\r\n  __depends__: [\r\n    _base__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\r\n    _features_toggle_mode_viewer__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\r\n  ]\r\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdmlld2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2RDtBQUM3RDtBQUNnQztBQUNoQztBQUNBLGlFQUFlO0FBQ2Y7QUFDQSxJQUFJLDZDQUFVO0FBQ2QsSUFBSSxvRUFBZ0I7QUFDcEI7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbGliL3ZpZXdlci5qcz9hNDk4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBUb2dnbGVNb2RlTW9kdWxlIGZyb20gJy4vZmVhdHVyZXMvdG9nZ2xlLW1vZGUvdmlld2VyJztcclxuXHJcbmltcG9ydCBCYXNlTW9kdWxlIGZyb20gJy4vYmFzZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgX19kZXBlbmRzX186IFtcclxuICAgIEJhc2VNb2R1bGUsXHJcbiAgICBUb2dnbGVNb2RlTW9kdWxlXHJcbiAgXVxyXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/viewer.js\n");

/***/ }),

/***/ "./node_modules/bpmn-js/lib/util/ModelUtil.js":
/*!****************************************************!*\
  !*** ./node_modules/bpmn-js/lib/util/ModelUtil.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getBusinessObject: () => (/* binding */ getBusinessObject),\n/* harmony export */   getDi: () => (/* binding */ getDi),\n/* harmony export */   is: () => (/* binding */ is),\n/* harmony export */   isAny: () => (/* binding */ isAny)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! min-dash */ \"./node_modules/min-dash/dist/index.esm.js\");\n\n\n/**\n * @typedef { import('../model/Types').Element } Element\n * @typedef { import('../model/Types').ModdleElement } ModdleElement\n */\n\n/**\n * Is an element of the given BPMN type?\n *\n * @param  {Element|ModdleElement} element\n * @param  {string} type\n *\n * @return {boolean}\n */\nfunction is(element, type) {\n  var bo = getBusinessObject(element);\n\n  return bo && (typeof bo.$instanceOf === 'function') && bo.$instanceOf(type);\n}\n\n\n/**\n * Return true if element has any of the given types.\n *\n * @param {Element|ModdleElement} element\n * @param {string[]} types\n *\n * @return {boolean}\n */\nfunction isAny(element, types) {\n  return (0,min_dash__WEBPACK_IMPORTED_MODULE_0__.some)(types, function(t) {\n    return is(element, t);\n  });\n}\n\n/**\n * Return the business object for a given element.\n *\n * @param {Element|ModdleElement} element\n *\n * @return {ModdleElement}\n */\nfunction getBusinessObject(element) {\n  return (element && element.businessObject) || element;\n}\n\n/**\n * Return the di object for a given element.\n *\n * @param {Element} element\n *\n * @return {ModdleElement}\n */\nfunction getDi(element) {\n  return element && element.di;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYnBtbi1qcy9saWIvdXRpbC9Nb2RlbFV0aWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFa0I7O0FBRWxCO0FBQ0EsY0FBYyxtQ0FBbUM7QUFDakQsY0FBYyx5Q0FBeUM7QUFDdkQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSx1QkFBdUI7QUFDbkMsWUFBWSxRQUFRO0FBQ3BCO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVCQUF1QjtBQUNsQyxXQUFXLFVBQVU7QUFDckI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQLFNBQVMsOENBQUk7QUFDYjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVCQUF1QjtBQUNsQztBQUNBLFlBQVk7QUFDWjtBQUNPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9ub2RlX21vZHVsZXMvYnBtbi1qcy9saWIvdXRpbC9Nb2RlbFV0aWwuanM/N2E2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBzb21lXG59IGZyb20gJ21pbi1kYXNoJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7IGltcG9ydCgnLi4vbW9kZWwvVHlwZXMnKS5FbGVtZW50IH0gRWxlbWVudFxuICogQHR5cGVkZWYgeyBpbXBvcnQoJy4uL21vZGVsL1R5cGVzJykuTW9kZGxlRWxlbWVudCB9IE1vZGRsZUVsZW1lbnRcbiAqL1xuXG4vKipcbiAqIElzIGFuIGVsZW1lbnQgb2YgdGhlIGdpdmVuIEJQTU4gdHlwZT9cbiAqXG4gKiBAcGFyYW0gIHtFbGVtZW50fE1vZGRsZUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSAge3N0cmluZ30gdHlwZVxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpcyhlbGVtZW50LCB0eXBlKSB7XG4gIHZhciBibyA9IGdldEJ1c2luZXNzT2JqZWN0KGVsZW1lbnQpO1xuXG4gIHJldHVybiBibyAmJiAodHlwZW9mIGJvLiRpbnN0YW5jZU9mID09PSAnZnVuY3Rpb24nKSAmJiBiby4kaW5zdGFuY2VPZih0eXBlKTtcbn1cblxuXG4vKipcbiAqIFJldHVybiB0cnVlIGlmIGVsZW1lbnQgaGFzIGFueSBvZiB0aGUgZ2l2ZW4gdHlwZXMuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fE1vZGRsZUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nW119IHR5cGVzXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQW55KGVsZW1lbnQsIHR5cGVzKSB7XG4gIHJldHVybiBzb21lKHR5cGVzLCBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGlzKGVsZW1lbnQsIHQpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGJ1c2luZXNzIG9iamVjdCBmb3IgYSBnaXZlbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxNb2RkbGVFbGVtZW50fSBlbGVtZW50XG4gKlxuICogQHJldHVybiB7TW9kZGxlRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJ1c2luZXNzT2JqZWN0KGVsZW1lbnQpIHtcbiAgcmV0dXJuIChlbGVtZW50ICYmIGVsZW1lbnQuYnVzaW5lc3NPYmplY3QpIHx8IGVsZW1lbnQ7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBkaSBvYmplY3QgZm9yIGEgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqXG4gKiBAcmV0dXJuIHtNb2RkbGVFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGkoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudCAmJiBlbGVtZW50LmRpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/bpmn-js/lib/util/ModelUtil.js\n");

/***/ }),

/***/ "./node_modules/diagram-js/lib/util/EscapeUtil.js":
/*!********************************************************!*\
  !*** ./node_modules/diagram-js/lib/util/EscapeUtil.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   escapeCSS: () => (/* binding */ escapeCSS),\n/* harmony export */   escapeHTML: () => (/* binding */ escapeHTML)\n/* harmony export */ });\n/**\n * @param {string} str\n *\n * @return {string}\n */\nfunction escapeCSS(str) {\n  return CSS.escape(str);\n}\n\nvar HTML_ESCAPE_MAP = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '\\'': '&#39;'\n};\n\n/**\n * @param {string} str\n *\n * @return {string}\n */\nfunction escapeHTML(str) {\n  str = '' + str;\n\n  return str && str.replace(/[&<>\"']/g, function(match) {\n    return HTML_ESCAPE_MAP[match];\n  });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZGlhZ3JhbS1qcy9saWIvdXRpbC9Fc2NhcGVVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZO0FBQ1o7QUFDTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2IsWUFBWTtBQUNaLFlBQVk7QUFDWixjQUFjO0FBQ2QsY0FBYztBQUNkOztBQUVBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWTtBQUNaO0FBQ087QUFDUDs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbm9kZV9tb2R1bGVzL2RpYWdyYW0tanMvbGliL3V0aWwvRXNjYXBlVXRpbC5qcz82NzMwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICpcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUNTUyhzdHIpIHtcbiAgcmV0dXJuIENTUy5lc2NhcGUoc3RyKTtcbn1cblxudmFyIEhUTUxfRVNDQVBFX01BUCA9IHtcbiAgJyYnOiAnJmFtcDsnLFxuICAnPCc6ICcmbHQ7JyxcbiAgJz4nOiAnJmd0OycsXG4gICdcIic6ICcmcXVvdDsnLFxuICAnXFwnJzogJyYjMzk7J1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlSFRNTChzdHIpIHtcbiAgc3RyID0gJycgKyBzdHI7XG5cbiAgcmV0dXJuIHN0ciAmJiBzdHIucmVwbGFjZSgvWyY8PlwiJ10vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gSFRNTF9FU0NBUEVfTUFQW21hdGNoXTtcbiAgfSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/diagram-js/lib/util/EscapeUtil.js\n");

/***/ }),

/***/ "./node_modules/ids/dist/index.esm.js":
/*!********************************************!*\
  !*** ./node_modules/ids/dist/index.esm.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar hat_1 = createCommonjsModule(function (module) {\nvar hat = module.exports = function (bits, base) {\n    if (!base) base = 16;\n    if (bits === undefined) bits = 128;\n    if (bits <= 0) return '0';\n    \n    var digits = Math.log(Math.pow(2, bits)) / Math.log(base);\n    for (var i = 2; digits === Infinity; i *= 2) {\n        digits = Math.log(Math.pow(2, bits / i)) / Math.log(base) * i;\n    }\n    \n    var rem = digits - Math.floor(digits);\n    \n    var res = '';\n    \n    for (var i = 0; i < Math.floor(digits); i++) {\n        var x = Math.floor(Math.random() * base).toString(base);\n        res = x + res;\n    }\n    \n    if (rem) {\n        var b = Math.pow(base, rem);\n        var x = Math.floor(Math.random() * b).toString(base);\n        res = x + res;\n    }\n    \n    var parsed = parseInt(res, base);\n    if (parsed !== Infinity && parsed >= Math.pow(2, bits)) {\n        return hat(bits, base)\n    }\n    else return res;\n};\n\nhat.rack = function (bits, base, expandBy) {\n    var fn = function (data) {\n        var iters = 0;\n        do {\n            if (iters ++ > 10) {\n                if (expandBy) bits += expandBy;\n                else throw new Error('too many ID collisions, use more bits')\n            }\n            \n            var id = hat(bits, base);\n        } while (Object.hasOwnProperty.call(hats, id));\n        \n        hats[id] = data;\n        return id;\n    };\n    var hats = fn.hats = {};\n    \n    fn.get = function (id) {\n        return fn.hats[id];\n    };\n    \n    fn.set = function (id, value) {\n        fn.hats[id] = value;\n        return fn;\n    };\n    \n    fn.bits = bits || 128;\n    fn.base = base || 16;\n    return fn;\n};\n});\n\n/**\n * Create a new id generator / cache instance.\n *\n * You may optionally provide a seed that is used internally.\n *\n * @param {Seed} seed\n */\nfunction Ids(seed) {\n  if (!(this instanceof Ids)) {\n    return new Ids(seed);\n  }\n  seed = seed || [128, 36, 1];\n  this._seed = seed.length ? hat_1.rack(seed[0], seed[1], seed[2]) : seed;\n}\n\n/**\n * Generate a next id.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.next = function (element) {\n  return this._seed(element || true);\n};\n\n/**\n * Generate a next id with a given prefix.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.nextPrefixed = function (prefix, element) {\n  var id;\n  do {\n    id = prefix + this.next(true);\n  } while (this.assigned(id));\n\n  // claim {prefix}{random}\n  this.claim(id, element);\n\n  // return\n  return id;\n};\n\n/**\n * Manually claim an existing id.\n *\n * @param {String} id\n * @param {String} [element] element the id is claimed by\n */\nIds.prototype.claim = function (id, element) {\n  this._seed.set(id, element || true);\n};\n\n/**\n * Returns true if the given id has already been assigned.\n *\n * @param  {String} id\n * @return {Boolean}\n */\nIds.prototype.assigned = function (id) {\n  return this._seed.get(id) || false;\n};\n\n/**\n * Unclaim an id.\n *\n * @param  {String} id the id to unclaim\n */\nIds.prototype.unclaim = function (id) {\n  delete this._seed.hats[id];\n};\n\n/**\n * Clear all claimed ids.\n */\nIds.prototype.clear = function () {\n  var hats = this._seed.hats,\n    id;\n  for (id in hats) {\n    this.unclaim(id);\n  }\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Ids);\n//# sourceMappingURL=index.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaWRzL2Rpc3QvaW5kZXguZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBLG1CQUFtQixhQUFhO0FBQ2hDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFCQUFxQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix3QkFBd0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKLFlBQVksUUFBUTtBQUNwQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSxHQUFHLEVBQUM7QUFDbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9ub2RlX21vZHVsZXMvaWRzL2Rpc3QvaW5kZXguZXNtLmpzP2U2YTQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUoZm4sIG1vZHVsZSkge1xuXHRyZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7XG59XG5cbnZhciBoYXRfMSA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcbnZhciBoYXQgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChiaXRzLCBiYXNlKSB7XG4gICAgaWYgKCFiYXNlKSBiYXNlID0gMTY7XG4gICAgaWYgKGJpdHMgPT09IHVuZGVmaW5lZCkgYml0cyA9IDEyODtcbiAgICBpZiAoYml0cyA8PSAwKSByZXR1cm4gJzAnO1xuICAgIFxuICAgIHZhciBkaWdpdHMgPSBNYXRoLmxvZyhNYXRoLnBvdygyLCBiaXRzKSkgLyBNYXRoLmxvZyhiYXNlKTtcbiAgICBmb3IgKHZhciBpID0gMjsgZGlnaXRzID09PSBJbmZpbml0eTsgaSAqPSAyKSB7XG4gICAgICAgIGRpZ2l0cyA9IE1hdGgubG9nKE1hdGgucG93KDIsIGJpdHMgLyBpKSkgLyBNYXRoLmxvZyhiYXNlKSAqIGk7XG4gICAgfVxuICAgIFxuICAgIHZhciByZW0gPSBkaWdpdHMgLSBNYXRoLmZsb29yKGRpZ2l0cyk7XG4gICAgXG4gICAgdmFyIHJlcyA9ICcnO1xuICAgIFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTWF0aC5mbG9vcihkaWdpdHMpOyBpKyspIHtcbiAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBiYXNlKS50b1N0cmluZyhiYXNlKTtcbiAgICAgICAgcmVzID0geCArIHJlcztcbiAgICB9XG4gICAgXG4gICAgaWYgKHJlbSkge1xuICAgICAgICB2YXIgYiA9IE1hdGgucG93KGJhc2UsIHJlbSk7XG4gICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYikudG9TdHJpbmcoYmFzZSk7XG4gICAgICAgIHJlcyA9IHggKyByZXM7XG4gICAgfVxuICAgIFxuICAgIHZhciBwYXJzZWQgPSBwYXJzZUludChyZXMsIGJhc2UpO1xuICAgIGlmIChwYXJzZWQgIT09IEluZmluaXR5ICYmIHBhcnNlZCA+PSBNYXRoLnBvdygyLCBiaXRzKSkge1xuICAgICAgICByZXR1cm4gaGF0KGJpdHMsIGJhc2UpXG4gICAgfVxuICAgIGVsc2UgcmV0dXJuIHJlcztcbn07XG5cbmhhdC5yYWNrID0gZnVuY3Rpb24gKGJpdHMsIGJhc2UsIGV4cGFuZEJ5KSB7XG4gICAgdmFyIGZuID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGl0ZXJzID0gMDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGl0ZXJzICsrID4gMTApIHtcbiAgICAgICAgICAgICAgICBpZiAoZXhwYW5kQnkpIGJpdHMgKz0gZXhwYW5kQnk7XG4gICAgICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ3RvbyBtYW55IElEIGNvbGxpc2lvbnMsIHVzZSBtb3JlIGJpdHMnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgaWQgPSBoYXQoYml0cywgYmFzZSk7XG4gICAgICAgIH0gd2hpbGUgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhhdHMsIGlkKSk7XG4gICAgICAgIFxuICAgICAgICBoYXRzW2lkXSA9IGRhdGE7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9O1xuICAgIHZhciBoYXRzID0gZm4uaGF0cyA9IHt9O1xuICAgIFxuICAgIGZuLmdldCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gZm4uaGF0c1tpZF07XG4gICAgfTtcbiAgICBcbiAgICBmbi5zZXQgPSBmdW5jdGlvbiAoaWQsIHZhbHVlKSB7XG4gICAgICAgIGZuLmhhdHNbaWRdID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICB9O1xuICAgIFxuICAgIGZuLmJpdHMgPSBiaXRzIHx8IDEyODtcbiAgICBmbi5iYXNlID0gYmFzZSB8fCAxNjtcbiAgICByZXR1cm4gZm47XG59O1xufSk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGlkIGdlbmVyYXRvciAvIGNhY2hlIGluc3RhbmNlLlxuICpcbiAqIFlvdSBtYXkgb3B0aW9uYWxseSBwcm92aWRlIGEgc2VlZCB0aGF0IGlzIHVzZWQgaW50ZXJuYWxseS5cbiAqXG4gKiBAcGFyYW0ge1NlZWR9IHNlZWRcbiAqL1xuZnVuY3Rpb24gSWRzKHNlZWQpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIElkcykpIHtcbiAgICByZXR1cm4gbmV3IElkcyhzZWVkKTtcbiAgfVxuICBzZWVkID0gc2VlZCB8fCBbMTI4LCAzNiwgMV07XG4gIHRoaXMuX3NlZWQgPSBzZWVkLmxlbmd0aCA/IGhhdF8xLnJhY2soc2VlZFswXSwgc2VlZFsxXSwgc2VlZFsyXSkgOiBzZWVkO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIGEgbmV4dCBpZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW2VsZW1lbnRdIGVsZW1lbnQgdG8gYmluZCB0aGUgaWQgdG9cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IGlkXG4gKi9cbklkcy5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gIHJldHVybiB0aGlzLl9zZWVkKGVsZW1lbnQgfHwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgbmV4dCBpZCB3aXRoIGEgZ2l2ZW4gcHJlZml4LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZWxlbWVudF0gZWxlbWVudCB0byBiaW5kIHRoZSBpZCB0b1xuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gaWRcbiAqL1xuSWRzLnByb3RvdHlwZS5uZXh0UHJlZml4ZWQgPSBmdW5jdGlvbiAocHJlZml4LCBlbGVtZW50KSB7XG4gIHZhciBpZDtcbiAgZG8ge1xuICAgIGlkID0gcHJlZml4ICsgdGhpcy5uZXh0KHRydWUpO1xuICB9IHdoaWxlICh0aGlzLmFzc2lnbmVkKGlkKSk7XG5cbiAgLy8gY2xhaW0ge3ByZWZpeH17cmFuZG9tfVxuICB0aGlzLmNsYWltKGlkLCBlbGVtZW50KTtcblxuICAvLyByZXR1cm5cbiAgcmV0dXJuIGlkO1xufTtcblxuLyoqXG4gKiBNYW51YWxseSBjbGFpbSBhbiBleGlzdGluZyBpZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaWRcbiAqIEBwYXJhbSB7U3RyaW5nfSBbZWxlbWVudF0gZWxlbWVudCB0aGUgaWQgaXMgY2xhaW1lZCBieVxuICovXG5JZHMucHJvdG90eXBlLmNsYWltID0gZnVuY3Rpb24gKGlkLCBlbGVtZW50KSB7XG4gIHRoaXMuX3NlZWQuc2V0KGlkLCBlbGVtZW50IHx8IHRydWUpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIGlkIGhhcyBhbHJlYWR5IGJlZW4gYXNzaWduZWQuXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSBpZFxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuSWRzLnByb3RvdHlwZS5hc3NpZ25lZCA9IGZ1bmN0aW9uIChpZCkge1xuICByZXR1cm4gdGhpcy5fc2VlZC5nZXQoaWQpIHx8IGZhbHNlO1xufTtcblxuLyoqXG4gKiBVbmNsYWltIGFuIGlkLlxuICpcbiAqIEBwYXJhbSAge1N0cmluZ30gaWQgdGhlIGlkIHRvIHVuY2xhaW1cbiAqL1xuSWRzLnByb3RvdHlwZS51bmNsYWltID0gZnVuY3Rpb24gKGlkKSB7XG4gIGRlbGV0ZSB0aGlzLl9zZWVkLmhhdHNbaWRdO1xufTtcblxuLyoqXG4gKiBDbGVhciBhbGwgY2xhaW1lZCBpZHMuXG4gKi9cbklkcy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBoYXRzID0gdGhpcy5fc2VlZC5oYXRzLFxuICAgIGlkO1xuICBmb3IgKGlkIGluIGhhdHMpIHtcbiAgICB0aGlzLnVuY2xhaW0oaWQpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBJZHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/ids/dist/index.esm.js\n");

/***/ }),

/***/ "./node_modules/inherits-browser/dist/index.es.js":
/*!********************************************************!*\
  !*** ./node_modules/inherits-browser/dist/index.es.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ e)\n/* harmony export */ });\nfunction e(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaW5oZXJpdHMtYnJvd3Nlci9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxnQkFBZ0Isc0RBQXNELGFBQWEsbURBQW1ELEdBQXdCO0FBQzlKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbm9kZV9tb2R1bGVzL2luaGVyaXRzLWJyb3dzZXIvZGlzdC9pbmRleC5lcy5qcz85NmFlIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGUoZSx0KXt0JiYoZS5zdXBlcl89dCxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSl9ZXhwb3J0e2UgYXMgZGVmYXVsdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/inherits-browser/dist/index.es.js\n");

/***/ }),

/***/ "./node_modules/min-dom/node_modules/domify/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/min-dom/node_modules/domify/index.js ***!
  \***********************************************************/
/***/ ((module) => {

eval("const wrapMap = {\n\tlegend: [1, '<fieldset>', '</fieldset>'],\n\ttr: [2, '<table><tbody>', '</tbody></table>'],\n\tcol: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n\t_default: [0, '', ''],\n};\n\nwrapMap.td\n= wrapMap.th = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\nwrapMap.option\n= wrapMap.optgroup = [1, '<select multiple=\"multiple\">', '</select>'];\n\nwrapMap.thead\n= wrapMap.tbody\n= wrapMap.colgroup\n= wrapMap.caption\n= wrapMap.tfoot = [1, '<table>', '</table>'];\n\nwrapMap.polyline\n= wrapMap.ellipse\n= wrapMap.polygon\n= wrapMap.circle\n= wrapMap.text\n= wrapMap.line\n= wrapMap.path\n= wrapMap.rect\n= wrapMap.g = [1, '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">', '</svg>'];\n\nfunction domify(htmlString, document = globalThis.document) {\n\tif (typeof htmlString !== 'string') {\n\t\tthrow new TypeError('String expected');\n\t}\n\n\t// Handle comment nodes\n\tconst commentMatch = /^<!--(.*?)-->$/s.exec(htmlString);\n\tif (commentMatch) {\n\t\treturn document.createComment(commentMatch[1]);\n\t}\n\n\tconst tagName = /<([\\w:]+)/.exec(htmlString)?.[1];\n\n\tif (!tagName) {\n\t\treturn document.createTextNode(htmlString);\n\t}\n\n\thtmlString = htmlString.trim();\n\n\t// Body support\n\tif (tagName === 'body') {\n\t\tconst element = document.createElement('html');\n\t\telement.innerHTML = htmlString;\n\t\tconst {lastChild} = element;\n\t\tlastChild.remove();\n\t\treturn lastChild;\n\t}\n\n\t// Wrap map\n\tlet [depth, prefix, suffix] = Object.hasOwn(wrapMap, tagName) ? wrapMap[tagName] : wrapMap._default;\n\tlet element = document.createElement('div');\n\telement.innerHTML = prefix + htmlString + suffix;\n\twhile (depth--) {\n\t\telement = element.lastChild;\n\t}\n\n\t// One element\n\tif (element.firstChild === element.lastChild) {\n\t\tconst {firstChild} = element;\n\t\tfirstChild.remove();\n\t\treturn firstChild;\n\t}\n\n\t// Several elements\n\tconst fragment = document.createDocumentFragment();\n\tfragment.append(...element.childNodes);\n\n\treturn fragment;\n}\n\nmodule.exports = domify;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWluLWRvbS9ub2RlX21vZHVsZXMvZG9taWZ5L2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFdBQVc7QUFDcEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTLFlBQVk7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbm9kZV9tb2R1bGVzL21pbi1kb20vbm9kZV9tb2R1bGVzL2RvbWlmeS9pbmRleC5qcz84NDRhIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHdyYXBNYXAgPSB7XG5cdGxlZ2VuZDogWzEsICc8ZmllbGRzZXQ+JywgJzwvZmllbGRzZXQ+J10sXG5cdHRyOiBbMiwgJzx0YWJsZT48dGJvZHk+JywgJzwvdGJvZHk+PC90YWJsZT4nXSxcblx0Y29sOiBbMiwgJzx0YWJsZT48dGJvZHk+PC90Ym9keT48Y29sZ3JvdXA+JywgJzwvY29sZ3JvdXA+PC90YWJsZT4nXSxcblx0X2RlZmF1bHQ6IFswLCAnJywgJyddLFxufTtcblxud3JhcE1hcC50ZFxuPSB3cmFwTWFwLnRoID0gWzMsICc8dGFibGU+PHRib2R5Pjx0cj4nLCAnPC90cj48L3Rib2R5PjwvdGFibGU+J107XG5cbndyYXBNYXAub3B0aW9uXG49IHdyYXBNYXAub3B0Z3JvdXAgPSBbMSwgJzxzZWxlY3QgbXVsdGlwbGU9XCJtdWx0aXBsZVwiPicsICc8L3NlbGVjdD4nXTtcblxud3JhcE1hcC50aGVhZFxuPSB3cmFwTWFwLnRib2R5XG49IHdyYXBNYXAuY29sZ3JvdXBcbj0gd3JhcE1hcC5jYXB0aW9uXG49IHdyYXBNYXAudGZvb3QgPSBbMSwgJzx0YWJsZT4nLCAnPC90YWJsZT4nXTtcblxud3JhcE1hcC5wb2x5bGluZVxuPSB3cmFwTWFwLmVsbGlwc2Vcbj0gd3JhcE1hcC5wb2x5Z29uXG49IHdyYXBNYXAuY2lyY2xlXG49IHdyYXBNYXAudGV4dFxuPSB3cmFwTWFwLmxpbmVcbj0gd3JhcE1hcC5wYXRoXG49IHdyYXBNYXAucmVjdFxuPSB3cmFwTWFwLmcgPSBbMSwgJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZlcnNpb249XCIxLjFcIj4nLCAnPC9zdmc+J107XG5cbmZ1bmN0aW9uIGRvbWlmeShodG1sU3RyaW5nLCBkb2N1bWVudCA9IGdsb2JhbFRoaXMuZG9jdW1lbnQpIHtcblx0aWYgKHR5cGVvZiBodG1sU3RyaW5nICE9PSAnc3RyaW5nJykge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0cmluZyBleHBlY3RlZCcpO1xuXHR9XG5cblx0Ly8gSGFuZGxlIGNvbW1lbnQgbm9kZXNcblx0Y29uc3QgY29tbWVudE1hdGNoID0gL148IS0tKC4qPyktLT4kL3MuZXhlYyhodG1sU3RyaW5nKTtcblx0aWYgKGNvbW1lbnRNYXRjaCkge1xuXHRcdHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KGNvbW1lbnRNYXRjaFsxXSk7XG5cdH1cblxuXHRjb25zdCB0YWdOYW1lID0gLzwoW1xcdzpdKykvLmV4ZWMoaHRtbFN0cmluZyk/LlsxXTtcblxuXHRpZiAoIXRhZ05hbWUpIHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaHRtbFN0cmluZyk7XG5cdH1cblxuXHRodG1sU3RyaW5nID0gaHRtbFN0cmluZy50cmltKCk7XG5cblx0Ly8gQm9keSBzdXBwb3J0XG5cdGlmICh0YWdOYW1lID09PSAnYm9keScpIHtcblx0XHRjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaHRtbCcpO1xuXHRcdGVsZW1lbnQuaW5uZXJIVE1MID0gaHRtbFN0cmluZztcblx0XHRjb25zdCB7bGFzdENoaWxkfSA9IGVsZW1lbnQ7XG5cdFx0bGFzdENoaWxkLnJlbW92ZSgpO1xuXHRcdHJldHVybiBsYXN0Q2hpbGQ7XG5cdH1cblxuXHQvLyBXcmFwIG1hcFxuXHRsZXQgW2RlcHRoLCBwcmVmaXgsIHN1ZmZpeF0gPSBPYmplY3QuaGFzT3duKHdyYXBNYXAsIHRhZ05hbWUpID8gd3JhcE1hcFt0YWdOYW1lXSA6IHdyYXBNYXAuX2RlZmF1bHQ7XG5cdGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdGVsZW1lbnQuaW5uZXJIVE1MID0gcHJlZml4ICsgaHRtbFN0cmluZyArIHN1ZmZpeDtcblx0d2hpbGUgKGRlcHRoLS0pIHtcblx0XHRlbGVtZW50ID0gZWxlbWVudC5sYXN0Q2hpbGQ7XG5cdH1cblxuXHQvLyBPbmUgZWxlbWVudFxuXHRpZiAoZWxlbWVudC5maXJzdENoaWxkID09PSBlbGVtZW50Lmxhc3RDaGlsZCkge1xuXHRcdGNvbnN0IHtmaXJzdENoaWxkfSA9IGVsZW1lbnQ7XG5cdFx0Zmlyc3RDaGlsZC5yZW1vdmUoKTtcblx0XHRyZXR1cm4gZmlyc3RDaGlsZDtcblx0fVxuXG5cdC8vIFNldmVyYWwgZWxlbWVudHNcblx0Y29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cdGZyYWdtZW50LmFwcGVuZCguLi5lbGVtZW50LmNoaWxkTm9kZXMpO1xuXG5cdHJldHVybiBmcmFnbWVudDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkb21pZnk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/min-dom/node_modules/domify/index.js\n");

/***/ }),

/***/ "./node_modules/randomcolor/randomColor.js":
/*!*************************************************!*\
  !*** ./node_modules/randomcolor/randomColor.js ***!
  \*************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("/* module decorator */ module = __webpack_require__.nmd(module);\n// randomColor by David Merfield under the CC0 license\n// https://github.com/davidmerfield/randomColor/\n\n;(function(root, factory) {\n\n  // Support CommonJS\n  if (true) {\n    var randomColor = factory();\n\n    // Support NodeJS & Component, which allow module.exports to be a function\n    if ( true && module && module.exports) {\n      exports = module.exports = randomColor;\n    }\n\n    // Support CommonJS 1.1.1 spec\n    exports.randomColor = randomColor;\n\n  // Support AMD\n  } else {}\n\n}(this, function() {\n\n  // Seed to get repeatable colors\n  var seed = null;\n\n  // Shared color dictionary\n  var colorDictionary = {};\n\n  // Populate the color dictionary\n  loadColorBounds();\n\n  // check if a range is taken\n  var colorRanges = [];\n\n  var randomColor = function (options) {\n\n    options = options || {};\n\n    // Check if there is a seed and ensure it's an\n    // integer. Otherwise, reset the seed value.\n    if (options.seed !== undefined && options.seed !== null && options.seed === parseInt(options.seed, 10)) {\n      seed = options.seed;\n\n    // A string was passed as a seed\n    } else if (typeof options.seed === 'string') {\n      seed = stringToInteger(options.seed);\n\n    // Something was passed as a seed but it wasn't an integer or string\n    } else if (options.seed !== undefined && options.seed !== null) {\n      throw new TypeError('The seed value must be an integer or string');\n\n    // No seed, reset the value outside.\n    } else {\n      seed = null;\n    }\n\n    var H,S,B;\n\n    // Check if we need to generate multiple colors\n    if (options.count !== null && options.count !== undefined) {\n\n      var totalColors = options.count,\n          colors = [];\n      // Value false at index i means the range i is not taken yet.\n      for (var i = 0; i < options.count; i++) {\n        colorRanges.push(false)\n        }\n      options.count = null;\n\n      while (totalColors > colors.length) {\n\n        var color = randomColor(options);\n\n        if (seed !== null) {\n          options.seed = seed;\n        }\n\n        colors.push(color);\n      }\n\n      options.count = totalColors;\n\n      return colors;\n    }\n\n    // First we pick a hue (H)\n    H = pickHue(options);\n\n    // Then use H to determine saturation (S)\n    S = pickSaturation(H, options);\n\n    // Then use S and H to determine brightness (B).\n    B = pickBrightness(H, S, options);\n\n    // Then we return the HSB color in the desired format\n    return setFormat([H,S,B], options);\n  };\n\n  function pickHue(options) {\n    if (colorRanges.length > 0) {\n      var hueRange = getRealHueRange(options.hue)\n\n      var hue = randomWithin(hueRange)\n\n      //Each of colorRanges.length ranges has a length equal approximatelly one step\n      var step = (hueRange[1] - hueRange[0]) / colorRanges.length\n\n      var j = parseInt((hue - hueRange[0]) / step)\n\n      //Check if the range j is taken\n      if (colorRanges[j] === true) {\n        j = (j + 2) % colorRanges.length\n      }\n      else {\n        colorRanges[j] = true\n           }\n\n      var min = (hueRange[0] + j * step) % 359,\n          max = (hueRange[0] + (j + 1) * step) % 359;\n\n      hueRange = [min, max]\n\n      hue = randomWithin(hueRange)\n\n      if (hue < 0) {hue = 360 + hue;}\n      return hue\n    }\n    else {\n      var hueRange = getHueRange(options.hue)\n\n      hue = randomWithin(hueRange);\n      // Instead of storing red as two seperate ranges,\n      // we group them, using negative numbers\n      if (hue < 0) {\n        hue = 360 + hue;\n      }\n\n      return hue;\n    }\n  }\n\n  function pickSaturation (hue, options) {\n\n    if (options.hue === 'monochrome') {\n      return 0;\n    }\n\n    if (options.luminosity === 'random') {\n      return randomWithin([0,100]);\n    }\n\n    var saturationRange = getSaturationRange(hue);\n\n    var sMin = saturationRange[0],\n        sMax = saturationRange[1];\n\n    switch (options.luminosity) {\n\n      case 'bright':\n        sMin = 55;\n        break;\n\n      case 'dark':\n        sMin = sMax - 10;\n        break;\n\n      case 'light':\n        sMax = 55;\n        break;\n   }\n\n    return randomWithin([sMin, sMax]);\n\n  }\n\n  function pickBrightness (H, S, options) {\n\n    var bMin = getMinimumBrightness(H, S),\n        bMax = 100;\n\n    switch (options.luminosity) {\n\n      case 'dark':\n        bMax = bMin + 20;\n        break;\n\n      case 'light':\n        bMin = (bMax + bMin)/2;\n        break;\n\n      case 'random':\n        bMin = 0;\n        bMax = 100;\n        break;\n    }\n\n    return randomWithin([bMin, bMax]);\n  }\n\n  function setFormat (hsv, options) {\n\n    switch (options.format) {\n\n      case 'hsvArray':\n        return hsv;\n\n      case 'hslArray':\n        return HSVtoHSL(hsv);\n\n      case 'hsl':\n        var hsl = HSVtoHSL(hsv);\n        return 'hsl('+hsl[0]+', '+hsl[1]+'%, '+hsl[2]+'%)';\n\n      case 'hsla':\n        var hslColor = HSVtoHSL(hsv);\n        var alpha = options.alpha || Math.random();\n        return 'hsla('+hslColor[0]+', '+hslColor[1]+'%, '+hslColor[2]+'%, ' + alpha + ')';\n\n      case 'rgbArray':\n        return HSVtoRGB(hsv);\n\n      case 'rgb':\n        var rgb = HSVtoRGB(hsv);\n        return 'rgb(' + rgb.join(', ') + ')';\n\n      case 'rgba':\n        var rgbColor = HSVtoRGB(hsv);\n        var alpha = options.alpha || Math.random();\n        return 'rgba(' + rgbColor.join(', ') + ', ' + alpha + ')';\n\n      default:\n        return HSVtoHex(hsv);\n    }\n\n  }\n\n  function getMinimumBrightness(H, S) {\n\n    var lowerBounds = getColorInfo(H).lowerBounds;\n\n    for (var i = 0; i < lowerBounds.length - 1; i++) {\n\n      var s1 = lowerBounds[i][0],\n          v1 = lowerBounds[i][1];\n\n      var s2 = lowerBounds[i+1][0],\n          v2 = lowerBounds[i+1][1];\n\n      if (S >= s1 && S <= s2) {\n\n         var m = (v2 - v1)/(s2 - s1),\n             b = v1 - m*s1;\n\n         return m*S + b;\n      }\n\n    }\n\n    return 0;\n  }\n\n  function getHueRange (colorInput) {\n\n    if (typeof parseInt(colorInput) === 'number') {\n\n      var number = parseInt(colorInput);\n\n      if (number < 360 && number > 0) {\n        return [number, number];\n      }\n\n    }\n\n    if (typeof colorInput === 'string') {\n\n      if (colorDictionary[colorInput]) {\n        var color = colorDictionary[colorInput];\n        if (color.hueRange) {return color.hueRange;}\n      } else if (colorInput.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)) {\n        var hue = HexToHSB(colorInput)[0];\n        return [ hue, hue ];\n      }\n    }\n\n    return [0,360];\n\n  }\n\n  function getSaturationRange (hue) {\n    return getColorInfo(hue).saturationRange;\n  }\n\n  function getColorInfo (hue) {\n\n    // Maps red colors to make picking hue easier\n    if (hue >= 334 && hue <= 360) {\n      hue-= 360;\n    }\n\n    for (var colorName in colorDictionary) {\n       var color = colorDictionary[colorName];\n       if (color.hueRange &&\n           hue >= color.hueRange[0] &&\n           hue <= color.hueRange[1]) {\n          return colorDictionary[colorName];\n       }\n    } return 'Color not found';\n  }\n\n  function randomWithin (range) {\n    if (seed === null) {\n      //generate random evenly destinct number from : https://martin.ankerl.com/2009/12/09/how-to-create-random-colors-programmatically/\n      var golden_ratio = 0.618033988749895\n      var r=Math.random()\n      r += golden_ratio\n      r %= 1\n      return Math.floor(range[0] + r*(range[1] + 1 - range[0]));\n    } else {\n      //Seeded random algorithm from http://indiegamr.com/generate-repeatable-random-numbers-in-js/\n      var max = range[1] || 1;\n      var min = range[0] || 0;\n      seed = (seed * 9301 + 49297) % 233280;\n      var rnd = seed / 233280.0;\n      return Math.floor(min + rnd * (max - min));\n}\n  }\n\n  function HSVtoHex (hsv){\n\n    var rgb = HSVtoRGB(hsv);\n\n    function componentToHex(c) {\n        var hex = c.toString(16);\n        return hex.length == 1 ? '0' + hex : hex;\n    }\n\n    var hex = '#' + componentToHex(rgb[0]) + componentToHex(rgb[1]) + componentToHex(rgb[2]);\n\n    return hex;\n\n  }\n\n  function defineColor (name, hueRange, lowerBounds) {\n\n    var sMin = lowerBounds[0][0],\n        sMax = lowerBounds[lowerBounds.length - 1][0],\n\n        bMin = lowerBounds[lowerBounds.length - 1][1],\n        bMax = lowerBounds[0][1];\n\n    colorDictionary[name] = {\n      hueRange: hueRange,\n      lowerBounds: lowerBounds,\n      saturationRange: [sMin, sMax],\n      brightnessRange: [bMin, bMax]\n    };\n\n  }\n\n  function loadColorBounds () {\n\n    defineColor(\n      'monochrome',\n      null,\n      [[0,0],[100,0]]\n    );\n\n    defineColor(\n      'red',\n      [-26,18],\n      [[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]\n    );\n\n    defineColor(\n      'orange',\n      [18,46],\n      [[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]\n    );\n\n    defineColor(\n      'yellow',\n      [46,62],\n      [[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]\n    );\n\n    defineColor(\n      'green',\n      [62,178],\n      [[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]\n    );\n\n    defineColor(\n      'blue',\n      [178, 257],\n      [[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]\n    );\n\n    defineColor(\n      'purple',\n      [257, 282],\n      [[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]\n    );\n\n    defineColor(\n      'pink',\n      [282, 334],\n      [[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]\n    );\n\n  }\n\n  function HSVtoRGB (hsv) {\n\n    // this doesn't work for the values of 0 and 360\n    // here's the hacky fix\n    var h = hsv[0];\n    if (h === 0) {h = 1;}\n    if (h === 360) {h = 359;}\n\n    // Rebase the h,s,v values\n    h = h/360;\n    var s = hsv[1]/100,\n        v = hsv[2]/100;\n\n    var h_i = Math.floor(h*6),\n      f = h * 6 - h_i,\n      p = v * (1 - s),\n      q = v * (1 - f*s),\n      t = v * (1 - (1 - f)*s),\n      r = 256,\n      g = 256,\n      b = 256;\n\n    switch(h_i) {\n      case 0: r = v; g = t; b = p;  break;\n      case 1: r = q; g = v; b = p;  break;\n      case 2: r = p; g = v; b = t;  break;\n      case 3: r = p; g = q; b = v;  break;\n      case 4: r = t; g = p; b = v;  break;\n      case 5: r = v; g = p; b = q;  break;\n    }\n\n    var result = [Math.floor(r*255), Math.floor(g*255), Math.floor(b*255)];\n    return result;\n  }\n\n  function HexToHSB (hex) {\n    hex = hex.replace(/^#/, '');\n    hex = hex.length === 3 ? hex.replace(/(.)/g, '$1$1') : hex;\n\n    var red = parseInt(hex.substr(0, 2), 16) / 255,\n          green = parseInt(hex.substr(2, 2), 16) / 255,\n          blue = parseInt(hex.substr(4, 2), 16) / 255;\n\n    var cMax = Math.max(red, green, blue),\n          delta = cMax - Math.min(red, green, blue),\n          saturation = cMax ? (delta / cMax) : 0;\n\n    switch (cMax) {\n      case red: return [ 60 * (((green - blue) / delta) % 6) || 0, saturation, cMax ];\n      case green: return [ 60 * (((blue - red) / delta) + 2) || 0, saturation, cMax ];\n      case blue: return [ 60 * (((red - green) / delta) + 4) || 0, saturation, cMax ];\n    }\n  }\n\n  function HSVtoHSL (hsv) {\n    var h = hsv[0],\n      s = hsv[1]/100,\n      v = hsv[2]/100,\n      k = (2-s)*v;\n\n    return [\n      h,\n      Math.round(s*v / (k<1 ? k : 2-k) * 10000) / 100,\n      k/2 * 100\n    ];\n  }\n\n  function stringToInteger (string) {\n    var total = 0\n    for (var i = 0; i !== string.length; i++) {\n      if (total >= Number.MAX_SAFE_INTEGER) break;\n      total += string.charCodeAt(i)\n    }\n    return total\n  }\n\n  // get The range of given hue when options.count!=0\n  function getRealHueRange(colorHue)\n  { if (!isNaN(colorHue)) {\n    var number = parseInt(colorHue);\n\n    if (number < 360 && number > 0) {\n      return getColorInfo(colorHue).hueRange\n    }\n  }\n    else if (typeof colorHue === 'string') {\n\n      if (colorDictionary[colorHue]) {\n        var color = colorDictionary[colorHue];\n\n        if (color.hueRange) {\n          return color.hueRange\n       }\n    } else if (colorHue.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)) {\n        var hue = HexToHSB(colorHue)[0]\n        return getColorInfo(hue).hueRange\n    }\n  }\n\n    return [0,360]\n}\n  return randomColor;\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmFuZG9tY29sb3IvcmFuZG9tQ29sb3IuanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBLE1BQU0sSUFBMkI7QUFDakM7O0FBRUE7QUFDQSxRQUFRLEtBQTBCO0FBQ2xDO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLG1CQUFtQjs7QUFFdkI7QUFDQSxJQUFJLEtBQUssRUFNTjs7QUFFSCxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtQkFBbUI7QUFDekM7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxvQkFBb0IsNEJBQTRCOztBQUVoRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsUUFBUSx3Q0FBd0MsRUFBRSxVQUFVLEVBQUU7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsb0JBQW9COztBQUVwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLE9BQU8sUUFBUTtBQUNwQyxxQkFBcUIsT0FBTyxRQUFRO0FBQ3BDLHFCQUFxQixPQUFPLFFBQVE7QUFDcEMscUJBQXFCLE9BQU8sUUFBUTtBQUNwQyxxQkFBcUIsT0FBTyxRQUFRO0FBQ3BDLHFCQUFxQixPQUFPLFFBQVE7QUFDcEM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLHFCQUFxQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sc0NBQXNDLEVBQUUsVUFBVSxFQUFFO0FBQzFEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icG1uLWpzLXRva2VuLXNpbXVsYXRpb24vLi9ub2RlX21vZHVsZXMvcmFuZG9tY29sb3IvcmFuZG9tQ29sb3IuanM/ZmQ5YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyByYW5kb21Db2xvciBieSBEYXZpZCBNZXJmaWVsZCB1bmRlciB0aGUgQ0MwIGxpY2Vuc2Vcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZG1lcmZpZWxkL3JhbmRvbUNvbG9yL1xuXG47KGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblxuICAvLyBTdXBwb3J0IENvbW1vbkpTXG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgcmFuZG9tQ29sb3IgPSBmYWN0b3J5KCk7XG5cbiAgICAvLyBTdXBwb3J0IE5vZGVKUyAmIENvbXBvbmVudCwgd2hpY2ggYWxsb3cgbW9kdWxlLmV4cG9ydHMgdG8gYmUgYSBmdW5jdGlvblxuICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJhbmRvbUNvbG9yO1xuICAgIH1cblxuICAgIC8vIFN1cHBvcnQgQ29tbW9uSlMgMS4xLjEgc3BlY1xuICAgIGV4cG9ydHMucmFuZG9tQ29sb3IgPSByYW5kb21Db2xvcjtcblxuICAvLyBTdXBwb3J0IEFNRFxuICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG5cbiAgLy8gU3VwcG9ydCB2YW5pbGxhIHNjcmlwdCBsb2FkaW5nXG4gIH0gZWxzZSB7XG4gICAgcm9vdC5yYW5kb21Db2xvciA9IGZhY3RvcnkoKTtcbiAgfVxuXG59KHRoaXMsIGZ1bmN0aW9uKCkge1xuXG4gIC8vIFNlZWQgdG8gZ2V0IHJlcGVhdGFibGUgY29sb3JzXG4gIHZhciBzZWVkID0gbnVsbDtcblxuICAvLyBTaGFyZWQgY29sb3IgZGljdGlvbmFyeVxuICB2YXIgY29sb3JEaWN0aW9uYXJ5ID0ge307XG5cbiAgLy8gUG9wdWxhdGUgdGhlIGNvbG9yIGRpY3Rpb25hcnlcbiAgbG9hZENvbG9yQm91bmRzKCk7XG5cbiAgLy8gY2hlY2sgaWYgYSByYW5nZSBpcyB0YWtlblxuICB2YXIgY29sb3JSYW5nZXMgPSBbXTtcblxuICB2YXIgcmFuZG9tQ29sb3IgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHNlZWQgYW5kIGVuc3VyZSBpdCdzIGFuXG4gICAgLy8gaW50ZWdlci4gT3RoZXJ3aXNlLCByZXNldCB0aGUgc2VlZCB2YWx1ZS5cbiAgICBpZiAob3B0aW9ucy5zZWVkICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5zZWVkICE9PSBudWxsICYmIG9wdGlvbnMuc2VlZCA9PT0gcGFyc2VJbnQob3B0aW9ucy5zZWVkLCAxMCkpIHtcbiAgICAgIHNlZWQgPSBvcHRpb25zLnNlZWQ7XG5cbiAgICAvLyBBIHN0cmluZyB3YXMgcGFzc2VkIGFzIGEgc2VlZFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuc2VlZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHNlZWQgPSBzdHJpbmdUb0ludGVnZXIob3B0aW9ucy5zZWVkKTtcblxuICAgIC8vIFNvbWV0aGluZyB3YXMgcGFzc2VkIGFzIGEgc2VlZCBidXQgaXQgd2Fzbid0IGFuIGludGVnZXIgb3Igc3RyaW5nXG4gICAgfSBlbHNlIGlmIChvcHRpb25zLnNlZWQgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLnNlZWQgIT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBzZWVkIHZhbHVlIG11c3QgYmUgYW4gaW50ZWdlciBvciBzdHJpbmcnKTtcblxuICAgIC8vIE5vIHNlZWQsIHJlc2V0IHRoZSB2YWx1ZSBvdXRzaWRlLlxuICAgIH0gZWxzZSB7XG4gICAgICBzZWVkID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgSCxTLEI7XG5cbiAgICAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIGdlbmVyYXRlIG11bHRpcGxlIGNvbG9yc1xuICAgIGlmIChvcHRpb25zLmNvdW50ICE9PSBudWxsICYmIG9wdGlvbnMuY291bnQgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICB2YXIgdG90YWxDb2xvcnMgPSBvcHRpb25zLmNvdW50LFxuICAgICAgICAgIGNvbG9ycyA9IFtdO1xuICAgICAgLy8gVmFsdWUgZmFsc2UgYXQgaW5kZXggaSBtZWFucyB0aGUgcmFuZ2UgaSBpcyBub3QgdGFrZW4geWV0LlxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmNvdW50OyBpKyspIHtcbiAgICAgICAgY29sb3JSYW5nZXMucHVzaChmYWxzZSlcbiAgICAgICAgfVxuICAgICAgb3B0aW9ucy5jb3VudCA9IG51bGw7XG5cbiAgICAgIHdoaWxlICh0b3RhbENvbG9ycyA+IGNvbG9ycy5sZW5ndGgpIHtcblxuICAgICAgICB2YXIgY29sb3IgPSByYW5kb21Db2xvcihvcHRpb25zKTtcblxuICAgICAgICBpZiAoc2VlZCAhPT0gbnVsbCkge1xuICAgICAgICAgIG9wdGlvbnMuc2VlZCA9IHNlZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb2xvcnMucHVzaChjb2xvcik7XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbnMuY291bnQgPSB0b3RhbENvbG9ycztcblxuICAgICAgcmV0dXJuIGNvbG9ycztcbiAgICB9XG5cbiAgICAvLyBGaXJzdCB3ZSBwaWNrIGEgaHVlIChIKVxuICAgIEggPSBwaWNrSHVlKG9wdGlvbnMpO1xuXG4gICAgLy8gVGhlbiB1c2UgSCB0byBkZXRlcm1pbmUgc2F0dXJhdGlvbiAoUylcbiAgICBTID0gcGlja1NhdHVyYXRpb24oSCwgb3B0aW9ucyk7XG5cbiAgICAvLyBUaGVuIHVzZSBTIGFuZCBIIHRvIGRldGVybWluZSBicmlnaHRuZXNzIChCKS5cbiAgICBCID0gcGlja0JyaWdodG5lc3MoSCwgUywgb3B0aW9ucyk7XG5cbiAgICAvLyBUaGVuIHdlIHJldHVybiB0aGUgSFNCIGNvbG9yIGluIHRoZSBkZXNpcmVkIGZvcm1hdFxuICAgIHJldHVybiBzZXRGb3JtYXQoW0gsUyxCXSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gcGlja0h1ZShvcHRpb25zKSB7XG4gICAgaWYgKGNvbG9yUmFuZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBodWVSYW5nZSA9IGdldFJlYWxIdWVSYW5nZShvcHRpb25zLmh1ZSlcblxuICAgICAgdmFyIGh1ZSA9IHJhbmRvbVdpdGhpbihodWVSYW5nZSlcblxuICAgICAgLy9FYWNoIG9mIGNvbG9yUmFuZ2VzLmxlbmd0aCByYW5nZXMgaGFzIGEgbGVuZ3RoIGVxdWFsIGFwcHJveGltYXRlbGx5IG9uZSBzdGVwXG4gICAgICB2YXIgc3RlcCA9IChodWVSYW5nZVsxXSAtIGh1ZVJhbmdlWzBdKSAvIGNvbG9yUmFuZ2VzLmxlbmd0aFxuXG4gICAgICB2YXIgaiA9IHBhcnNlSW50KChodWUgLSBodWVSYW5nZVswXSkgLyBzdGVwKVxuXG4gICAgICAvL0NoZWNrIGlmIHRoZSByYW5nZSBqIGlzIHRha2VuXG4gICAgICBpZiAoY29sb3JSYW5nZXNbal0gPT09IHRydWUpIHtcbiAgICAgICAgaiA9IChqICsgMikgJSBjb2xvclJhbmdlcy5sZW5ndGhcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjb2xvclJhbmdlc1tqXSA9IHRydWVcbiAgICAgICAgICAgfVxuXG4gICAgICB2YXIgbWluID0gKGh1ZVJhbmdlWzBdICsgaiAqIHN0ZXApICUgMzU5LFxuICAgICAgICAgIG1heCA9IChodWVSYW5nZVswXSArIChqICsgMSkgKiBzdGVwKSAlIDM1OTtcblxuICAgICAgaHVlUmFuZ2UgPSBbbWluLCBtYXhdXG5cbiAgICAgIGh1ZSA9IHJhbmRvbVdpdGhpbihodWVSYW5nZSlcblxuICAgICAgaWYgKGh1ZSA8IDApIHtodWUgPSAzNjAgKyBodWU7fVxuICAgICAgcmV0dXJuIGh1ZVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHZhciBodWVSYW5nZSA9IGdldEh1ZVJhbmdlKG9wdGlvbnMuaHVlKVxuXG4gICAgICBodWUgPSByYW5kb21XaXRoaW4oaHVlUmFuZ2UpO1xuICAgICAgLy8gSW5zdGVhZCBvZiBzdG9yaW5nIHJlZCBhcyB0d28gc2VwZXJhdGUgcmFuZ2VzLFxuICAgICAgLy8gd2UgZ3JvdXAgdGhlbSwgdXNpbmcgbmVnYXRpdmUgbnVtYmVyc1xuICAgICAgaWYgKGh1ZSA8IDApIHtcbiAgICAgICAgaHVlID0gMzYwICsgaHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaHVlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBpY2tTYXR1cmF0aW9uIChodWUsIG9wdGlvbnMpIHtcblxuICAgIGlmIChvcHRpb25zLmh1ZSA9PT0gJ21vbm9jaHJvbWUnKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5sdW1pbm9zaXR5ID09PSAncmFuZG9tJykge1xuICAgICAgcmV0dXJuIHJhbmRvbVdpdGhpbihbMCwxMDBdKTtcbiAgICB9XG5cbiAgICB2YXIgc2F0dXJhdGlvblJhbmdlID0gZ2V0U2F0dXJhdGlvblJhbmdlKGh1ZSk7XG5cbiAgICB2YXIgc01pbiA9IHNhdHVyYXRpb25SYW5nZVswXSxcbiAgICAgICAgc01heCA9IHNhdHVyYXRpb25SYW5nZVsxXTtcblxuICAgIHN3aXRjaCAob3B0aW9ucy5sdW1pbm9zaXR5KSB7XG5cbiAgICAgIGNhc2UgJ2JyaWdodCc6XG4gICAgICAgIHNNaW4gPSA1NTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2RhcmsnOlxuICAgICAgICBzTWluID0gc01heCAtIDEwO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnbGlnaHQnOlxuICAgICAgICBzTWF4ID0gNTU7XG4gICAgICAgIGJyZWFrO1xuICAgfVxuXG4gICAgcmV0dXJuIHJhbmRvbVdpdGhpbihbc01pbiwgc01heF0pO1xuXG4gIH1cblxuICBmdW5jdGlvbiBwaWNrQnJpZ2h0bmVzcyAoSCwgUywgb3B0aW9ucykge1xuXG4gICAgdmFyIGJNaW4gPSBnZXRNaW5pbXVtQnJpZ2h0bmVzcyhILCBTKSxcbiAgICAgICAgYk1heCA9IDEwMDtcblxuICAgIHN3aXRjaCAob3B0aW9ucy5sdW1pbm9zaXR5KSB7XG5cbiAgICAgIGNhc2UgJ2RhcmsnOlxuICAgICAgICBiTWF4ID0gYk1pbiArIDIwO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnbGlnaHQnOlxuICAgICAgICBiTWluID0gKGJNYXggKyBiTWluKS8yO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAncmFuZG9tJzpcbiAgICAgICAgYk1pbiA9IDA7XG4gICAgICAgIGJNYXggPSAxMDA7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiByYW5kb21XaXRoaW4oW2JNaW4sIGJNYXhdKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEZvcm1hdCAoaHN2LCBvcHRpb25zKSB7XG5cbiAgICBzd2l0Y2ggKG9wdGlvbnMuZm9ybWF0KSB7XG5cbiAgICAgIGNhc2UgJ2hzdkFycmF5JzpcbiAgICAgICAgcmV0dXJuIGhzdjtcblxuICAgICAgY2FzZSAnaHNsQXJyYXknOlxuICAgICAgICByZXR1cm4gSFNWdG9IU0woaHN2KTtcblxuICAgICAgY2FzZSAnaHNsJzpcbiAgICAgICAgdmFyIGhzbCA9IEhTVnRvSFNMKGhzdik7XG4gICAgICAgIHJldHVybiAnaHNsKCcraHNsWzBdKycsICcraHNsWzFdKyclLCAnK2hzbFsyXSsnJSknO1xuXG4gICAgICBjYXNlICdoc2xhJzpcbiAgICAgICAgdmFyIGhzbENvbG9yID0gSFNWdG9IU0woaHN2KTtcbiAgICAgICAgdmFyIGFscGhhID0gb3B0aW9ucy5hbHBoYSB8fCBNYXRoLnJhbmRvbSgpO1xuICAgICAgICByZXR1cm4gJ2hzbGEoJytoc2xDb2xvclswXSsnLCAnK2hzbENvbG9yWzFdKyclLCAnK2hzbENvbG9yWzJdKyclLCAnICsgYWxwaGEgKyAnKSc7XG5cbiAgICAgIGNhc2UgJ3JnYkFycmF5JzpcbiAgICAgICAgcmV0dXJuIEhTVnRvUkdCKGhzdik7XG5cbiAgICAgIGNhc2UgJ3JnYic6XG4gICAgICAgIHZhciByZ2IgPSBIU1Z0b1JHQihoc3YpO1xuICAgICAgICByZXR1cm4gJ3JnYignICsgcmdiLmpvaW4oJywgJykgKyAnKSc7XG5cbiAgICAgIGNhc2UgJ3JnYmEnOlxuICAgICAgICB2YXIgcmdiQ29sb3IgPSBIU1Z0b1JHQihoc3YpO1xuICAgICAgICB2YXIgYWxwaGEgPSBvcHRpb25zLmFscGhhIHx8IE1hdGgucmFuZG9tKCk7XG4gICAgICAgIHJldHVybiAncmdiYSgnICsgcmdiQ29sb3Iuam9pbignLCAnKSArICcsICcgKyBhbHBoYSArICcpJztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIEhTVnRvSGV4KGhzdik7XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBnZXRNaW5pbXVtQnJpZ2h0bmVzcyhILCBTKSB7XG5cbiAgICB2YXIgbG93ZXJCb3VuZHMgPSBnZXRDb2xvckluZm8oSCkubG93ZXJCb3VuZHM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxvd2VyQm91bmRzLmxlbmd0aCAtIDE7IGkrKykge1xuXG4gICAgICB2YXIgczEgPSBsb3dlckJvdW5kc1tpXVswXSxcbiAgICAgICAgICB2MSA9IGxvd2VyQm91bmRzW2ldWzFdO1xuXG4gICAgICB2YXIgczIgPSBsb3dlckJvdW5kc1tpKzFdWzBdLFxuICAgICAgICAgIHYyID0gbG93ZXJCb3VuZHNbaSsxXVsxXTtcblxuICAgICAgaWYgKFMgPj0gczEgJiYgUyA8PSBzMikge1xuXG4gICAgICAgICB2YXIgbSA9ICh2MiAtIHYxKS8oczIgLSBzMSksXG4gICAgICAgICAgICAgYiA9IHYxIC0gbSpzMTtcblxuICAgICAgICAgcmV0dXJuIG0qUyArIGI7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEh1ZVJhbmdlIChjb2xvcklucHV0KSB7XG5cbiAgICBpZiAodHlwZW9mIHBhcnNlSW50KGNvbG9ySW5wdXQpID09PSAnbnVtYmVyJykge1xuXG4gICAgICB2YXIgbnVtYmVyID0gcGFyc2VJbnQoY29sb3JJbnB1dCk7XG5cbiAgICAgIGlmIChudW1iZXIgPCAzNjAgJiYgbnVtYmVyID4gMCkge1xuICAgICAgICByZXR1cm4gW251bWJlciwgbnVtYmVyXTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY29sb3JJbnB1dCA9PT0gJ3N0cmluZycpIHtcblxuICAgICAgaWYgKGNvbG9yRGljdGlvbmFyeVtjb2xvcklucHV0XSkge1xuICAgICAgICB2YXIgY29sb3IgPSBjb2xvckRpY3Rpb25hcnlbY29sb3JJbnB1dF07XG4gICAgICAgIGlmIChjb2xvci5odWVSYW5nZSkge3JldHVybiBjb2xvci5odWVSYW5nZTt9XG4gICAgICB9IGVsc2UgaWYgKGNvbG9ySW5wdXQubWF0Y2goL14jPyhbMC05QS1GXXszfXxbMC05QS1GXXs2fSkkL2kpKSB7XG4gICAgICAgIHZhciBodWUgPSBIZXhUb0hTQihjb2xvcklucHV0KVswXTtcbiAgICAgICAgcmV0dXJuIFsgaHVlLCBodWUgXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gWzAsMzYwXTtcblxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2F0dXJhdGlvblJhbmdlIChodWUpIHtcbiAgICByZXR1cm4gZ2V0Q29sb3JJbmZvKGh1ZSkuc2F0dXJhdGlvblJhbmdlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q29sb3JJbmZvIChodWUpIHtcblxuICAgIC8vIE1hcHMgcmVkIGNvbG9ycyB0byBtYWtlIHBpY2tpbmcgaHVlIGVhc2llclxuICAgIGlmIChodWUgPj0gMzM0ICYmIGh1ZSA8PSAzNjApIHtcbiAgICAgIGh1ZS09IDM2MDtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBjb2xvck5hbWUgaW4gY29sb3JEaWN0aW9uYXJ5KSB7XG4gICAgICAgdmFyIGNvbG9yID0gY29sb3JEaWN0aW9uYXJ5W2NvbG9yTmFtZV07XG4gICAgICAgaWYgKGNvbG9yLmh1ZVJhbmdlICYmXG4gICAgICAgICAgIGh1ZSA+PSBjb2xvci5odWVSYW5nZVswXSAmJlxuICAgICAgICAgICBodWUgPD0gY29sb3IuaHVlUmFuZ2VbMV0pIHtcbiAgICAgICAgICByZXR1cm4gY29sb3JEaWN0aW9uYXJ5W2NvbG9yTmFtZV07XG4gICAgICAgfVxuICAgIH0gcmV0dXJuICdDb2xvciBub3QgZm91bmQnO1xuICB9XG5cbiAgZnVuY3Rpb24gcmFuZG9tV2l0aGluIChyYW5nZSkge1xuICAgIGlmIChzZWVkID09PSBudWxsKSB7XG4gICAgICAvL2dlbmVyYXRlIHJhbmRvbSBldmVubHkgZGVzdGluY3QgbnVtYmVyIGZyb20gOiBodHRwczovL21hcnRpbi5hbmtlcmwuY29tLzIwMDkvMTIvMDkvaG93LXRvLWNyZWF0ZS1yYW5kb20tY29sb3JzLXByb2dyYW1tYXRpY2FsbHkvXG4gICAgICB2YXIgZ29sZGVuX3JhdGlvID0gMC42MTgwMzM5ODg3NDk4OTVcbiAgICAgIHZhciByPU1hdGgucmFuZG9tKClcbiAgICAgIHIgKz0gZ29sZGVuX3JhdGlvXG4gICAgICByICU9IDFcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKHJhbmdlWzBdICsgcioocmFuZ2VbMV0gKyAxIC0gcmFuZ2VbMF0pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9TZWVkZWQgcmFuZG9tIGFsZ29yaXRobSBmcm9tIGh0dHA6Ly9pbmRpZWdhbXIuY29tL2dlbmVyYXRlLXJlcGVhdGFibGUtcmFuZG9tLW51bWJlcnMtaW4tanMvXG4gICAgICB2YXIgbWF4ID0gcmFuZ2VbMV0gfHwgMTtcbiAgICAgIHZhciBtaW4gPSByYW5nZVswXSB8fCAwO1xuICAgICAgc2VlZCA9IChzZWVkICogOTMwMSArIDQ5Mjk3KSAlIDIzMzI4MDtcbiAgICAgIHZhciBybmQgPSBzZWVkIC8gMjMzMjgwLjA7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcihtaW4gKyBybmQgKiAobWF4IC0gbWluKSk7XG59XG4gIH1cblxuICBmdW5jdGlvbiBIU1Z0b0hleCAoaHN2KXtcblxuICAgIHZhciByZ2IgPSBIU1Z0b1JHQihoc3YpO1xuXG4gICAgZnVuY3Rpb24gY29tcG9uZW50VG9IZXgoYykge1xuICAgICAgICB2YXIgaGV4ID0gYy50b1N0cmluZygxNik7XG4gICAgICAgIHJldHVybiBoZXgubGVuZ3RoID09IDEgPyAnMCcgKyBoZXggOiBoZXg7XG4gICAgfVxuXG4gICAgdmFyIGhleCA9ICcjJyArIGNvbXBvbmVudFRvSGV4KHJnYlswXSkgKyBjb21wb25lbnRUb0hleChyZ2JbMV0pICsgY29tcG9uZW50VG9IZXgocmdiWzJdKTtcblxuICAgIHJldHVybiBoZXg7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZmluZUNvbG9yIChuYW1lLCBodWVSYW5nZSwgbG93ZXJCb3VuZHMpIHtcblxuICAgIHZhciBzTWluID0gbG93ZXJCb3VuZHNbMF1bMF0sXG4gICAgICAgIHNNYXggPSBsb3dlckJvdW5kc1tsb3dlckJvdW5kcy5sZW5ndGggLSAxXVswXSxcblxuICAgICAgICBiTWluID0gbG93ZXJCb3VuZHNbbG93ZXJCb3VuZHMubGVuZ3RoIC0gMV1bMV0sXG4gICAgICAgIGJNYXggPSBsb3dlckJvdW5kc1swXVsxXTtcblxuICAgIGNvbG9yRGljdGlvbmFyeVtuYW1lXSA9IHtcbiAgICAgIGh1ZVJhbmdlOiBodWVSYW5nZSxcbiAgICAgIGxvd2VyQm91bmRzOiBsb3dlckJvdW5kcyxcbiAgICAgIHNhdHVyYXRpb25SYW5nZTogW3NNaW4sIHNNYXhdLFxuICAgICAgYnJpZ2h0bmVzc1JhbmdlOiBbYk1pbiwgYk1heF1cbiAgICB9O1xuXG4gIH1cblxuICBmdW5jdGlvbiBsb2FkQ29sb3JCb3VuZHMgKCkge1xuXG4gICAgZGVmaW5lQ29sb3IoXG4gICAgICAnbW9ub2Nocm9tZScsXG4gICAgICBudWxsLFxuICAgICAgW1swLDBdLFsxMDAsMF1dXG4gICAgKTtcblxuICAgIGRlZmluZUNvbG9yKFxuICAgICAgJ3JlZCcsXG4gICAgICBbLTI2LDE4XSxcbiAgICAgIFtbMjAsMTAwXSxbMzAsOTJdLFs0MCw4OV0sWzUwLDg1XSxbNjAsNzhdLFs3MCw3MF0sWzgwLDYwXSxbOTAsNTVdLFsxMDAsNTBdXVxuICAgICk7XG5cbiAgICBkZWZpbmVDb2xvcihcbiAgICAgICdvcmFuZ2UnLFxuICAgICAgWzE4LDQ2XSxcbiAgICAgIFtbMjAsMTAwXSxbMzAsOTNdLFs0MCw4OF0sWzUwLDg2XSxbNjAsODVdLFs3MCw3MF0sWzEwMCw3MF1dXG4gICAgKTtcblxuICAgIGRlZmluZUNvbG9yKFxuICAgICAgJ3llbGxvdycsXG4gICAgICBbNDYsNjJdLFxuICAgICAgW1syNSwxMDBdLFs0MCw5NF0sWzUwLDg5XSxbNjAsODZdLFs3MCw4NF0sWzgwLDgyXSxbOTAsODBdLFsxMDAsNzVdXVxuICAgICk7XG5cbiAgICBkZWZpbmVDb2xvcihcbiAgICAgICdncmVlbicsXG4gICAgICBbNjIsMTc4XSxcbiAgICAgIFtbMzAsMTAwXSxbNDAsOTBdLFs1MCw4NV0sWzYwLDgxXSxbNzAsNzRdLFs4MCw2NF0sWzkwLDUwXSxbMTAwLDQwXV1cbiAgICApO1xuXG4gICAgZGVmaW5lQ29sb3IoXG4gICAgICAnYmx1ZScsXG4gICAgICBbMTc4LCAyNTddLFxuICAgICAgW1syMCwxMDBdLFszMCw4Nl0sWzQwLDgwXSxbNTAsNzRdLFs2MCw2MF0sWzcwLDUyXSxbODAsNDRdLFs5MCwzOV0sWzEwMCwzNV1dXG4gICAgKTtcblxuICAgIGRlZmluZUNvbG9yKFxuICAgICAgJ3B1cnBsZScsXG4gICAgICBbMjU3LCAyODJdLFxuICAgICAgW1syMCwxMDBdLFszMCw4N10sWzQwLDc5XSxbNTAsNzBdLFs2MCw2NV0sWzcwLDU5XSxbODAsNTJdLFs5MCw0NV0sWzEwMCw0Ml1dXG4gICAgKTtcblxuICAgIGRlZmluZUNvbG9yKFxuICAgICAgJ3BpbmsnLFxuICAgICAgWzI4MiwgMzM0XSxcbiAgICAgIFtbMjAsMTAwXSxbMzAsOTBdLFs0MCw4Nl0sWzYwLDg0XSxbODAsODBdLFs5MCw3NV0sWzEwMCw3M11dXG4gICAgKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gSFNWdG9SR0IgKGhzdikge1xuXG4gICAgLy8gdGhpcyBkb2Vzbid0IHdvcmsgZm9yIHRoZSB2YWx1ZXMgb2YgMCBhbmQgMzYwXG4gICAgLy8gaGVyZSdzIHRoZSBoYWNreSBmaXhcbiAgICB2YXIgaCA9IGhzdlswXTtcbiAgICBpZiAoaCA9PT0gMCkge2ggPSAxO31cbiAgICBpZiAoaCA9PT0gMzYwKSB7aCA9IDM1OTt9XG5cbiAgICAvLyBSZWJhc2UgdGhlIGgscyx2IHZhbHVlc1xuICAgIGggPSBoLzM2MDtcbiAgICB2YXIgcyA9IGhzdlsxXS8xMDAsXG4gICAgICAgIHYgPSBoc3ZbMl0vMTAwO1xuXG4gICAgdmFyIGhfaSA9IE1hdGguZmxvb3IoaCo2KSxcbiAgICAgIGYgPSBoICogNiAtIGhfaSxcbiAgICAgIHAgPSB2ICogKDEgLSBzKSxcbiAgICAgIHEgPSB2ICogKDEgLSBmKnMpLFxuICAgICAgdCA9IHYgKiAoMSAtICgxIC0gZikqcyksXG4gICAgICByID0gMjU2LFxuICAgICAgZyA9IDI1NixcbiAgICAgIGIgPSAyNTY7XG5cbiAgICBzd2l0Y2goaF9pKSB7XG4gICAgICBjYXNlIDA6IHIgPSB2OyBnID0gdDsgYiA9IHA7ICBicmVhaztcbiAgICAgIGNhc2UgMTogciA9IHE7IGcgPSB2OyBiID0gcDsgIGJyZWFrO1xuICAgICAgY2FzZSAyOiByID0gcDsgZyA9IHY7IGIgPSB0OyAgYnJlYWs7XG4gICAgICBjYXNlIDM6IHIgPSBwOyBnID0gcTsgYiA9IHY7ICBicmVhaztcbiAgICAgIGNhc2UgNDogciA9IHQ7IGcgPSBwOyBiID0gdjsgIGJyZWFrO1xuICAgICAgY2FzZSA1OiByID0gdjsgZyA9IHA7IGIgPSBxOyAgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdCA9IFtNYXRoLmZsb29yKHIqMjU1KSwgTWF0aC5mbG9vcihnKjI1NSksIE1hdGguZmxvb3IoYioyNTUpXTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gSGV4VG9IU0IgKGhleCkge1xuICAgIGhleCA9IGhleC5yZXBsYWNlKC9eIy8sICcnKTtcbiAgICBoZXggPSBoZXgubGVuZ3RoID09PSAzID8gaGV4LnJlcGxhY2UoLyguKS9nLCAnJDEkMScpIDogaGV4O1xuXG4gICAgdmFyIHJlZCA9IHBhcnNlSW50KGhleC5zdWJzdHIoMCwgMiksIDE2KSAvIDI1NSxcbiAgICAgICAgICBncmVlbiA9IHBhcnNlSW50KGhleC5zdWJzdHIoMiwgMiksIDE2KSAvIDI1NSxcbiAgICAgICAgICBibHVlID0gcGFyc2VJbnQoaGV4LnN1YnN0cig0LCAyKSwgMTYpIC8gMjU1O1xuXG4gICAgdmFyIGNNYXggPSBNYXRoLm1heChyZWQsIGdyZWVuLCBibHVlKSxcbiAgICAgICAgICBkZWx0YSA9IGNNYXggLSBNYXRoLm1pbihyZWQsIGdyZWVuLCBibHVlKSxcbiAgICAgICAgICBzYXR1cmF0aW9uID0gY01heCA/IChkZWx0YSAvIGNNYXgpIDogMDtcblxuICAgIHN3aXRjaCAoY01heCkge1xuICAgICAgY2FzZSByZWQ6IHJldHVybiBbIDYwICogKCgoZ3JlZW4gLSBibHVlKSAvIGRlbHRhKSAlIDYpIHx8IDAsIHNhdHVyYXRpb24sIGNNYXggXTtcbiAgICAgIGNhc2UgZ3JlZW46IHJldHVybiBbIDYwICogKCgoYmx1ZSAtIHJlZCkgLyBkZWx0YSkgKyAyKSB8fCAwLCBzYXR1cmF0aW9uLCBjTWF4IF07XG4gICAgICBjYXNlIGJsdWU6IHJldHVybiBbIDYwICogKCgocmVkIC0gZ3JlZW4pIC8gZGVsdGEpICsgNCkgfHwgMCwgc2F0dXJhdGlvbiwgY01heCBdO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIEhTVnRvSFNMIChoc3YpIHtcbiAgICB2YXIgaCA9IGhzdlswXSxcbiAgICAgIHMgPSBoc3ZbMV0vMTAwLFxuICAgICAgdiA9IGhzdlsyXS8xMDAsXG4gICAgICBrID0gKDItcykqdjtcblxuICAgIHJldHVybiBbXG4gICAgICBoLFxuICAgICAgTWF0aC5yb3VuZChzKnYgLyAoazwxID8gayA6IDItaykgKiAxMDAwMCkgLyAxMDAsXG4gICAgICBrLzIgKiAxMDBcbiAgICBdO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RyaW5nVG9JbnRlZ2VyIChzdHJpbmcpIHtcbiAgICB2YXIgdG90YWwgPSAwXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IHN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRvdGFsID49IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSBicmVhaztcbiAgICAgIHRvdGFsICs9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG4gICAgfVxuICAgIHJldHVybiB0b3RhbFxuICB9XG5cbiAgLy8gZ2V0IFRoZSByYW5nZSBvZiBnaXZlbiBodWUgd2hlbiBvcHRpb25zLmNvdW50IT0wXG4gIGZ1bmN0aW9uIGdldFJlYWxIdWVSYW5nZShjb2xvckh1ZSlcbiAgeyBpZiAoIWlzTmFOKGNvbG9ySHVlKSkge1xuICAgIHZhciBudW1iZXIgPSBwYXJzZUludChjb2xvckh1ZSk7XG5cbiAgICBpZiAobnVtYmVyIDwgMzYwICYmIG51bWJlciA+IDApIHtcbiAgICAgIHJldHVybiBnZXRDb2xvckluZm8oY29sb3JIdWUpLmh1ZVJhbmdlXG4gICAgfVxuICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGNvbG9ySHVlID09PSAnc3RyaW5nJykge1xuXG4gICAgICBpZiAoY29sb3JEaWN0aW9uYXJ5W2NvbG9ySHVlXSkge1xuICAgICAgICB2YXIgY29sb3IgPSBjb2xvckRpY3Rpb25hcnlbY29sb3JIdWVdO1xuXG4gICAgICAgIGlmIChjb2xvci5odWVSYW5nZSkge1xuICAgICAgICAgIHJldHVybiBjb2xvci5odWVSYW5nZVxuICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNvbG9ySHVlLm1hdGNoKC9eIz8oWzAtOUEtRl17M318WzAtOUEtRl17Nn0pJC9pKSkge1xuICAgICAgICB2YXIgaHVlID0gSGV4VG9IU0IoY29sb3JIdWUpWzBdXG4gICAgICAgIHJldHVybiBnZXRDb2xvckluZm8oaHVlKS5odWVSYW5nZVxuICAgIH1cbiAgfVxuXG4gICAgcmV0dXJuIFswLDM2MF1cbn1cbiAgcmV0dXJuIHJhbmRvbUNvbG9yO1xufSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/randomcolor/randomColor.js\n");

/***/ }),

/***/ "./node_modules/tiny-svg/dist/index.esm.js":
/*!*************************************************!*\
  !*** ./node_modules/tiny-svg/dist/index.esm.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   append: () => (/* binding */ append),\n/* harmony export */   appendTo: () => (/* binding */ appendTo),\n/* harmony export */   attr: () => (/* binding */ attr),\n/* harmony export */   classes: () => (/* binding */ classes),\n/* harmony export */   clear: () => (/* binding */ clear),\n/* harmony export */   clone: () => (/* binding */ clone),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   createMatrix: () => (/* binding */ createMatrix),\n/* harmony export */   createPoint: () => (/* binding */ createPoint),\n/* harmony export */   createTransform: () => (/* binding */ createTransform),\n/* harmony export */   innerSVG: () => (/* binding */ innerSVG),\n/* harmony export */   off: () => (/* binding */ off),\n/* harmony export */   on: () => (/* binding */ on),\n/* harmony export */   prepend: () => (/* binding */ prepend),\n/* harmony export */   prependTo: () => (/* binding */ prependTo),\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   replace: () => (/* binding */ replace),\n/* harmony export */   select: () => (/* binding */ select),\n/* harmony export */   selectAll: () => (/* binding */ selectAll),\n/* harmony export */   transform: () => (/* binding */ transform)\n/* harmony export */ });\nfunction ensureImported(element, target) {\n\n  if (element.ownerDocument !== target.ownerDocument) {\n    try {\n\n      // may fail on webkit\n      return target.ownerDocument.importNode(element, true);\n    } catch (e) {\n\n      // ignore\n    }\n  }\n\n  return element;\n}\n\n/**\n * appendTo utility\n */\n\n/**\n * Append a node to a target element and return the appended node.\n *\n * @param  {SVGElement} element\n * @param  {SVGElement} target\n *\n * @return {SVGElement} the appended node\n */\nfunction appendTo(element, target) {\n  return target.appendChild(ensureImported(element, target));\n}\n\n/**\n * append utility\n */\n\n/**\n * Append a node to an element\n *\n * @param  {SVGElement} element\n * @param  {SVGElement} node\n *\n * @return {SVGElement} the element\n */\nfunction append(target, node) {\n  appendTo(node, target);\n  return target;\n}\n\n/**\n * attribute accessor utility\n */\n\nvar LENGTH_ATTR = 2;\n\nvar CSS_PROPERTIES = {\n  'alignment-baseline': 1,\n  'baseline-shift': 1,\n  'clip': 1,\n  'clip-path': 1,\n  'clip-rule': 1,\n  'color': 1,\n  'color-interpolation': 1,\n  'color-interpolation-filters': 1,\n  'color-profile': 1,\n  'color-rendering': 1,\n  'cursor': 1,\n  'direction': 1,\n  'display': 1,\n  'dominant-baseline': 1,\n  'enable-background': 1,\n  'fill': 1,\n  'fill-opacity': 1,\n  'fill-rule': 1,\n  'filter': 1,\n  'flood-color': 1,\n  'flood-opacity': 1,\n  'font': 1,\n  'font-family': 1,\n  'font-size': LENGTH_ATTR,\n  'font-size-adjust': 1,\n  'font-stretch': 1,\n  'font-style': 1,\n  'font-variant': 1,\n  'font-weight': 1,\n  'glyph-orientation-horizontal': 1,\n  'glyph-orientation-vertical': 1,\n  'image-rendering': 1,\n  'kerning': 1,\n  'letter-spacing': 1,\n  'lighting-color': 1,\n  'marker': 1,\n  'marker-end': 1,\n  'marker-mid': 1,\n  'marker-start': 1,\n  'mask': 1,\n  'opacity': 1,\n  'overflow': 1,\n  'pointer-events': 1,\n  'shape-rendering': 1,\n  'stop-color': 1,\n  'stop-opacity': 1,\n  'stroke': 1,\n  'stroke-dasharray': 1,\n  'stroke-dashoffset': 1,\n  'stroke-linecap': 1,\n  'stroke-linejoin': 1,\n  'stroke-miterlimit': 1,\n  'stroke-opacity': 1,\n  'stroke-width': LENGTH_ATTR,\n  'text-anchor': 1,\n  'text-decoration': 1,\n  'text-rendering': 1,\n  'unicode-bidi': 1,\n  'visibility': 1,\n  'word-spacing': 1,\n  'writing-mode': 1\n};\n\n\nfunction getAttribute(node, name) {\n  if (CSS_PROPERTIES[name]) {\n    return node.style[name];\n  } else {\n    return node.getAttributeNS(null, name);\n  }\n}\n\nfunction setAttribute(node, name, value) {\n  var hyphenated = name.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\n  var type = CSS_PROPERTIES[hyphenated];\n\n  if (type) {\n\n    // append pixel unit, unless present\n    if (type === LENGTH_ATTR && typeof value === 'number') {\n      value = String(value) + 'px';\n    }\n\n    node.style[hyphenated] = value;\n  } else {\n    node.setAttributeNS(null, name, value);\n  }\n}\n\nfunction setAttributes(node, attrs) {\n\n  var names = Object.keys(attrs), i, name;\n\n  for (i = 0, name; (name = names[i]); i++) {\n    setAttribute(node, name, attrs[name]);\n  }\n}\n\n/**\n * Gets or sets raw attributes on a node.\n *\n * @param  {SVGElement} node\n * @param  {Object} [attrs]\n * @param  {String} [name]\n * @param  {String} [value]\n *\n * @return {String}\n */\nfunction attr(node, name, value) {\n  if (typeof name === 'string') {\n    if (value !== undefined) {\n      setAttribute(node, name, value);\n    } else {\n      return getAttribute(node, name);\n    }\n  } else {\n    setAttributes(node, name);\n  }\n\n  return node;\n}\n\n/**\r\n * Taken from https://github.com/component/classes\r\n *\r\n * Without the component bits.\r\n */\r\n\r\n/**\r\n * toString reference.\r\n */\r\n\r\nconst toString = Object.prototype.toString;\r\n\r\n/**\r\n  * Wrap `el` in a `ClassList`.\r\n  *\r\n  * @param {Element} el\r\n  * @return {ClassList}\r\n  * @api public\r\n  */\r\n\r\nfunction classes(el) {\r\n  return new ClassList(el);\r\n}\r\n\r\nfunction ClassList(el) {\r\n  if (!el || !el.nodeType) {\r\n    throw new Error('A DOM element reference is required');\r\n  }\r\n  this.el = el;\r\n  this.list = el.classList;\r\n}\r\n\r\n/**\r\n  * Add class `name` if not already present.\r\n  *\r\n  * @param {String} name\r\n  * @return {ClassList}\r\n  * @api public\r\n  */\r\n\r\nClassList.prototype.add = function(name) {\r\n  this.list.add(name);\r\n  return this;\r\n};\r\n\r\n/**\r\n  * Remove class `name` when present, or\r\n  * pass a regular expression to remove\r\n  * any which match.\r\n  *\r\n  * @param {String|RegExp} name\r\n  * @return {ClassList}\r\n  * @api public\r\n  */\r\n\r\nClassList.prototype.remove = function(name) {\r\n  if ('[object RegExp]' == toString.call(name)) {\r\n    return this.removeMatching(name);\r\n  }\r\n\r\n  this.list.remove(name);\r\n  return this;\r\n};\r\n\r\n/**\r\n  * Remove all classes matching `re`.\r\n  *\r\n  * @param {RegExp} re\r\n  * @return {ClassList}\r\n  * @api private\r\n  */\r\n\r\nClassList.prototype.removeMatching = function(re) {\r\n  const arr = this.array();\r\n  for (let i = 0; i < arr.length; i++) {\r\n    if (re.test(arr[i])) {\r\n      this.remove(arr[i]);\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n  * Toggle class `name`, can force state via `force`.\r\n  *\r\n  * For browsers that support classList, but do not support `force` yet,\r\n  * the mistake will be detected and corrected.\r\n  *\r\n  * @param {String} name\r\n  * @param {Boolean} force\r\n  * @return {ClassList}\r\n  * @api public\r\n  */\r\n\r\nClassList.prototype.toggle = function(name, force) {\r\n  if ('undefined' !== typeof force) {\r\n    if (force !== this.list.toggle(name, force)) {\r\n      this.list.toggle(name); // toggle again to correct\r\n    }\r\n  } else {\r\n    this.list.toggle(name);\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n  * Return an array of classes.\r\n  *\r\n  * @return {Array}\r\n  * @api public\r\n  */\r\n\r\nClassList.prototype.array = function() {\r\n  return Array.from(this.list);\r\n};\r\n\r\n/**\r\n  * Check if class `name` is present.\r\n  *\r\n  * @param {String} name\r\n  * @return {ClassList}\r\n  * @api public\r\n  */\r\n\r\nClassList.prototype.has =\r\n ClassList.prototype.contains = function(name) {\r\n   return this.list.contains(name);\r\n };\n\nfunction remove(element) {\n  var parent = element.parentNode;\n\n  if (parent) {\n    parent.removeChild(element);\n  }\n\n  return element;\n}\n\n/**\n * Clear utility\n */\n\n/**\n * Removes all children from the given element\n *\n * @param  {DOMElement} element\n * @return {DOMElement} the element (for chaining)\n */\nfunction clear(element) {\n  var child;\n\n  while ((child = element.firstChild)) {\n    remove(child);\n  }\n\n  return element;\n}\n\nfunction clone(element) {\n  return element.cloneNode(true);\n}\n\nvar ns = {\n  svg: 'http://www.w3.org/2000/svg'\n};\n\n/**\n * DOM parsing utility\n */\n\nvar SVG_START = '<svg xmlns=\"' + ns.svg + '\"';\n\nfunction parse(svg) {\n\n  var unwrap = false;\n\n  // ensure we import a valid svg document\n  if (svg.substring(0, 4) === '<svg') {\n    if (svg.indexOf(ns.svg) === -1) {\n      svg = SVG_START + svg.substring(4);\n    }\n  } else {\n\n    // namespace svg\n    svg = SVG_START + '>' + svg + '</svg>';\n    unwrap = true;\n  }\n\n  var parsed = parseDocument(svg);\n\n  if (!unwrap) {\n    return parsed;\n  }\n\n  var fragment = document.createDocumentFragment();\n\n  var parent = parsed.firstChild;\n\n  while (parent.firstChild) {\n    fragment.appendChild(parent.firstChild);\n  }\n\n  return fragment;\n}\n\nfunction parseDocument(svg) {\n\n  var parser;\n\n  // parse\n  parser = new DOMParser();\n  parser.async = false;\n\n  return parser.parseFromString(svg, 'text/xml');\n}\n\n/**\n * Create utility for SVG elements\n */\n\n\n/**\n * Create a specific type from name or SVG markup.\n *\n * @param {String} name the name or markup of the element\n * @param {Object} [attrs] attributes to set on the element\n *\n * @returns {SVGElement}\n */\nfunction create(name, attrs) {\n  var element;\n\n  if (name.charAt(0) === '<') {\n    element = parse(name).firstChild;\n    element = document.importNode(element, true);\n  } else {\n    element = document.createElementNS(ns.svg, name);\n  }\n\n  if (attrs) {\n    attr(element, attrs);\n  }\n\n  return element;\n}\n\n/**\n * Events handling utility\n */\n\nfunction on(node, event, listener, useCapture) {\n  node.addEventListener(event, listener, useCapture);\n}\n\nfunction off(node, event, listener, useCapture) {\n  node.removeEventListener(event, listener, useCapture);\n}\n\n/**\n * Geometry helpers\n */\n\n// fake node used to instantiate svg geometry elements\nvar node = null;\n\nfunction getNode() {\n  if (node === null) {\n    node = create('svg');\n  }\n\n  return node;\n}\n\nfunction extend(object, props) {\n  var i, k, keys = Object.keys(props);\n\n  for (i = 0; (k = keys[i]); i++) {\n    object[k] = props[k];\n  }\n\n  return object;\n}\n\n\nfunction createPoint(x, y) {\n  var point = getNode().createSVGPoint();\n\n  switch (arguments.length) {\n  case 0:\n    return point;\n  case 2:\n    x = {\n      x: x,\n      y: y\n    };\n    break;\n  }\n\n  return extend(point, x);\n}\n\n/**\n * Create matrix via args.\n *\n * @example\n *\n * createMatrix({ a: 1, b: 1 });\n * createMatrix();\n * createMatrix(1, 2, 0, 0, 30, 20);\n *\n * @return {SVGMatrix}\n */\nfunction createMatrix(a, b, c, d, e, f) {\n  var matrix = getNode().createSVGMatrix();\n\n  switch (arguments.length) {\n  case 0:\n    return matrix;\n  case 1:\n    return extend(matrix, a);\n  case 6:\n    return extend(matrix, {\n      a: a,\n      b: b,\n      c: c,\n      d: d,\n      e: e,\n      f: f\n    });\n  }\n}\n\nfunction createTransform(matrix) {\n  if (matrix) {\n    return getNode().createSVGTransformFromMatrix(matrix);\n  } else {\n    return getNode().createSVGTransform();\n  }\n}\n\n/**\n * Serialization util\n */\n\nvar TEXT_ENTITIES = /([&<>]{1})/g;\nvar ATTR_ENTITIES = /([\\n\\r\"]{1})/g;\n\nvar ENTITY_REPLACEMENT = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '\\''\n};\n\nfunction escape(str, pattern) {\n\n  function replaceFn(match, entity) {\n    return ENTITY_REPLACEMENT[entity] || entity;\n  }\n\n  return str.replace(pattern, replaceFn);\n}\n\nfunction serialize(node, output) {\n\n  var i, len, attrMap, attrNode, childNodes;\n\n  switch (node.nodeType) {\n\n  // TEXT\n  case 3:\n\n    // replace special XML characters\n    output.push(escape(node.textContent, TEXT_ENTITIES));\n    break;\n\n  // ELEMENT\n  case 1:\n    output.push('<', node.tagName);\n\n    if (node.hasAttributes()) {\n      attrMap = node.attributes;\n      for (i = 0, len = attrMap.length; i < len; ++i) {\n        attrNode = attrMap.item(i);\n        output.push(' ', attrNode.name, '=\"', escape(attrNode.value, ATTR_ENTITIES), '\"');\n      }\n    }\n\n    if (node.hasChildNodes()) {\n      output.push('>');\n      childNodes = node.childNodes;\n      for (i = 0, len = childNodes.length; i < len; ++i) {\n        serialize(childNodes.item(i), output);\n      }\n      output.push('</', node.tagName, '>');\n    } else {\n      output.push('/>');\n    }\n    break;\n\n  // COMMENT\n  case 8:\n    output.push('<!--', escape(node.nodeValue, TEXT_ENTITIES), '-->');\n    break;\n\n  // CDATA\n  case 4:\n    output.push('<![CDATA[', node.nodeValue, ']]>');\n    break;\n\n  default:\n    throw new Error('unable to handle node ' + node.nodeType);\n  }\n\n  return output;\n}\n\n/**\n * innerHTML like functionality for SVG elements.\n * based on innerSVG (https://code.google.com/p/innersvg)\n */\n\n\nfunction set(element, svg) {\n\n  var parsed = parse(svg);\n\n  // clear element contents\n  clear(element);\n\n  if (!svg) {\n    return;\n  }\n\n  if (!isFragment(parsed)) {\n\n    // extract <svg> from parsed document\n    parsed = parsed.documentElement;\n  }\n\n  var nodes = slice(parsed.childNodes);\n\n  // import + append each node\n  for (var i = 0; i < nodes.length; i++) {\n    appendTo(nodes[i], element);\n  }\n\n}\n\nfunction get(element) {\n  var child = element.firstChild,\n      output = [];\n\n  while (child) {\n    serialize(child, output);\n    child = child.nextSibling;\n  }\n\n  return output.join('');\n}\n\nfunction isFragment(node) {\n  return node.nodeName === '#document-fragment';\n}\n\nfunction innerSVG(element, svg) {\n\n  if (svg !== undefined) {\n\n    try {\n      set(element, svg);\n    } catch (e) {\n      throw new Error('error parsing SVG: ' + e.message);\n    }\n\n    return element;\n  } else {\n    return get(element);\n  }\n}\n\n\nfunction slice(arr) {\n  return Array.prototype.slice.call(arr);\n}\n\n/**\n * Selection utilities\n */\n\nfunction select(node, selector) {\n  return node.querySelector(selector);\n}\n\nfunction selectAll(node, selector) {\n  var nodes = node.querySelectorAll(selector);\n\n  return [].map.call(nodes, function(element) {\n    return element;\n  });\n}\n\n/**\n * prependTo utility\n */\n\n/**\n * Prepend a node to a target element and return the prepended node.\n *\n * @param  {SVGElement} node\n * @param  {SVGElement} target\n *\n * @return {SVGElement} the prepended node\n */\nfunction prependTo(node, target) {\n  return target.insertBefore(ensureImported(node, target), target.firstChild || null);\n}\n\n/**\n * prepend utility\n */\n\n/**\n * Prepend a node to a target element\n *\n * @param  {SVGElement} target\n * @param  {SVGElement} node\n *\n * @return {SVGElement} the target element\n */\nfunction prepend(target, node) {\n  prependTo(node, target);\n  return target;\n}\n\n/**\n * Replace utility\n */\n\nfunction replace(element, replacement) {\n  element.parentNode.replaceChild(ensureImported(replacement, element), element);\n  return replacement;\n}\n\n/**\n * transform accessor utility\n */\n\nfunction wrapMatrix(transformList, transform) {\n  if (transform instanceof SVGMatrix) {\n    return transformList.createSVGTransformFromMatrix(transform);\n  }\n\n  return transform;\n}\n\n\nfunction setTransforms(transformList, transforms) {\n  var i, t;\n\n  transformList.clear();\n\n  for (i = 0; (t = transforms[i]); i++) {\n    transformList.appendItem(wrapMatrix(transformList, t));\n  }\n}\n\n/**\n * Get or set the transforms on the given node.\n *\n * @param {SVGElement} node\n * @param  {SVGTransform|SVGMatrix|Array<SVGTransform|SVGMatrix>} [transforms]\n *\n * @return {SVGTransform} the consolidated transform\n */\nfunction transform(node, transforms) {\n  var transformList = node.transform.baseVal;\n\n  if (transforms) {\n\n    if (!Array.isArray(transforms)) {\n      transforms = [ transforms ];\n    }\n\n    setTransforms(transformList, transforms);\n  }\n\n  return transformList.consolidate();\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdGlueS1zdmcvZGlzdC9pbmRleC5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEIsWUFBWSxZQUFZO0FBQ3hCO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEIsWUFBWSxZQUFZO0FBQ3hCO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEIsWUFBWSxRQUFRO0FBQ3BCLFlBQVksUUFBUTtBQUNwQixZQUFZLFFBQVE7QUFDcEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVM7QUFDckIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGVBQWU7QUFDM0IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsWUFBWSxTQUFTO0FBQ3JCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGNBQWMsZUFBZTtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDRCQUE0QixFQUFFO0FBQzlCLDhCQUE4QixFQUFFOztBQUVoQztBQUNBLGFBQWE7QUFDYixZQUFZO0FBQ1osWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3Q0FBd0MsU0FBUztBQUNqRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsU0FBUztBQUNwRDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxrQkFBa0Isa0JBQWtCO0FBQ3BDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCLFlBQVksWUFBWTtBQUN4QjtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCLFlBQVksWUFBWTtBQUN4QjtBQUNBLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTs7QUFFQSxjQUFjLHFCQUFxQjtBQUNuQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFlBQVksc0RBQXNEO0FBQ2xFO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVtTSIsInNvdXJjZXMiOlsid2VicGFjazovL2JwbW4tanMtdG9rZW4tc2ltdWxhdGlvbi8uL25vZGVfbW9kdWxlcy90aW55LXN2Zy9kaXN0L2luZGV4LmVzbS5qcz82YjhiIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGVuc3VyZUltcG9ydGVkKGVsZW1lbnQsIHRhcmdldCkge1xuXG4gIGlmIChlbGVtZW50Lm93bmVyRG9jdW1lbnQgIT09IHRhcmdldC5vd25lckRvY3VtZW50KSB7XG4gICAgdHJ5IHtcblxuICAgICAgLy8gbWF5IGZhaWwgb24gd2Via2l0XG4gICAgICByZXR1cm4gdGFyZ2V0Lm93bmVyRG9jdW1lbnQuaW1wb3J0Tm9kZShlbGVtZW50LCB0cnVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG5cbiAgICAgIC8vIGlnbm9yZVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxuXG4vKipcbiAqIGFwcGVuZFRvIHV0aWxpdHlcbiAqL1xuXG4vKipcbiAqIEFwcGVuZCBhIG5vZGUgdG8gYSB0YXJnZXQgZWxlbWVudCBhbmQgcmV0dXJuIHRoZSBhcHBlbmRlZCBub2RlLlxuICpcbiAqIEBwYXJhbSAge1NWR0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSAge1NWR0VsZW1lbnR9IHRhcmdldFxuICpcbiAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IHRoZSBhcHBlbmRlZCBub2RlXG4gKi9cbmZ1bmN0aW9uIGFwcGVuZFRvKGVsZW1lbnQsIHRhcmdldCkge1xuICByZXR1cm4gdGFyZ2V0LmFwcGVuZENoaWxkKGVuc3VyZUltcG9ydGVkKGVsZW1lbnQsIHRhcmdldCkpO1xufVxuXG4vKipcbiAqIGFwcGVuZCB1dGlsaXR5XG4gKi9cblxuLyoqXG4gKiBBcHBlbmQgYSBub2RlIHRvIGFuIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSBub2RlXG4gKlxuICogQHJldHVybiB7U1ZHRWxlbWVudH0gdGhlIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gYXBwZW5kKHRhcmdldCwgbm9kZSkge1xuICBhcHBlbmRUbyhub2RlLCB0YXJnZXQpO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vKipcbiAqIGF0dHJpYnV0ZSBhY2Nlc3NvciB1dGlsaXR5XG4gKi9cblxudmFyIExFTkdUSF9BVFRSID0gMjtcblxudmFyIENTU19QUk9QRVJUSUVTID0ge1xuICAnYWxpZ25tZW50LWJhc2VsaW5lJzogMSxcbiAgJ2Jhc2VsaW5lLXNoaWZ0JzogMSxcbiAgJ2NsaXAnOiAxLFxuICAnY2xpcC1wYXRoJzogMSxcbiAgJ2NsaXAtcnVsZSc6IDEsXG4gICdjb2xvcic6IDEsXG4gICdjb2xvci1pbnRlcnBvbGF0aW9uJzogMSxcbiAgJ2NvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyc6IDEsXG4gICdjb2xvci1wcm9maWxlJzogMSxcbiAgJ2NvbG9yLXJlbmRlcmluZyc6IDEsXG4gICdjdXJzb3InOiAxLFxuICAnZGlyZWN0aW9uJzogMSxcbiAgJ2Rpc3BsYXknOiAxLFxuICAnZG9taW5hbnQtYmFzZWxpbmUnOiAxLFxuICAnZW5hYmxlLWJhY2tncm91bmQnOiAxLFxuICAnZmlsbCc6IDEsXG4gICdmaWxsLW9wYWNpdHknOiAxLFxuICAnZmlsbC1ydWxlJzogMSxcbiAgJ2ZpbHRlcic6IDEsXG4gICdmbG9vZC1jb2xvcic6IDEsXG4gICdmbG9vZC1vcGFjaXR5JzogMSxcbiAgJ2ZvbnQnOiAxLFxuICAnZm9udC1mYW1pbHknOiAxLFxuICAnZm9udC1zaXplJzogTEVOR1RIX0FUVFIsXG4gICdmb250LXNpemUtYWRqdXN0JzogMSxcbiAgJ2ZvbnQtc3RyZXRjaCc6IDEsXG4gICdmb250LXN0eWxlJzogMSxcbiAgJ2ZvbnQtdmFyaWFudCc6IDEsXG4gICdmb250LXdlaWdodCc6IDEsXG4gICdnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsJzogMSxcbiAgJ2dseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsJzogMSxcbiAgJ2ltYWdlLXJlbmRlcmluZyc6IDEsXG4gICdrZXJuaW5nJzogMSxcbiAgJ2xldHRlci1zcGFjaW5nJzogMSxcbiAgJ2xpZ2h0aW5nLWNvbG9yJzogMSxcbiAgJ21hcmtlcic6IDEsXG4gICdtYXJrZXItZW5kJzogMSxcbiAgJ21hcmtlci1taWQnOiAxLFxuICAnbWFya2VyLXN0YXJ0JzogMSxcbiAgJ21hc2snOiAxLFxuICAnb3BhY2l0eSc6IDEsXG4gICdvdmVyZmxvdyc6IDEsXG4gICdwb2ludGVyLWV2ZW50cyc6IDEsXG4gICdzaGFwZS1yZW5kZXJpbmcnOiAxLFxuICAnc3RvcC1jb2xvcic6IDEsXG4gICdzdG9wLW9wYWNpdHknOiAxLFxuICAnc3Ryb2tlJzogMSxcbiAgJ3N0cm9rZS1kYXNoYXJyYXknOiAxLFxuICAnc3Ryb2tlLWRhc2hvZmZzZXQnOiAxLFxuICAnc3Ryb2tlLWxpbmVjYXAnOiAxLFxuICAnc3Ryb2tlLWxpbmVqb2luJzogMSxcbiAgJ3N0cm9rZS1taXRlcmxpbWl0JzogMSxcbiAgJ3N0cm9rZS1vcGFjaXR5JzogMSxcbiAgJ3N0cm9rZS13aWR0aCc6IExFTkdUSF9BVFRSLFxuICAndGV4dC1hbmNob3InOiAxLFxuICAndGV4dC1kZWNvcmF0aW9uJzogMSxcbiAgJ3RleHQtcmVuZGVyaW5nJzogMSxcbiAgJ3VuaWNvZGUtYmlkaSc6IDEsXG4gICd2aXNpYmlsaXR5JzogMSxcbiAgJ3dvcmQtc3BhY2luZyc6IDEsXG4gICd3cml0aW5nLW1vZGUnOiAxXG59O1xuXG5cbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZShub2RlLCBuYW1lKSB7XG4gIGlmIChDU1NfUFJPUEVSVElFU1tuYW1lXSkge1xuICAgIHJldHVybiBub2RlLnN0eWxlW25hbWVdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBub2RlLmdldEF0dHJpYnV0ZU5TKG51bGwsIG5hbWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZShub2RlLCBuYW1lLCB2YWx1ZSkge1xuICB2YXIgaHlwaGVuYXRlZCA9IG5hbWUucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgJyQxLSQyJykudG9Mb3dlckNhc2UoKTtcblxuICB2YXIgdHlwZSA9IENTU19QUk9QRVJUSUVTW2h5cGhlbmF0ZWRdO1xuXG4gIGlmICh0eXBlKSB7XG5cbiAgICAvLyBhcHBlbmQgcGl4ZWwgdW5pdCwgdW5sZXNzIHByZXNlbnRcbiAgICBpZiAodHlwZSA9PT0gTEVOR1RIX0FUVFIgJiYgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpICsgJ3B4JztcbiAgICB9XG5cbiAgICBub2RlLnN0eWxlW2h5cGhlbmF0ZWRdID0gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgbm9kZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBuYW1lLCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0QXR0cmlidXRlcyhub2RlLCBhdHRycykge1xuXG4gIHZhciBuYW1lcyA9IE9iamVjdC5rZXlzKGF0dHJzKSwgaSwgbmFtZTtcblxuICBmb3IgKGkgPSAwLCBuYW1lOyAobmFtZSA9IG5hbWVzW2ldKTsgaSsrKSB7XG4gICAgc2V0QXR0cmlidXRlKG5vZGUsIG5hbWUsIGF0dHJzW25hbWVdKTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgb3Igc2V0cyByYXcgYXR0cmlidXRlcyBvbiBhIG5vZGUuXG4gKlxuICogQHBhcmFtICB7U1ZHRWxlbWVudH0gbm9kZVxuICogQHBhcmFtICB7T2JqZWN0fSBbYXR0cnNdXG4gKiBAcGFyYW0gIHtTdHJpbmd9IFtuYW1lXVxuICogQHBhcmFtICB7U3RyaW5nfSBbdmFsdWVdXG4gKlxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBhdHRyKG5vZGUsIG5hbWUsIHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc2V0QXR0cmlidXRlKG5vZGUsIG5hbWUsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGdldEF0dHJpYnV0ZShub2RlLCBuYW1lKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc2V0QXR0cmlidXRlcyhub2RlLCBuYW1lKTtcbiAgfVxuXG4gIHJldHVybiBub2RlO1xufVxuXG4vKipcclxuICogVGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vY29tcG9uZW50L2NsYXNzZXNcclxuICpcclxuICogV2l0aG91dCB0aGUgY29tcG9uZW50IGJpdHMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIHRvU3RyaW5nIHJlZmVyZW5jZS5cclxuICovXHJcblxyXG5jb25zdCB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XHJcblxyXG4vKipcclxuICAqIFdyYXAgYGVsYCBpbiBhIGBDbGFzc0xpc3RgLlxyXG4gICpcclxuICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcclxuICAqIEByZXR1cm4ge0NsYXNzTGlzdH1cclxuICAqIEBhcGkgcHVibGljXHJcbiAgKi9cclxuXHJcbmZ1bmN0aW9uIGNsYXNzZXMoZWwpIHtcclxuICByZXR1cm4gbmV3IENsYXNzTGlzdChlbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIENsYXNzTGlzdChlbCkge1xyXG4gIGlmICghZWwgfHwgIWVsLm5vZGVUeXBlKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgRE9NIGVsZW1lbnQgcmVmZXJlbmNlIGlzIHJlcXVpcmVkJyk7XHJcbiAgfVxyXG4gIHRoaXMuZWwgPSBlbDtcclxuICB0aGlzLmxpc3QgPSBlbC5jbGFzc0xpc3Q7XHJcbn1cclxuXHJcbi8qKlxyXG4gICogQWRkIGNsYXNzIGBuYW1lYCBpZiBub3QgYWxyZWFkeSBwcmVzZW50LlxyXG4gICpcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXHJcbiAgKiBAcmV0dXJuIHtDbGFzc0xpc3R9XHJcbiAgKiBAYXBpIHB1YmxpY1xyXG4gICovXHJcblxyXG5DbGFzc0xpc3QucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKG5hbWUpIHtcclxuICB0aGlzLmxpc3QuYWRkKG5hbWUpO1xyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAgKiBSZW1vdmUgY2xhc3MgYG5hbWVgIHdoZW4gcHJlc2VudCwgb3JcclxuICAqIHBhc3MgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gcmVtb3ZlXHJcbiAgKiBhbnkgd2hpY2ggbWF0Y2guXHJcbiAgKlxyXG4gICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBuYW1lXHJcbiAgKiBAcmV0dXJuIHtDbGFzc0xpc3R9XHJcbiAgKiBAYXBpIHB1YmxpY1xyXG4gICovXHJcblxyXG5DbGFzc0xpc3QucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKG5hbWUpIHtcclxuICBpZiAoJ1tvYmplY3QgUmVnRXhwXScgPT0gdG9TdHJpbmcuY2FsbChuYW1lKSkge1xyXG4gICAgcmV0dXJuIHRoaXMucmVtb3ZlTWF0Y2hpbmcobmFtZSk7XHJcbiAgfVxyXG5cclxuICB0aGlzLmxpc3QucmVtb3ZlKG5hbWUpO1xyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAgKiBSZW1vdmUgYWxsIGNsYXNzZXMgbWF0Y2hpbmcgYHJlYC5cclxuICAqXHJcbiAgKiBAcGFyYW0ge1JlZ0V4cH0gcmVcclxuICAqIEByZXR1cm4ge0NsYXNzTGlzdH1cclxuICAqIEBhcGkgcHJpdmF0ZVxyXG4gICovXHJcblxyXG5DbGFzc0xpc3QucHJvdG90eXBlLnJlbW92ZU1hdGNoaW5nID0gZnVuY3Rpb24ocmUpIHtcclxuICBjb25zdCBhcnIgPSB0aGlzLmFycmF5KCk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgIGlmIChyZS50ZXN0KGFycltpXSkpIHtcclxuICAgICAgdGhpcy5yZW1vdmUoYXJyW2ldKTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICAqIFRvZ2dsZSBjbGFzcyBgbmFtZWAsIGNhbiBmb3JjZSBzdGF0ZSB2aWEgYGZvcmNlYC5cclxuICAqXHJcbiAgKiBGb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGNsYXNzTGlzdCwgYnV0IGRvIG5vdCBzdXBwb3J0IGBmb3JjZWAgeWV0LFxyXG4gICogdGhlIG1pc3Rha2Ugd2lsbCBiZSBkZXRlY3RlZCBhbmQgY29ycmVjdGVkLlxyXG4gICpcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXHJcbiAgKiBAcGFyYW0ge0Jvb2xlYW59IGZvcmNlXHJcbiAgKiBAcmV0dXJuIHtDbGFzc0xpc3R9XHJcbiAgKiBAYXBpIHB1YmxpY1xyXG4gICovXHJcblxyXG5DbGFzc0xpc3QucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uKG5hbWUsIGZvcmNlKSB7XHJcbiAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgZm9yY2UpIHtcclxuICAgIGlmIChmb3JjZSAhPT0gdGhpcy5saXN0LnRvZ2dsZShuYW1lLCBmb3JjZSkpIHtcclxuICAgICAgdGhpcy5saXN0LnRvZ2dsZShuYW1lKTsgLy8gdG9nZ2xlIGFnYWluIHRvIGNvcnJlY3RcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgdGhpcy5saXN0LnRvZ2dsZShuYW1lKTtcclxuICB9XHJcbiAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICAqIFJldHVybiBhbiBhcnJheSBvZiBjbGFzc2VzLlxyXG4gICpcclxuICAqIEByZXR1cm4ge0FycmF5fVxyXG4gICogQGFwaSBwdWJsaWNcclxuICAqL1xyXG5cclxuQ2xhc3NMaXN0LnByb3RvdHlwZS5hcnJheSA9IGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiBBcnJheS5mcm9tKHRoaXMubGlzdCk7XHJcbn07XHJcblxyXG4vKipcclxuICAqIENoZWNrIGlmIGNsYXNzIGBuYW1lYCBpcyBwcmVzZW50LlxyXG4gICpcclxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXHJcbiAgKiBAcmV0dXJuIHtDbGFzc0xpc3R9XHJcbiAgKiBAYXBpIHB1YmxpY1xyXG4gICovXHJcblxyXG5DbGFzc0xpc3QucHJvdG90eXBlLmhhcyA9XHJcbiBDbGFzc0xpc3QucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24obmFtZSkge1xyXG4gICByZXR1cm4gdGhpcy5saXN0LmNvbnRhaW5zKG5hbWUpO1xyXG4gfTtcblxuZnVuY3Rpb24gcmVtb3ZlKGVsZW1lbnQpIHtcbiAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcblxuICBpZiAocGFyZW50KSB7XG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbi8qKlxuICogQ2xlYXIgdXRpbGl0eVxuICovXG5cbi8qKlxuICogUmVtb3ZlcyBhbGwgY2hpbGRyZW4gZnJvbSB0aGUgZ2l2ZW4gZWxlbWVudFxuICpcbiAqIEBwYXJhbSAge0RPTUVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge0RPTUVsZW1lbnR9IHRoZSBlbGVtZW50IChmb3IgY2hhaW5pbmcpXG4gKi9cbmZ1bmN0aW9uIGNsZWFyKGVsZW1lbnQpIHtcbiAgdmFyIGNoaWxkO1xuXG4gIHdoaWxlICgoY2hpbGQgPSBlbGVtZW50LmZpcnN0Q2hpbGQpKSB7XG4gICAgcmVtb3ZlKGNoaWxkKTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5mdW5jdGlvbiBjbG9uZShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcbn1cblxudmFyIG5zID0ge1xuICBzdmc6ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zydcbn07XG5cbi8qKlxuICogRE9NIHBhcnNpbmcgdXRpbGl0eVxuICovXG5cbnZhciBTVkdfU1RBUlQgPSAnPHN2ZyB4bWxucz1cIicgKyBucy5zdmcgKyAnXCInO1xuXG5mdW5jdGlvbiBwYXJzZShzdmcpIHtcblxuICB2YXIgdW53cmFwID0gZmFsc2U7XG5cbiAgLy8gZW5zdXJlIHdlIGltcG9ydCBhIHZhbGlkIHN2ZyBkb2N1bWVudFxuICBpZiAoc3ZnLnN1YnN0cmluZygwLCA0KSA9PT0gJzxzdmcnKSB7XG4gICAgaWYgKHN2Zy5pbmRleE9mKG5zLnN2ZykgPT09IC0xKSB7XG4gICAgICBzdmcgPSBTVkdfU1RBUlQgKyBzdmcuc3Vic3RyaW5nKDQpO1xuICAgIH1cbiAgfSBlbHNlIHtcblxuICAgIC8vIG5hbWVzcGFjZSBzdmdcbiAgICBzdmcgPSBTVkdfU1RBUlQgKyAnPicgKyBzdmcgKyAnPC9zdmc+JztcbiAgICB1bndyYXAgPSB0cnVlO1xuICB9XG5cbiAgdmFyIHBhcnNlZCA9IHBhcnNlRG9jdW1lbnQoc3ZnKTtcblxuICBpZiAoIXVud3JhcCkge1xuICAgIHJldHVybiBwYXJzZWQ7XG4gIH1cblxuICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgdmFyIHBhcmVudCA9IHBhcnNlZC5maXJzdENoaWxkO1xuXG4gIHdoaWxlIChwYXJlbnQuZmlyc3RDaGlsZCkge1xuICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHBhcmVudC5maXJzdENoaWxkKTtcbiAgfVxuXG4gIHJldHVybiBmcmFnbWVudDtcbn1cblxuZnVuY3Rpb24gcGFyc2VEb2N1bWVudChzdmcpIHtcblxuICB2YXIgcGFyc2VyO1xuXG4gIC8vIHBhcnNlXG4gIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgcGFyc2VyLmFzeW5jID0gZmFsc2U7XG5cbiAgcmV0dXJuIHBhcnNlci5wYXJzZUZyb21TdHJpbmcoc3ZnLCAndGV4dC94bWwnKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgdXRpbGl0eSBmb3IgU1ZHIGVsZW1lbnRzXG4gKi9cblxuXG4vKipcbiAqIENyZWF0ZSBhIHNwZWNpZmljIHR5cGUgZnJvbSBuYW1lIG9yIFNWRyBtYXJrdXAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgdGhlIG5hbWUgb3IgbWFya3VwIG9mIHRoZSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gW2F0dHJzXSBhdHRyaWJ1dGVzIHRvIHNldCBvbiB0aGUgZWxlbWVudFxuICpcbiAqIEByZXR1cm5zIHtTVkdFbGVtZW50fVxuICovXG5mdW5jdGlvbiBjcmVhdGUobmFtZSwgYXR0cnMpIHtcbiAgdmFyIGVsZW1lbnQ7XG5cbiAgaWYgKG5hbWUuY2hhckF0KDApID09PSAnPCcpIHtcbiAgICBlbGVtZW50ID0gcGFyc2UobmFtZSkuZmlyc3RDaGlsZDtcbiAgICBlbGVtZW50ID0gZG9jdW1lbnQuaW1wb3J0Tm9kZShlbGVtZW50LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zLnN2ZywgbmFtZSk7XG4gIH1cblxuICBpZiAoYXR0cnMpIHtcbiAgICBhdHRyKGVsZW1lbnQsIGF0dHJzKTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufVxuXG4vKipcbiAqIEV2ZW50cyBoYW5kbGluZyB1dGlsaXR5XG4gKi9cblxuZnVuY3Rpb24gb24obm9kZSwgZXZlbnQsIGxpc3RlbmVyLCB1c2VDYXB0dXJlKSB7XG4gIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIHVzZUNhcHR1cmUpO1xufVxuXG5mdW5jdGlvbiBvZmYobm9kZSwgZXZlbnQsIGxpc3RlbmVyLCB1c2VDYXB0dXJlKSB7XG4gIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIHVzZUNhcHR1cmUpO1xufVxuXG4vKipcbiAqIEdlb21ldHJ5IGhlbHBlcnNcbiAqL1xuXG4vLyBmYWtlIG5vZGUgdXNlZCB0byBpbnN0YW50aWF0ZSBzdmcgZ2VvbWV0cnkgZWxlbWVudHNcbnZhciBub2RlID0gbnVsbDtcblxuZnVuY3Rpb24gZ2V0Tm9kZSgpIHtcbiAgaWYgKG5vZGUgPT09IG51bGwpIHtcbiAgICBub2RlID0gY3JlYXRlKCdzdmcnKTtcbiAgfVxuXG4gIHJldHVybiBub2RlO1xufVxuXG5mdW5jdGlvbiBleHRlbmQob2JqZWN0LCBwcm9wcykge1xuICB2YXIgaSwgaywga2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKTtcblxuICBmb3IgKGkgPSAwOyAoayA9IGtleXNbaV0pOyBpKyspIHtcbiAgICBvYmplY3Rba10gPSBwcm9wc1trXTtcbiAgfVxuXG4gIHJldHVybiBvYmplY3Q7XG59XG5cblxuZnVuY3Rpb24gY3JlYXRlUG9pbnQoeCwgeSkge1xuICB2YXIgcG9pbnQgPSBnZXROb2RlKCkuY3JlYXRlU1ZHUG9pbnQoKTtcblxuICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgY2FzZSAwOlxuICAgIHJldHVybiBwb2ludDtcbiAgY2FzZSAyOlxuICAgIHggPSB7XG4gICAgICB4OiB4LFxuICAgICAgeTogeVxuICAgIH07XG4gICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gZXh0ZW5kKHBvaW50LCB4KTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgbWF0cml4IHZpYSBhcmdzLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogY3JlYXRlTWF0cml4KHsgYTogMSwgYjogMSB9KTtcbiAqIGNyZWF0ZU1hdHJpeCgpO1xuICogY3JlYXRlTWF0cml4KDEsIDIsIDAsIDAsIDMwLCAyMCk7XG4gKlxuICogQHJldHVybiB7U1ZHTWF0cml4fVxuICovXG5mdW5jdGlvbiBjcmVhdGVNYXRyaXgoYSwgYiwgYywgZCwgZSwgZikge1xuICB2YXIgbWF0cml4ID0gZ2V0Tm9kZSgpLmNyZWF0ZVNWR01hdHJpeCgpO1xuXG4gIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICBjYXNlIDA6XG4gICAgcmV0dXJuIG1hdHJpeDtcbiAgY2FzZSAxOlxuICAgIHJldHVybiBleHRlbmQobWF0cml4LCBhKTtcbiAgY2FzZSA2OlxuICAgIHJldHVybiBleHRlbmQobWF0cml4LCB7XG4gICAgICBhOiBhLFxuICAgICAgYjogYixcbiAgICAgIGM6IGMsXG4gICAgICBkOiBkLFxuICAgICAgZTogZSxcbiAgICAgIGY6IGZcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVUcmFuc2Zvcm0obWF0cml4KSB7XG4gIGlmIChtYXRyaXgpIHtcbiAgICByZXR1cm4gZ2V0Tm9kZSgpLmNyZWF0ZVNWR1RyYW5zZm9ybUZyb21NYXRyaXgobWF0cml4KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0Tm9kZSgpLmNyZWF0ZVNWR1RyYW5zZm9ybSgpO1xuICB9XG59XG5cbi8qKlxuICogU2VyaWFsaXphdGlvbiB1dGlsXG4gKi9cblxudmFyIFRFWFRfRU5USVRJRVMgPSAvKFsmPD5dezF9KS9nO1xudmFyIEFUVFJfRU5USVRJRVMgPSAvKFtcXG5cXHJcIl17MX0pL2c7XG5cbnZhciBFTlRJVFlfUkVQTEFDRU1FTlQgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnXFwnJ1xufTtcblxuZnVuY3Rpb24gZXNjYXBlKHN0ciwgcGF0dGVybikge1xuXG4gIGZ1bmN0aW9uIHJlcGxhY2VGbihtYXRjaCwgZW50aXR5KSB7XG4gICAgcmV0dXJuIEVOVElUWV9SRVBMQUNFTUVOVFtlbnRpdHldIHx8IGVudGl0eTtcbiAgfVxuXG4gIHJldHVybiBzdHIucmVwbGFjZShwYXR0ZXJuLCByZXBsYWNlRm4pO1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemUobm9kZSwgb3V0cHV0KSB7XG5cbiAgdmFyIGksIGxlbiwgYXR0ck1hcCwgYXR0ck5vZGUsIGNoaWxkTm9kZXM7XG5cbiAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG5cbiAgLy8gVEVYVFxuICBjYXNlIDM6XG5cbiAgICAvLyByZXBsYWNlIHNwZWNpYWwgWE1MIGNoYXJhY3RlcnNcbiAgICBvdXRwdXQucHVzaChlc2NhcGUobm9kZS50ZXh0Q29udGVudCwgVEVYVF9FTlRJVElFUykpO1xuICAgIGJyZWFrO1xuXG4gIC8vIEVMRU1FTlRcbiAgY2FzZSAxOlxuICAgIG91dHB1dC5wdXNoKCc8Jywgbm9kZS50YWdOYW1lKTtcblxuICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZXMoKSkge1xuICAgICAgYXR0ck1hcCA9IG5vZGUuYXR0cmlidXRlcztcbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGF0dHJNYXAubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgYXR0ck5vZGUgPSBhdHRyTWFwLml0ZW0oaSk7XG4gICAgICAgIG91dHB1dC5wdXNoKCcgJywgYXR0ck5vZGUubmFtZSwgJz1cIicsIGVzY2FwZShhdHRyTm9kZS52YWx1ZSwgQVRUUl9FTlRJVElFUyksICdcIicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChub2RlLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgb3V0cHV0LnB1c2goJz4nKTtcbiAgICAgIGNoaWxkTm9kZXMgPSBub2RlLmNoaWxkTm9kZXM7XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBjaGlsZE5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIHNlcmlhbGl6ZShjaGlsZE5vZGVzLml0ZW0oaSksIG91dHB1dCk7XG4gICAgICB9XG4gICAgICBvdXRwdXQucHVzaCgnPC8nLCBub2RlLnRhZ05hbWUsICc+Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKCcvPicpO1xuICAgIH1cbiAgICBicmVhaztcblxuICAvLyBDT01NRU5UXG4gIGNhc2UgODpcbiAgICBvdXRwdXQucHVzaCgnPCEtLScsIGVzY2FwZShub2RlLm5vZGVWYWx1ZSwgVEVYVF9FTlRJVElFUyksICctLT4nKTtcbiAgICBicmVhaztcblxuICAvLyBDREFUQVxuICBjYXNlIDQ6XG4gICAgb3V0cHV0LnB1c2goJzwhW0NEQVRBWycsIG5vZGUubm9kZVZhbHVlLCAnXV0+Jyk7XG4gICAgYnJlYWs7XG5cbiAgZGVmYXVsdDpcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBoYW5kbGUgbm9kZSAnICsgbm9kZS5ub2RlVHlwZSk7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuXG4vKipcbiAqIGlubmVySFRNTCBsaWtlIGZ1bmN0aW9uYWxpdHkgZm9yIFNWRyBlbGVtZW50cy5cbiAqIGJhc2VkIG9uIGlubmVyU1ZHIChodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2lubmVyc3ZnKVxuICovXG5cblxuZnVuY3Rpb24gc2V0KGVsZW1lbnQsIHN2Zykge1xuXG4gIHZhciBwYXJzZWQgPSBwYXJzZShzdmcpO1xuXG4gIC8vIGNsZWFyIGVsZW1lbnQgY29udGVudHNcbiAgY2xlYXIoZWxlbWVudCk7XG5cbiAgaWYgKCFzdmcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIWlzRnJhZ21lbnQocGFyc2VkKSkge1xuXG4gICAgLy8gZXh0cmFjdCA8c3ZnPiBmcm9tIHBhcnNlZCBkb2N1bWVudFxuICAgIHBhcnNlZCA9IHBhcnNlZC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cblxuICB2YXIgbm9kZXMgPSBzbGljZShwYXJzZWQuY2hpbGROb2Rlcyk7XG5cbiAgLy8gaW1wb3J0ICsgYXBwZW5kIGVhY2ggbm9kZVxuICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXBwZW5kVG8obm9kZXNbaV0sIGVsZW1lbnQpO1xuICB9XG5cbn1cblxuZnVuY3Rpb24gZ2V0KGVsZW1lbnQpIHtcbiAgdmFyIGNoaWxkID0gZWxlbWVudC5maXJzdENoaWxkLFxuICAgICAgb3V0cHV0ID0gW107XG5cbiAgd2hpbGUgKGNoaWxkKSB7XG4gICAgc2VyaWFsaXplKGNoaWxkLCBvdXRwdXQpO1xuICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xufVxuXG5mdW5jdGlvbiBpc0ZyYWdtZW50KG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUubm9kZU5hbWUgPT09ICcjZG9jdW1lbnQtZnJhZ21lbnQnO1xufVxuXG5mdW5jdGlvbiBpbm5lclNWRyhlbGVtZW50LCBzdmcpIHtcblxuICBpZiAoc3ZnICE9PSB1bmRlZmluZWQpIHtcblxuICAgIHRyeSB7XG4gICAgICBzZXQoZWxlbWVudCwgc3ZnKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Vycm9yIHBhcnNpbmcgU1ZHOiAnICsgZS5tZXNzYWdlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0KGVsZW1lbnQpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gc2xpY2UoYXJyKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIpO1xufVxuXG4vKipcbiAqIFNlbGVjdGlvbiB1dGlsaXRpZXNcbiAqL1xuXG5mdW5jdGlvbiBzZWxlY3Qobm9kZSwgc2VsZWN0b3IpIHtcbiAgcmV0dXJuIG5vZGUucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdEFsbChub2RlLCBzZWxlY3Rvcikge1xuICB2YXIgbm9kZXMgPSBub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXG4gIHJldHVybiBbXS5tYXAuY2FsbChub2RlcywgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9KTtcbn1cblxuLyoqXG4gKiBwcmVwZW5kVG8gdXRpbGl0eVxuICovXG5cbi8qKlxuICogUHJlcGVuZCBhIG5vZGUgdG8gYSB0YXJnZXQgZWxlbWVudCBhbmQgcmV0dXJuIHRoZSBwcmVwZW5kZWQgbm9kZS5cbiAqXG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSB0YXJnZXRcbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fSB0aGUgcHJlcGVuZGVkIG5vZGVcbiAqL1xuZnVuY3Rpb24gcHJlcGVuZFRvKG5vZGUsIHRhcmdldCkge1xuICByZXR1cm4gdGFyZ2V0Lmluc2VydEJlZm9yZShlbnN1cmVJbXBvcnRlZChub2RlLCB0YXJnZXQpLCB0YXJnZXQuZmlyc3RDaGlsZCB8fCBudWxsKTtcbn1cblxuLyoqXG4gKiBwcmVwZW5kIHV0aWxpdHlcbiAqL1xuXG4vKipcbiAqIFByZXBlbmQgYSBub2RlIHRvIGEgdGFyZ2V0IGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0gIHtTVkdFbGVtZW50fSB0YXJnZXRcbiAqIEBwYXJhbSAge1NWR0VsZW1lbnR9IG5vZGVcbiAqXG4gKiBAcmV0dXJuIHtTVkdFbGVtZW50fSB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gcHJlcGVuZCh0YXJnZXQsIG5vZGUpIHtcbiAgcHJlcGVuZFRvKG5vZGUsIHRhcmdldCk7XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbi8qKlxuICogUmVwbGFjZSB1dGlsaXR5XG4gKi9cblxuZnVuY3Rpb24gcmVwbGFjZShlbGVtZW50LCByZXBsYWNlbWVudCkge1xuICBlbGVtZW50LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGVuc3VyZUltcG9ydGVkKHJlcGxhY2VtZW50LCBlbGVtZW50KSwgZWxlbWVudCk7XG4gIHJldHVybiByZXBsYWNlbWVudDtcbn1cblxuLyoqXG4gKiB0cmFuc2Zvcm0gYWNjZXNzb3IgdXRpbGl0eVxuICovXG5cbmZ1bmN0aW9uIHdyYXBNYXRyaXgodHJhbnNmb3JtTGlzdCwgdHJhbnNmb3JtKSB7XG4gIGlmICh0cmFuc2Zvcm0gaW5zdGFuY2VvZiBTVkdNYXRyaXgpIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtTGlzdC5jcmVhdGVTVkdUcmFuc2Zvcm1Gcm9tTWF0cml4KHRyYW5zZm9ybSk7XG4gIH1cblxuICByZXR1cm4gdHJhbnNmb3JtO1xufVxuXG5cbmZ1bmN0aW9uIHNldFRyYW5zZm9ybXModHJhbnNmb3JtTGlzdCwgdHJhbnNmb3Jtcykge1xuICB2YXIgaSwgdDtcblxuICB0cmFuc2Zvcm1MaXN0LmNsZWFyKCk7XG5cbiAgZm9yIChpID0gMDsgKHQgPSB0cmFuc2Zvcm1zW2ldKTsgaSsrKSB7XG4gICAgdHJhbnNmb3JtTGlzdC5hcHBlbmRJdGVtKHdyYXBNYXRyaXgodHJhbnNmb3JtTGlzdCwgdCkpO1xuICB9XG59XG5cbi8qKlxuICogR2V0IG9yIHNldCB0aGUgdHJhbnNmb3JtcyBvbiB0aGUgZ2l2ZW4gbm9kZS5cbiAqXG4gKiBAcGFyYW0ge1NWR0VsZW1lbnR9IG5vZGVcbiAqIEBwYXJhbSAge1NWR1RyYW5zZm9ybXxTVkdNYXRyaXh8QXJyYXk8U1ZHVHJhbnNmb3JtfFNWR01hdHJpeD59IFt0cmFuc2Zvcm1zXVxuICpcbiAqIEByZXR1cm4ge1NWR1RyYW5zZm9ybX0gdGhlIGNvbnNvbGlkYXRlZCB0cmFuc2Zvcm1cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtKG5vZGUsIHRyYW5zZm9ybXMpIHtcbiAgdmFyIHRyYW5zZm9ybUxpc3QgPSBub2RlLnRyYW5zZm9ybS5iYXNlVmFsO1xuXG4gIGlmICh0cmFuc2Zvcm1zKSB7XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodHJhbnNmb3JtcykpIHtcbiAgICAgIHRyYW5zZm9ybXMgPSBbIHRyYW5zZm9ybXMgXTtcbiAgICB9XG5cbiAgICBzZXRUcmFuc2Zvcm1zKHRyYW5zZm9ybUxpc3QsIHRyYW5zZm9ybXMpO1xuICB9XG5cbiAgcmV0dXJuIHRyYW5zZm9ybUxpc3QuY29uc29saWRhdGUoKTtcbn1cblxuZXhwb3J0IHsgYXBwZW5kLCBhcHBlbmRUbywgYXR0ciwgY2xhc3NlcywgY2xlYXIsIGNsb25lLCBjcmVhdGUsIGNyZWF0ZU1hdHJpeCwgY3JlYXRlUG9pbnQsIGNyZWF0ZVRyYW5zZm9ybSwgaW5uZXJTVkcsIG9mZiwgb24sIHByZXBlbmQsIHByZXBlbmRUbywgcmVtb3ZlLCByZXBsYWNlLCBzZWxlY3QsIHNlbGVjdEFsbCwgdHJhbnNmb3JtIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/tiny-svg/dist/index.esm.js\n");

/***/ }),

/***/ "./node_modules/min-dash/dist/index.esm.js":
/*!*************************************************!*\
  !*** ./node_modules/min-dash/dist/index.esm.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assign: () => (/* binding */ assign),\n/* harmony export */   bind: () => (/* binding */ bind),\n/* harmony export */   debounce: () => (/* binding */ debounce),\n/* harmony export */   ensureArray: () => (/* binding */ ensureArray),\n/* harmony export */   every: () => (/* binding */ every),\n/* harmony export */   filter: () => (/* binding */ filter),\n/* harmony export */   find: () => (/* binding */ find),\n/* harmony export */   findIndex: () => (/* binding */ findIndex),\n/* harmony export */   flatten: () => (/* binding */ flatten),\n/* harmony export */   forEach: () => (/* binding */ forEach),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   groupBy: () => (/* binding */ groupBy),\n/* harmony export */   has: () => (/* binding */ has),\n/* harmony export */   isArray: () => (/* binding */ isArray),\n/* harmony export */   isDefined: () => (/* binding */ isDefined),\n/* harmony export */   isFunction: () => (/* binding */ isFunction),\n/* harmony export */   isNil: () => (/* binding */ isNil),\n/* harmony export */   isNumber: () => (/* binding */ isNumber),\n/* harmony export */   isObject: () => (/* binding */ isObject),\n/* harmony export */   isString: () => (/* binding */ isString),\n/* harmony export */   isUndefined: () => (/* binding */ isUndefined),\n/* harmony export */   keys: () => (/* binding */ keys),\n/* harmony export */   map: () => (/* binding */ map),\n/* harmony export */   matchPattern: () => (/* binding */ matchPattern),\n/* harmony export */   merge: () => (/* binding */ merge),\n/* harmony export */   omit: () => (/* binding */ omit),\n/* harmony export */   pick: () => (/* binding */ pick),\n/* harmony export */   reduce: () => (/* binding */ reduce),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   size: () => (/* binding */ size),\n/* harmony export */   some: () => (/* binding */ some),\n/* harmony export */   sortBy: () => (/* binding */ sortBy),\n/* harmony export */   throttle: () => (/* binding */ throttle),\n/* harmony export */   unionBy: () => (/* binding */ unionBy),\n/* harmony export */   uniqueBy: () => (/* binding */ uniqueBy),\n/* harmony export */   values: () => (/* binding */ values),\n/* harmony export */   without: () => (/* binding */ without)\n/* harmony export */ });\n/**\n * Flatten array, one level deep.\n *\n * @template T\n *\n * @param {T[][] | T[] | null} [arr]\n *\n * @return {T[]}\n */\nfunction flatten(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\n\nconst nativeToString = Object.prototype.toString;\nconst nativeHasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\n\nfunction isDefined(obj) {\n  return obj !== undefined;\n}\n\nfunction isNil(obj) {\n  return obj == null;\n}\n\nfunction isArray(obj) {\n  return nativeToString.call(obj) === '[object Array]';\n}\n\nfunction isObject(obj) {\n  return nativeToString.call(obj) === '[object Object]';\n}\n\nfunction isNumber(obj) {\n  return nativeToString.call(obj) === '[object Number]';\n}\n\n/**\n * @param {any} obj\n *\n * @return {boolean}\n */\nfunction isFunction(obj) {\n  const tag = nativeToString.call(obj);\n\n  return (\n    tag === '[object Function]' ||\n    tag === '[object AsyncFunction]' ||\n    tag === '[object GeneratorFunction]' ||\n    tag === '[object AsyncGeneratorFunction]' ||\n    tag === '[object Proxy]'\n  );\n}\n\nfunction isString(obj) {\n  return nativeToString.call(obj) === '[object String]';\n}\n\n\n/**\n * Ensure collection is an array.\n *\n * @param {Object} obj\n */\nfunction ensureArray(obj) {\n\n  if (isArray(obj)) {\n    return;\n  }\n\n  throw new Error('must supply array');\n}\n\n/**\n * Return true, if target owns a property with the given key.\n *\n * @param {Object} target\n * @param {String} key\n *\n * @return {Boolean}\n */\nfunction has(target, key) {\n  return nativeHasOwnProperty.call(target, key);\n}\n\n/**\n * @template T\n * @typedef { (\n *   ((e: T) => boolean) |\n *   ((e: T, idx: number) => boolean) |\n *   ((e: T, key: string) => boolean) |\n *   string |\n *   number\n * ) } Matcher\n */\n\n/**\n * @template T\n * @template U\n *\n * @typedef { (\n *   ((e: T) => U) | string | number\n * ) } Extractor\n */\n\n\n/**\n * @template T\n * @typedef { (val: T, key: any) => boolean } MatchFn\n */\n\n/**\n * @template T\n * @typedef { T[] } ArrayCollection\n */\n\n/**\n * @template T\n * @typedef { { [key: string]: T } } StringKeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { { [key: number]: T } } NumberKeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { StringKeyValueCollection<T> | NumberKeyValueCollection<T> } KeyValueCollection\n */\n\n/**\n * @template T\n * @typedef { KeyValueCollection<T> | ArrayCollection<T> } Collection\n */\n\n/**\n * Find element in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {Object}\n */\nfunction find(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let match;\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      match = val;\n\n      return false;\n    }\n  });\n\n  return match;\n\n}\n\n\n/**\n * Find element index in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {number}\n */\nfunction findIndex(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let idx = isArray(collection) ? -1 : undefined;\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      idx = key;\n\n      return false;\n    }\n  });\n\n  return idx;\n}\n\n\n/**\n * Filter elements in collection.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param {Matcher<T>} matcher\n *\n * @return {T[]} result\n */\nfunction filter(collection, matcher) {\n\n  const matchFn = toMatcher(matcher);\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    if (matchFn(val, key)) {\n      result.push(val);\n    }\n  });\n\n  return result;\n}\n\n\n/**\n * Iterate over collection; returning something\n * (non-undefined) will stop iteration.\n *\n * @template T\n * @param {Collection<T>} collection\n * @param { ((item: T, idx: number) => (boolean|void)) | ((item: T, key: string) => (boolean|void)) } iterator\n *\n * @return {T} return result that stopped the iteration\n */\nfunction forEach(collection, iterator) {\n\n  let val,\n      result;\n\n  if (isUndefined(collection)) {\n    return;\n  }\n\n  const convertKey = isArray(collection) ? toNum : identity;\n\n  for (let key in collection) {\n\n    if (has(collection, key)) {\n      val = collection[key];\n\n      result = iterator(val, convertKey(key));\n\n      if (result === false) {\n        return val;\n      }\n    }\n  }\n}\n\n/**\n * Return collection without element.\n *\n * @template T\n * @param {ArrayCollection<T>} arr\n * @param {Matcher<T>} matcher\n *\n * @return {T[]}\n */\nfunction without(arr, matcher) {\n\n  if (isUndefined(arr)) {\n    return [];\n  }\n\n  ensureArray(arr);\n\n  const matchFn = toMatcher(matcher);\n\n  return arr.filter(function(el, idx) {\n    return !matchFn(el, idx);\n  });\n\n}\n\n\n/**\n * Reduce collection, returning a single result.\n *\n * @template T\n * @template V\n *\n * @param {Collection<T>} collection\n * @param {(result: V, entry: T, index: any) => V} iterator\n * @param {V} result\n *\n * @return {V} result returned from last iterator\n */\nfunction reduce(collection, iterator, result) {\n\n  forEach(collection, function(value, idx) {\n    result = iterator(result, value, idx);\n  });\n\n  return result;\n}\n\n\n/**\n * Return true if every element in the collection\n * matches the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction every(collection, matcher) {\n\n  return !!reduce(collection, function(matches, val, key) {\n    return matches && matcher(val, key);\n  }, true);\n}\n\n\n/**\n * Return true if some elements in the collection\n * match the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction some(collection, matcher) {\n\n  return !!find(collection, matcher);\n}\n\n\n/**\n * Transform a collection into another collection\n * by piping each member through the given fn.\n *\n * @param  {Object|Array}   collection\n * @param  {Function} fn\n *\n * @return {Array} transformed collection\n */\nfunction map(collection, fn) {\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    result.push(fn(val, key));\n  });\n\n  return result;\n}\n\n\n/**\n * Get the collections keys.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction keys(collection) {\n  return collection && Object.keys(collection) || [];\n}\n\n\n/**\n * Shorthand for `keys(o).length`.\n *\n * @param  {Object|Array} collection\n *\n * @return {Number}\n */\nfunction size(collection) {\n  return keys(collection).length;\n}\n\n\n/**\n * Get the values in the collection.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction values(collection) {\n  return map(collection, (val) => val);\n}\n\n\n/**\n * Group collection members by attribute.\n *\n * @param {Object|Array} collection\n * @param {Extractor} extractor\n *\n * @return {Object} map with { attrValue => [ a, b, c ] }\n */\nfunction groupBy(collection, extractor, grouped = {}) {\n\n  extractor = toExtractor(extractor);\n\n  forEach(collection, function(val) {\n    let discriminator = extractor(val) || '_';\n\n    let group = grouped[discriminator];\n\n    if (!group) {\n      group = grouped[discriminator] = [];\n    }\n\n    group.push(val);\n  });\n\n  return grouped;\n}\n\n\nfunction uniqueBy(extractor, ...collections) {\n\n  extractor = toExtractor(extractor);\n\n  let grouped = {};\n\n  forEach(collections, (c) => groupBy(c, extractor, grouped));\n\n  let result = map(grouped, function(val, key) {\n    return val[0];\n  });\n\n  return result;\n}\n\n\nconst unionBy = uniqueBy;\n\n\n\n/**\n * Sort collection by criteria.\n *\n * @template T\n *\n * @param {Collection<T>} collection\n * @param {Extractor<T, number | string>} extractor\n *\n * @return {Array}\n */\nfunction sortBy(collection, extractor) {\n\n  extractor = toExtractor(extractor);\n\n  let sorted = [];\n\n  forEach(collection, function(value, key) {\n    let disc = extractor(value, key);\n\n    let entry = {\n      d: disc,\n      v: value\n    };\n\n    for (var idx = 0; idx < sorted.length; idx++) {\n      let { d } = sorted[idx];\n\n      if (disc < d) {\n        sorted.splice(idx, 0, entry);\n        return;\n      }\n    }\n\n    // not inserted, append (!)\n    sorted.push(entry);\n  });\n\n  return map(sorted, (e) => e.v);\n}\n\n\n/**\n * Create an object pattern matcher.\n *\n * @example\n *\n * ```javascript\n * const matcher = matchPattern({ id: 1 });\n *\n * let element = find(elements, matcher);\n * ```\n *\n * @template T\n *\n * @param {T} pattern\n *\n * @return { (el: any) =>  boolean } matcherFn\n */\nfunction matchPattern(pattern) {\n\n  return function(el) {\n\n    return every(pattern, function(val, key) {\n      return el[key] === val;\n    });\n\n  };\n}\n\n\n/**\n * @param {string | ((e: any) => any) } extractor\n *\n * @return { (e: any) => any }\n */\nfunction toExtractor(extractor) {\n\n  /**\n   * @satisfies { (e: any) => any }\n   */\n  return isFunction(extractor) ? extractor : (e) => {\n\n    // @ts-ignore: just works\n    return e[extractor];\n  };\n}\n\n\n/**\n * @template T\n * @param {Matcher<T>} matcher\n *\n * @return {MatchFn<T>}\n */\nfunction toMatcher(matcher) {\n  return isFunction(matcher) ? matcher : (e) => {\n    return e === matcher;\n  };\n}\n\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction toNum(arg) {\n  return Number(arg);\n}\n\n/* global setTimeout clearTimeout */\n\n/**\n * @typedef { {\n *   (...args: any[]): any;\n *   flush: () => void;\n *   cancel: () => void;\n * } } DebouncedFunction\n */\n\n/**\n * Debounce fn, calling it only once if the given time\n * elapsed between calls.\n *\n * Lodash-style the function exposes methods to `#clear`\n * and `#flush` to control internal behavior.\n *\n * @param  {Function} fn\n * @param  {Number} timeout\n *\n * @return {DebouncedFunction} debounced function\n */\nfunction debounce(fn, timeout) {\n\n  let timer;\n\n  let lastArgs;\n  let lastThis;\n\n  let lastNow;\n\n  function fire(force) {\n\n    let now = Date.now();\n\n    let scheduledDiff = force ? 0 : (lastNow + timeout) - now;\n\n    if (scheduledDiff > 0) {\n      return schedule(scheduledDiff);\n    }\n\n    fn.apply(lastThis, lastArgs);\n\n    clear();\n  }\n\n  function schedule(timeout) {\n    timer = setTimeout(fire, timeout);\n  }\n\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = lastNow = lastArgs = lastThis = undefined;\n  }\n\n  function flush() {\n    if (timer) {\n      fire(true);\n    }\n\n    clear();\n  }\n\n  /**\n   * @type { DebouncedFunction }\n   */\n  function callback(...args) {\n    lastNow = Date.now();\n\n    lastArgs = args;\n    lastThis = this;\n\n    // ensure an execution is scheduled\n    if (!timer) {\n      schedule(timeout);\n    }\n  }\n\n  callback.flush = flush;\n  callback.cancel = clear;\n\n  return callback;\n}\n\n/**\n * Throttle fn, calling at most once\n * in the given interval.\n *\n * @param  {Function} fn\n * @param  {Number} interval\n *\n * @return {Function} throttled function\n */\nfunction throttle(fn, interval) {\n  let throttling = false;\n\n  return function(...args) {\n\n    if (throttling) {\n      return;\n    }\n\n    fn(...args);\n    throttling = true;\n\n    setTimeout(() => {\n      throttling = false;\n    }, interval);\n  };\n}\n\n/**\n * Bind function against target <this>.\n *\n * @param  {Function} fn\n * @param  {Object}   target\n *\n * @return {Function} bound function\n */\nfunction bind(fn, target) {\n  return fn.bind(target);\n}\n\n/**\n * Convenience wrapper for `Object.assign`.\n *\n * @param {Object} target\n * @param {...Object} others\n *\n * @return {Object} the target\n */\nfunction assign(target, ...others) {\n  return Object.assign(target, ...others);\n}\n\n/**\n * Sets a nested property of a given object to the specified value.\n *\n * This mutates the object and returns it.\n *\n * @template T\n *\n * @param {T} target The target of the set operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} value The value to set.\n *\n * @return {T}\n */\nfunction set(target, path, value) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key, idx) {\n\n    if (typeof key !== 'number' && typeof key !== 'string') {\n      throw new Error('illegal key type: ' + typeof key + '. Key should be of type number or string.');\n    }\n\n    if (key === 'constructor') {\n      throw new Error('illegal key: constructor');\n    }\n\n    if (key === '__proto__') {\n      throw new Error('illegal key: __proto__');\n    }\n\n    let nextKey = path[idx + 1];\n    let nextTarget = currentTarget[key];\n\n    if (isDefined(nextKey) && isNil(nextTarget)) {\n      nextTarget = currentTarget[key] = isNaN(+nextKey) ? {} : [];\n    }\n\n    if (isUndefined(nextKey)) {\n      if (isUndefined(value)) {\n        delete currentTarget[key];\n      } else {\n        currentTarget[key] = value;\n      }\n    } else {\n      currentTarget = nextTarget;\n    }\n  });\n\n  return target;\n}\n\n\n/**\n * Gets a nested property of a given object.\n *\n * @param {Object} target The target of the get operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} [defaultValue] The value to return if no value exists.\n *\n * @return {any}\n */\nfunction get(target, path, defaultValue) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key) {\n\n    // accessing nil property yields <undefined>\n    if (isNil(currentTarget)) {\n      currentTarget = undefined;\n\n      return false;\n    }\n\n    currentTarget = currentTarget[key];\n  });\n\n  return isUndefined(currentTarget) ? defaultValue : currentTarget;\n}\n\n/**\n * Pick properties from the given target.\n *\n * @template T\n * @template {any[]} V\n *\n * @param {T} target\n * @param {V} properties\n *\n * @return Pick<T, V>\n */\nfunction pick(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(properties, function(prop) {\n\n    if (prop in obj) {\n      result[prop] = target[prop];\n    }\n  });\n\n  return result;\n}\n\n/**\n * Pick all target properties, excluding the given ones.\n *\n * @template T\n * @template {any[]} V\n *\n * @param {T} target\n * @param {V} properties\n *\n * @return {Omit<T, V>} target\n */\nfunction omit(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(obj, function(prop, key) {\n\n    if (properties.indexOf(key) === -1) {\n      result[key] = prop;\n    }\n  });\n\n  return result;\n}\n\n/**\n * Recursively merge `...sources` into given target.\n *\n * Does support merging objects; does not support merging arrays.\n *\n * @param {Object} target\n * @param {...Object} sources\n *\n * @return {Object} the target\n */\nfunction merge(target, ...sources) {\n\n  if (!sources.length) {\n    return target;\n  }\n\n  forEach(sources, function(source) {\n\n    // skip non-obj sources, i.e. null\n    if (!source || !isObject(source)) {\n      return;\n    }\n\n    forEach(source, function(sourceVal, key) {\n\n      if (key === '__proto__') {\n        return;\n      }\n\n      let targetVal = target[key];\n\n      if (isObject(sourceVal)) {\n\n        if (!isObject(targetVal)) {\n\n          // override target[key] with object\n          targetVal = {};\n        }\n\n        target[key] = merge(targetVal, sourceVal);\n      } else {\n        target[key] = sourceVal;\n      }\n\n    });\n  });\n\n  return target;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWluLWRhc2gvZGlzdC9pbmRleC5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxLQUFLO0FBQ2hCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxPQUFPO0FBQ1A7OztBQUdBO0FBQ0E7QUFDQSxjQUFjLGdDQUFnQztBQUM5Qzs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0IscUJBQXFCO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0IscUJBQXFCO0FBQ3JDOztBQUVBO0FBQ0E7QUFDQSxjQUFjLDREQUE0RDtBQUMxRTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyw2Q0FBNkM7QUFDM0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0EsWUFBWSxLQUFLO0FBQ2pCO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7OztBQUdBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixZQUFZLDBGQUEwRjtBQUN0RztBQUNBLFlBQVksR0FBRztBQUNmO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixXQUFXLFlBQVk7QUFDdkI7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixXQUFXLHdDQUF3QztBQUNuRCxXQUFXLEdBQUc7QUFDZDtBQUNBLFlBQVksR0FBRztBQUNmO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsWUFBWSxVQUFVO0FBQ3RCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUIsWUFBWSxVQUFVO0FBQ3RCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdCQUFnQjtBQUM1QixZQUFZLFVBQVU7QUFDdEI7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxXQUFXO0FBQ3RCO0FBQ0EsWUFBWSxRQUFRLFdBQVc7QUFDL0I7QUFDQSxvREFBb0Q7O0FBRXBEOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOzs7QUFHQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVywrQkFBK0I7QUFDMUM7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixxQkFBcUI7QUFDM0MsWUFBWSxJQUFJOztBQUVoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxPQUFPO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkO0FBQ0EsYUFBYSx3QkFBd0I7QUFDckM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOzs7QUFHQTtBQUNBLFdBQVcsNkJBQTZCO0FBQ3hDO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QixZQUFZLFFBQVE7QUFDcEI7QUFDQSxZQUFZLG1CQUFtQjtBQUMvQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QixZQUFZLFFBQVE7QUFDcEI7QUFDQSxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFVBQVU7QUFDdEIsWUFBWSxVQUFVO0FBQ3RCO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFdBQVc7QUFDdEI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLG1CQUFtQjtBQUM5QixXQUFXLEtBQUs7QUFDaEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsNkRBQTZEO0FBQzdEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLG1CQUFtQjtBQUM5QixXQUFXLEtBQUs7QUFDaEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsR0FBRztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsR0FBRztBQUNkO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFdBQVc7QUFDdEI7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7O0FBRWlVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbm9kZV9tb2R1bGVzL21pbi1kYXNoL2Rpc3QvaW5kZXguZXNtLmpzPzE3ZmIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGbGF0dGVuIGFycmF5LCBvbmUgbGV2ZWwgZGVlcC5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICpcbiAqIEBwYXJhbSB7VFtdW10gfCBUW10gfCBudWxsfSBbYXJyXVxuICpcbiAqIEByZXR1cm4ge1RbXX1cbiAqL1xuZnVuY3Rpb24gZmxhdHRlbihhcnIpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sIGFycik7XG59XG5cbmNvbnN0IG5hdGl2ZVRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmNvbnN0IG5hdGl2ZUhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQob2JqKSB7XG4gIHJldHVybiBvYmogPT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gaXNEZWZpbmVkKG9iaikge1xuICByZXR1cm4gb2JqICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzTmlsKG9iaikge1xuICByZXR1cm4gb2JqID09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXkob2JqKSB7XG4gIHJldHVybiBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICByZXR1cm4gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIob2JqKSB7XG4gIHJldHVybiBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55fSBvYmpcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKG9iaikge1xuICBjb25zdCB0YWcgPSBuYXRpdmVUb1N0cmluZy5jYWxsKG9iaik7XG5cbiAgcmV0dXJuIChcbiAgICB0YWcgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHxcbiAgICB0YWcgPT09ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyB8fFxuICAgIHRhZyA9PT0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyB8fFxuICAgIHRhZyA9PT0gJ1tvYmplY3QgQXN5bmNHZW5lcmF0b3JGdW5jdGlvbl0nIHx8XG4gICAgdGFnID09PSAnW29iamVjdCBQcm94eV0nXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuICByZXR1cm4gbmF0aXZlVG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBTdHJpbmddJztcbn1cblxuXG4vKipcbiAqIEVuc3VyZSBjb2xsZWN0aW9uIGlzIGFuIGFycmF5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqL1xuZnVuY3Rpb24gZW5zdXJlQXJyYXkob2JqKSB7XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcignbXVzdCBzdXBwbHkgYXJyYXknKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSwgaWYgdGFyZ2V0IG93bnMgYSBwcm9wZXJ0eSB3aXRoIHRoZSBnaXZlbiBrZXkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGhhcyh0YXJnZXQsIGtleSkge1xuICByZXR1cm4gbmF0aXZlSGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIGtleSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHsgKFxuICogICAoKGU6IFQpID0+IGJvb2xlYW4pIHxcbiAqICAgKChlOiBULCBpZHg6IG51bWJlcikgPT4gYm9vbGVhbikgfFxuICogICAoKGU6IFQsIGtleTogc3RyaW5nKSA9PiBib29sZWFuKSB8XG4gKiAgIHN0cmluZyB8XG4gKiAgIG51bWJlclxuICogKSB9IE1hdGNoZXJcbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUgVVxuICpcbiAqIEB0eXBlZGVmIHsgKFxuICogICAoKGU6IFQpID0+IFUpIHwgc3RyaW5nIHwgbnVtYmVyXG4gKiApIH0gRXh0cmFjdG9yXG4gKi9cblxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7ICh2YWw6IFQsIGtleTogYW55KSA9PiBib29sZWFuIH0gTWF0Y2hGblxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHsgVFtdIH0gQXJyYXlDb2xsZWN0aW9uXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHR5cGVkZWYgeyB7IFtrZXk6IHN0cmluZ106IFQgfSB9IFN0cmluZ0tleVZhbHVlQ29sbGVjdGlvblxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHsgeyBba2V5OiBudW1iZXJdOiBUIH0gfSBOdW1iZXJLZXlWYWx1ZUNvbGxlY3Rpb25cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdHlwZWRlZiB7IFN0cmluZ0tleVZhbHVlQ29sbGVjdGlvbjxUPiB8IE51bWJlcktleVZhbHVlQ29sbGVjdGlvbjxUPiB9IEtleVZhbHVlQ29sbGVjdGlvblxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0eXBlZGVmIHsgS2V5VmFsdWVDb2xsZWN0aW9uPFQ+IHwgQXJyYXlDb2xsZWN0aW9uPFQ+IH0gQ29sbGVjdGlvblxuICovXG5cbi8qKlxuICogRmluZCBlbGVtZW50IGluIGNvbGxlY3Rpb24uXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7Q29sbGVjdGlvbjxUPn0gY29sbGVjdGlvblxuICogQHBhcmFtIHtNYXRjaGVyPFQ+fSBtYXRjaGVyXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBmaW5kKGNvbGxlY3Rpb24sIG1hdGNoZXIpIHtcblxuICBjb25zdCBtYXRjaEZuID0gdG9NYXRjaGVyKG1hdGNoZXIpO1xuXG4gIGxldCBtYXRjaDtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgaWYgKG1hdGNoRm4odmFsLCBrZXkpKSB7XG4gICAgICBtYXRjaCA9IHZhbDtcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIG1hdGNoO1xuXG59XG5cblxuLyoqXG4gKiBGaW5kIGVsZW1lbnQgaW5kZXggaW4gY29sbGVjdGlvbi5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtDb2xsZWN0aW9uPFQ+fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0ge01hdGNoZXI8VD59IG1hdGNoZXJcbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGZpbmRJbmRleChjb2xsZWN0aW9uLCBtYXRjaGVyKSB7XG5cbiAgY29uc3QgbWF0Y2hGbiA9IHRvTWF0Y2hlcihtYXRjaGVyKTtcblxuICBsZXQgaWR4ID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IC0xIDogdW5kZWZpbmVkO1xuXG4gIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICBpZiAobWF0Y2hGbih2YWwsIGtleSkpIHtcbiAgICAgIGlkeCA9IGtleTtcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGlkeDtcbn1cblxuXG4vKipcbiAqIEZpbHRlciBlbGVtZW50cyBpbiBjb2xsZWN0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge0NvbGxlY3Rpb248VD59IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7TWF0Y2hlcjxUPn0gbWF0Y2hlclxuICpcbiAqIEByZXR1cm4ge1RbXX0gcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLCBtYXRjaGVyKSB7XG5cbiAgY29uc3QgbWF0Y2hGbiA9IHRvTWF0Y2hlcihtYXRjaGVyKTtcblxuICBsZXQgcmVzdWx0ID0gW107XG5cbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgIGlmIChtYXRjaEZuKHZhbCwga2V5KSkge1xuICAgICAgcmVzdWx0LnB1c2godmFsKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgY29sbGVjdGlvbjsgcmV0dXJuaW5nIHNvbWV0aGluZ1xuICogKG5vbi11bmRlZmluZWQpIHdpbGwgc3RvcCBpdGVyYXRpb24uXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7Q29sbGVjdGlvbjxUPn0gY29sbGVjdGlvblxuICogQHBhcmFtIHsgKChpdGVtOiBULCBpZHg6IG51bWJlcikgPT4gKGJvb2xlYW58dm9pZCkpIHwgKChpdGVtOiBULCBrZXk6IHN0cmluZykgPT4gKGJvb2xlYW58dm9pZCkpIH0gaXRlcmF0b3JcbiAqXG4gKiBAcmV0dXJuIHtUfSByZXR1cm4gcmVzdWx0IHRoYXQgc3RvcHBlZCB0aGUgaXRlcmF0aW9uXG4gKi9cbmZ1bmN0aW9uIGZvckVhY2goY29sbGVjdGlvbiwgaXRlcmF0b3IpIHtcblxuICBsZXQgdmFsLFxuICAgICAgcmVzdWx0O1xuXG4gIGlmIChpc1VuZGVmaW5lZChjb2xsZWN0aW9uKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNvbnZlcnRLZXkgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gdG9OdW0gOiBpZGVudGl0eTtcblxuICBmb3IgKGxldCBrZXkgaW4gY29sbGVjdGlvbikge1xuXG4gICAgaWYgKGhhcyhjb2xsZWN0aW9uLCBrZXkpKSB7XG4gICAgICB2YWwgPSBjb2xsZWN0aW9uW2tleV07XG5cbiAgICAgIHJlc3VsdCA9IGl0ZXJhdG9yKHZhbCwgY29udmVydEtleShrZXkpKTtcblxuICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gY29sbGVjdGlvbiB3aXRob3V0IGVsZW1lbnQuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7QXJyYXlDb2xsZWN0aW9uPFQ+fSBhcnJcbiAqIEBwYXJhbSB7TWF0Y2hlcjxUPn0gbWF0Y2hlclxuICpcbiAqIEByZXR1cm4ge1RbXX1cbiAqL1xuZnVuY3Rpb24gd2l0aG91dChhcnIsIG1hdGNoZXIpIHtcblxuICBpZiAoaXNVbmRlZmluZWQoYXJyKSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGVuc3VyZUFycmF5KGFycik7XG5cbiAgY29uc3QgbWF0Y2hGbiA9IHRvTWF0Y2hlcihtYXRjaGVyKTtcblxuICByZXR1cm4gYXJyLmZpbHRlcihmdW5jdGlvbihlbCwgaWR4KSB7XG4gICAgcmV0dXJuICFtYXRjaEZuKGVsLCBpZHgpO1xuICB9KTtcblxufVxuXG5cbi8qKlxuICogUmVkdWNlIGNvbGxlY3Rpb24sIHJldHVybmluZyBhIHNpbmdsZSByZXN1bHQuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSBWXG4gKlxuICogQHBhcmFtIHtDb2xsZWN0aW9uPFQ+fSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0geyhyZXN1bHQ6IFYsIGVudHJ5OiBULCBpbmRleDogYW55KSA9PiBWfSBpdGVyYXRvclxuICogQHBhcmFtIHtWfSByZXN1bHRcbiAqXG4gKiBAcmV0dXJuIHtWfSByZXN1bHQgcmV0dXJuZWQgZnJvbSBsYXN0IGl0ZXJhdG9yXG4gKi9cbmZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRvciwgcmVzdWx0KSB7XG5cbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaWR4KSB7XG4gICAgcmVzdWx0ID0gaXRlcmF0b3IocmVzdWx0LCB2YWx1ZSwgaWR4KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG4vKipcbiAqIFJldHVybiB0cnVlIGlmIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIGNvbGxlY3Rpb25cbiAqIG1hdGNoZXMgdGhlIGNyaXRlcmlhLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb259IG1hdGNoZXJcbiAqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBldmVyeShjb2xsZWN0aW9uLCBtYXRjaGVyKSB7XG5cbiAgcmV0dXJuICEhcmVkdWNlKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKG1hdGNoZXMsIHZhbCwga2V5KSB7XG4gICAgcmV0dXJuIG1hdGNoZXMgJiYgbWF0Y2hlcih2YWwsIGtleSk7XG4gIH0sIHRydWUpO1xufVxuXG5cbi8qKlxuICogUmV0dXJuIHRydWUgaWYgc29tZSBlbGVtZW50cyBpbiB0aGUgY29sbGVjdGlvblxuICogbWF0Y2ggdGhlIGNyaXRlcmlhLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICogQHBhcmFtICB7RnVuY3Rpb259IG1hdGNoZXJcbiAqXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBzb21lKGNvbGxlY3Rpb24sIG1hdGNoZXIpIHtcblxuICByZXR1cm4gISFmaW5kKGNvbGxlY3Rpb24sIG1hdGNoZXIpO1xufVxuXG5cbi8qKlxuICogVHJhbnNmb3JtIGEgY29sbGVjdGlvbiBpbnRvIGFub3RoZXIgY29sbGVjdGlvblxuICogYnkgcGlwaW5nIGVhY2ggbWVtYmVyIHRocm91Z2ggdGhlIGdpdmVuIGZuLlxuICpcbiAqIEBwYXJhbSAge09iamVjdHxBcnJheX0gICBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm5cbiAqXG4gKiBAcmV0dXJuIHtBcnJheX0gdHJhbnNmb3JtZWQgY29sbGVjdGlvblxuICovXG5mdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgZm4pIHtcblxuICBsZXQgcmVzdWx0ID0gW107XG5cbiAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgIHJlc3VsdC5wdXNoKGZuKHZhbCwga2V5KSk7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIGNvbGxlY3Rpb25zIGtleXMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fEFycmF5fSBjb2xsZWN0aW9uXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIGtleXMoY29sbGVjdGlvbikge1xuICByZXR1cm4gY29sbGVjdGlvbiAmJiBPYmplY3Qua2V5cyhjb2xsZWN0aW9uKSB8fCBbXTtcbn1cblxuXG4vKipcbiAqIFNob3J0aGFuZCBmb3IgYGtleXMobykubGVuZ3RoYC5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9IGNvbGxlY3Rpb25cbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICByZXR1cm4ga2V5cyhjb2xsZWN0aW9uKS5sZW5ndGg7XG59XG5cblxuLyoqXG4gKiBHZXQgdGhlIHZhbHVlcyBpbiB0aGUgY29sbGVjdGlvbi5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R8QXJyYXl9IGNvbGxlY3Rpb25cbiAqXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gdmFsdWVzKGNvbGxlY3Rpb24pIHtcbiAgcmV0dXJuIG1hcChjb2xsZWN0aW9uLCAodmFsKSA9PiB2YWwpO1xufVxuXG5cbi8qKlxuICogR3JvdXAgY29sbGVjdGlvbiBtZW1iZXJzIGJ5IGF0dHJpYnV0ZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gY29sbGVjdGlvblxuICogQHBhcmFtIHtFeHRyYWN0b3J9IGV4dHJhY3RvclxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gbWFwIHdpdGggeyBhdHRyVmFsdWUgPT4gWyBhLCBiLCBjIF0gfVxuICovXG5mdW5jdGlvbiBncm91cEJ5KGNvbGxlY3Rpb24sIGV4dHJhY3RvciwgZ3JvdXBlZCA9IHt9KSB7XG5cbiAgZXh0cmFjdG9yID0gdG9FeHRyYWN0b3IoZXh0cmFjdG9yKTtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbCkge1xuICAgIGxldCBkaXNjcmltaW5hdG9yID0gZXh0cmFjdG9yKHZhbCkgfHwgJ18nO1xuXG4gICAgbGV0IGdyb3VwID0gZ3JvdXBlZFtkaXNjcmltaW5hdG9yXTtcblxuICAgIGlmICghZ3JvdXApIHtcbiAgICAgIGdyb3VwID0gZ3JvdXBlZFtkaXNjcmltaW5hdG9yXSA9IFtdO1xuICAgIH1cblxuICAgIGdyb3VwLnB1c2godmFsKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGdyb3VwZWQ7XG59XG5cblxuZnVuY3Rpb24gdW5pcXVlQnkoZXh0cmFjdG9yLCAuLi5jb2xsZWN0aW9ucykge1xuXG4gIGV4dHJhY3RvciA9IHRvRXh0cmFjdG9yKGV4dHJhY3Rvcik7XG5cbiAgbGV0IGdyb3VwZWQgPSB7fTtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb25zLCAoYykgPT4gZ3JvdXBCeShjLCBleHRyYWN0b3IsIGdyb3VwZWQpKTtcblxuICBsZXQgcmVzdWx0ID0gbWFwKGdyb3VwZWQsIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgcmV0dXJuIHZhbFswXTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG5jb25zdCB1bmlvbkJ5ID0gdW5pcXVlQnk7XG5cblxuXG4vKipcbiAqIFNvcnQgY29sbGVjdGlvbiBieSBjcml0ZXJpYS5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICpcbiAqIEBwYXJhbSB7Q29sbGVjdGlvbjxUPn0gY29sbGVjdGlvblxuICogQHBhcmFtIHtFeHRyYWN0b3I8VCwgbnVtYmVyIHwgc3RyaW5nPn0gZXh0cmFjdG9yXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHNvcnRCeShjb2xsZWN0aW9uLCBleHRyYWN0b3IpIHtcblxuICBleHRyYWN0b3IgPSB0b0V4dHJhY3RvcihleHRyYWN0b3IpO1xuXG4gIGxldCBzb3J0ZWQgPSBbXTtcblxuICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICBsZXQgZGlzYyA9IGV4dHJhY3Rvcih2YWx1ZSwga2V5KTtcblxuICAgIGxldCBlbnRyeSA9IHtcbiAgICAgIGQ6IGRpc2MsXG4gICAgICB2OiB2YWx1ZVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBzb3J0ZWQubGVuZ3RoOyBpZHgrKykge1xuICAgICAgbGV0IHsgZCB9ID0gc29ydGVkW2lkeF07XG5cbiAgICAgIGlmIChkaXNjIDwgZCkge1xuICAgICAgICBzb3J0ZWQuc3BsaWNlKGlkeCwgMCwgZW50cnkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm90IGluc2VydGVkLCBhcHBlbmQgKCEpXG4gICAgc29ydGVkLnB1c2goZW50cnkpO1xuICB9KTtcblxuICByZXR1cm4gbWFwKHNvcnRlZCwgKGUpID0+IGUudik7XG59XG5cblxuLyoqXG4gKiBDcmVhdGUgYW4gb2JqZWN0IHBhdHRlcm4gbWF0Y2hlci5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IG1hdGNoZXIgPSBtYXRjaFBhdHRlcm4oeyBpZDogMSB9KTtcbiAqXG4gKiBsZXQgZWxlbWVudCA9IGZpbmQoZWxlbWVudHMsIG1hdGNoZXIpO1xuICogYGBgXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqXG4gKiBAcGFyYW0ge1R9IHBhdHRlcm5cbiAqXG4gKiBAcmV0dXJuIHsgKGVsOiBhbnkpID0+ICBib29sZWFuIH0gbWF0Y2hlckZuXG4gKi9cbmZ1bmN0aW9uIG1hdGNoUGF0dGVybihwYXR0ZXJuKSB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGVsKSB7XG5cbiAgICByZXR1cm4gZXZlcnkocGF0dGVybiwgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICAgIHJldHVybiBlbFtrZXldID09PSB2YWw7XG4gICAgfSk7XG5cbiAgfTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nIHwgKChlOiBhbnkpID0+IGFueSkgfSBleHRyYWN0b3JcbiAqXG4gKiBAcmV0dXJuIHsgKGU6IGFueSkgPT4gYW55IH1cbiAqL1xuZnVuY3Rpb24gdG9FeHRyYWN0b3IoZXh0cmFjdG9yKSB7XG5cbiAgLyoqXG4gICAqIEBzYXRpc2ZpZXMgeyAoZTogYW55KSA9PiBhbnkgfVxuICAgKi9cbiAgcmV0dXJuIGlzRnVuY3Rpb24oZXh0cmFjdG9yKSA/IGV4dHJhY3RvciA6IChlKSA9PiB7XG5cbiAgICAvLyBAdHMtaWdub3JlOiBqdXN0IHdvcmtzXG4gICAgcmV0dXJuIGVbZXh0cmFjdG9yXTtcbiAgfTtcbn1cblxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge01hdGNoZXI8VD59IG1hdGNoZXJcbiAqXG4gKiBAcmV0dXJuIHtNYXRjaEZuPFQ+fVxuICovXG5mdW5jdGlvbiB0b01hdGNoZXIobWF0Y2hlcikge1xuICByZXR1cm4gaXNGdW5jdGlvbihtYXRjaGVyKSA/IG1hdGNoZXIgOiAoZSkgPT4ge1xuICAgIHJldHVybiBlID09PSBtYXRjaGVyO1xuICB9O1xufVxuXG5cbmZ1bmN0aW9uIGlkZW50aXR5KGFyZykge1xuICByZXR1cm4gYXJnO1xufVxuXG5mdW5jdGlvbiB0b051bShhcmcpIHtcbiAgcmV0dXJuIE51bWJlcihhcmcpO1xufVxuXG4vKiBnbG9iYWwgc2V0VGltZW91dCBjbGVhclRpbWVvdXQgKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7IHtcbiAqICAgKC4uLmFyZ3M6IGFueVtdKTogYW55O1xuICogICBmbHVzaDogKCkgPT4gdm9pZDtcbiAqICAgY2FuY2VsOiAoKSA9PiB2b2lkO1xuICogfSB9IERlYm91bmNlZEZ1bmN0aW9uXG4gKi9cblxuLyoqXG4gKiBEZWJvdW5jZSBmbiwgY2FsbGluZyBpdCBvbmx5IG9uY2UgaWYgdGhlIGdpdmVuIHRpbWVcbiAqIGVsYXBzZWQgYmV0d2VlbiBjYWxscy5cbiAqXG4gKiBMb2Rhc2gtc3R5bGUgdGhlIGZ1bmN0aW9uIGV4cG9zZXMgbWV0aG9kcyB0byBgI2NsZWFyYFxuICogYW5kIGAjZmx1c2hgIHRvIGNvbnRyb2wgaW50ZXJuYWwgYmVoYXZpb3IuXG4gKlxuICogQHBhcmFtICB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHRpbWVvdXRcbiAqXG4gKiBAcmV0dXJuIHtEZWJvdW5jZWRGdW5jdGlvbn0gZGVib3VuY2VkIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGRlYm91bmNlKGZuLCB0aW1lb3V0KSB7XG5cbiAgbGV0IHRpbWVyO1xuXG4gIGxldCBsYXN0QXJncztcbiAgbGV0IGxhc3RUaGlzO1xuXG4gIGxldCBsYXN0Tm93O1xuXG4gIGZ1bmN0aW9uIGZpcmUoZm9yY2UpIHtcblxuICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgbGV0IHNjaGVkdWxlZERpZmYgPSBmb3JjZSA/IDAgOiAobGFzdE5vdyArIHRpbWVvdXQpIC0gbm93O1xuXG4gICAgaWYgKHNjaGVkdWxlZERpZmYgPiAwKSB7XG4gICAgICByZXR1cm4gc2NoZWR1bGUoc2NoZWR1bGVkRGlmZik7XG4gICAgfVxuXG4gICAgZm4uYXBwbHkobGFzdFRoaXMsIGxhc3RBcmdzKTtcblxuICAgIGNsZWFyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzY2hlZHVsZSh0aW1lb3V0KSB7XG4gICAgdGltZXIgPSBzZXRUaW1lb3V0KGZpcmUsIHRpbWVvdXQpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgaWYgKHRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIH1cblxuICAgIHRpbWVyID0gbGFzdE5vdyA9IGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIGZpcmUodHJ1ZSk7XG4gICAgfVxuXG4gICAgY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7IERlYm91bmNlZEZ1bmN0aW9uIH1cbiAgICovXG4gIGZ1bmN0aW9uIGNhbGxiYWNrKC4uLmFyZ3MpIHtcbiAgICBsYXN0Tm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGxhc3RBcmdzID0gYXJncztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG5cbiAgICAvLyBlbnN1cmUgYW4gZXhlY3V0aW9uIGlzIHNjaGVkdWxlZFxuICAgIGlmICghdGltZXIpIHtcbiAgICAgIHNjaGVkdWxlKHRpbWVvdXQpO1xuICAgIH1cbiAgfVxuXG4gIGNhbGxiYWNrLmZsdXNoID0gZmx1c2g7XG4gIGNhbGxiYWNrLmNhbmNlbCA9IGNsZWFyO1xuXG4gIHJldHVybiBjYWxsYmFjaztcbn1cblxuLyoqXG4gKiBUaHJvdHRsZSBmbiwgY2FsbGluZyBhdCBtb3N0IG9uY2VcbiAqIGluIHRoZSBnaXZlbiBpbnRlcnZhbC5cbiAqXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSAge051bWJlcn0gaW50ZXJ2YWxcbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhyb3R0bGVkIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIHRocm90dGxlKGZuLCBpbnRlcnZhbCkge1xuICBsZXQgdGhyb3R0bGluZyA9IGZhbHNlO1xuXG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG5cbiAgICBpZiAodGhyb3R0bGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZuKC4uLmFyZ3MpO1xuICAgIHRocm90dGxpbmcgPSB0cnVlO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aHJvdHRsaW5nID0gZmFsc2U7XG4gICAgfSwgaW50ZXJ2YWwpO1xuICB9O1xufVxuXG4vKipcbiAqIEJpbmQgZnVuY3Rpb24gYWdhaW5zdCB0YXJnZXQgPHRoaXM+LlxuICpcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtICB7T2JqZWN0fSAgIHRhcmdldFxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBib3VuZCBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBiaW5kKGZuLCB0YXJnZXQpIHtcbiAgcmV0dXJuIGZuLmJpbmQodGFyZ2V0KTtcbn1cblxuLyoqXG4gKiBDb252ZW5pZW5jZSB3cmFwcGVyIGZvciBgT2JqZWN0LmFzc2lnbmAuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IG90aGVyc1xuICpcbiAqIEByZXR1cm4ge09iamVjdH0gdGhlIHRhcmdldFxuICovXG5mdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCAuLi5vdGhlcnMpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24odGFyZ2V0LCAuLi5vdGhlcnMpO1xufVxuXG4vKipcbiAqIFNldHMgYSBuZXN0ZWQgcHJvcGVydHkgb2YgYSBnaXZlbiBvYmplY3QgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZS5cbiAqXG4gKiBUaGlzIG11dGF0ZXMgdGhlIG9iamVjdCBhbmQgcmV0dXJucyBpdC5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICpcbiAqIEBwYXJhbSB7VH0gdGFyZ2V0IFRoZSB0YXJnZXQgb2YgdGhlIHNldCBvcGVyYXRpb24uXG4gKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKVtdfSBwYXRoIFRoZSBwYXRoIHRvIHRoZSBuZXN0ZWQgdmFsdWUuXG4gKiBAcGFyYW0ge2FueX0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqXG4gKiBAcmV0dXJuIHtUfVxuICovXG5mdW5jdGlvbiBzZXQodGFyZ2V0LCBwYXRoLCB2YWx1ZSkge1xuXG4gIGxldCBjdXJyZW50VGFyZ2V0ID0gdGFyZ2V0O1xuXG4gIGZvckVhY2gocGF0aCwgZnVuY3Rpb24oa2V5LCBpZHgpIHtcblxuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnbnVtYmVyJyAmJiB0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbGxlZ2FsIGtleSB0eXBlOiAnICsgdHlwZW9mIGtleSArICcuIEtleSBzaG91bGQgYmUgb2YgdHlwZSBudW1iZXIgb3Igc3RyaW5nLicpO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaWxsZWdhbCBrZXk6IGNvbnN0cnVjdG9yJyk7XG4gICAgfVxuXG4gICAgaWYgKGtleSA9PT0gJ19fcHJvdG9fXycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaWxsZWdhbCBrZXk6IF9fcHJvdG9fXycpO1xuICAgIH1cblxuICAgIGxldCBuZXh0S2V5ID0gcGF0aFtpZHggKyAxXTtcbiAgICBsZXQgbmV4dFRhcmdldCA9IGN1cnJlbnRUYXJnZXRba2V5XTtcblxuICAgIGlmIChpc0RlZmluZWQobmV4dEtleSkgJiYgaXNOaWwobmV4dFRhcmdldCkpIHtcbiAgICAgIG5leHRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0W2tleV0gPSBpc05hTigrbmV4dEtleSkgPyB7fSA6IFtdO1xuICAgIH1cblxuICAgIGlmIChpc1VuZGVmaW5lZChuZXh0S2V5KSkge1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICBkZWxldGUgY3VycmVudFRhcmdldFtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRUYXJnZXQgPSBuZXh0VGFyZ2V0O1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuXG4vKipcbiAqIEdldHMgYSBuZXN0ZWQgcHJvcGVydHkgb2YgYSBnaXZlbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUaGUgdGFyZ2V0IG9mIHRoZSBnZXQgb3BlcmF0aW9uLlxuICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcilbXX0gcGF0aCBUaGUgcGF0aCB0byB0aGUgbmVzdGVkIHZhbHVlLlxuICogQHBhcmFtIHthbnl9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSB0byByZXR1cm4gaWYgbm8gdmFsdWUgZXhpc3RzLlxuICpcbiAqIEByZXR1cm4ge2FueX1cbiAqL1xuZnVuY3Rpb24gZ2V0KHRhcmdldCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG5cbiAgbGV0IGN1cnJlbnRUYXJnZXQgPSB0YXJnZXQ7XG5cbiAgZm9yRWFjaChwYXRoLCBmdW5jdGlvbihrZXkpIHtcblxuICAgIC8vIGFjY2Vzc2luZyBuaWwgcHJvcGVydHkgeWllbGRzIDx1bmRlZmluZWQ+XG4gICAgaWYgKGlzTmlsKGN1cnJlbnRUYXJnZXQpKSB7XG4gICAgICBjdXJyZW50VGFyZ2V0ID0gdW5kZWZpbmVkO1xuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXRba2V5XTtcbiAgfSk7XG5cbiAgcmV0dXJuIGlzVW5kZWZpbmVkKGN1cnJlbnRUYXJnZXQpID8gZGVmYXVsdFZhbHVlIDogY3VycmVudFRhcmdldDtcbn1cblxuLyoqXG4gKiBQaWNrIHByb3BlcnRpZXMgZnJvbSB0aGUgZ2l2ZW4gdGFyZ2V0LlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUge2FueVtdfSBWXG4gKlxuICogQHBhcmFtIHtUfSB0YXJnZXRcbiAqIEBwYXJhbSB7Vn0gcHJvcGVydGllc1xuICpcbiAqIEByZXR1cm4gUGljazxULCBWPlxuICovXG5mdW5jdGlvbiBwaWNrKHRhcmdldCwgcHJvcGVydGllcykge1xuXG4gIGxldCByZXN1bHQgPSB7fTtcblxuICBsZXQgb2JqID0gT2JqZWN0KHRhcmdldCk7XG5cbiAgZm9yRWFjaChwcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wKSB7XG5cbiAgICBpZiAocHJvcCBpbiBvYmopIHtcbiAgICAgIHJlc3VsdFtwcm9wXSA9IHRhcmdldFtwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUGljayBhbGwgdGFyZ2V0IHByb3BlcnRpZXMsIGV4Y2x1ZGluZyB0aGUgZ2l2ZW4gb25lcy5cbiAqXG4gKiBAdGVtcGxhdGUgVFxuICogQHRlbXBsYXRlIHthbnlbXX0gVlxuICpcbiAqIEBwYXJhbSB7VH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1Z9IHByb3BlcnRpZXNcbiAqXG4gKiBAcmV0dXJuIHtPbWl0PFQsIFY+fSB0YXJnZXRcbiAqL1xuZnVuY3Rpb24gb21pdCh0YXJnZXQsIHByb3BlcnRpZXMpIHtcblxuICBsZXQgcmVzdWx0ID0ge307XG5cbiAgbGV0IG9iaiA9IE9iamVjdCh0YXJnZXQpO1xuXG4gIGZvckVhY2gob2JqLCBmdW5jdGlvbihwcm9wLCBrZXkpIHtcblxuICAgIGlmIChwcm9wZXJ0aWVzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gcHJvcDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUmVjdXJzaXZlbHkgbWVyZ2UgYC4uLnNvdXJjZXNgIGludG8gZ2l2ZW4gdGFyZ2V0LlxuICpcbiAqIERvZXMgc3VwcG9ydCBtZXJnaW5nIG9iamVjdHM7IGRvZXMgbm90IHN1cHBvcnQgbWVyZ2luZyBhcnJheXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXNcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IHRoZSB0YXJnZXRcbiAqL1xuZnVuY3Rpb24gbWVyZ2UodGFyZ2V0LCAuLi5zb3VyY2VzKSB7XG5cbiAgaWYgKCFzb3VyY2VzLmxlbmd0aCkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cblxuICBmb3JFYWNoKHNvdXJjZXMsIGZ1bmN0aW9uKHNvdXJjZSkge1xuXG4gICAgLy8gc2tpcCBub24tb2JqIHNvdXJjZXMsIGkuZS4gbnVsbFxuICAgIGlmICghc291cmNlIHx8ICFpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yRWFjaChzb3VyY2UsIGZ1bmN0aW9uKHNvdXJjZVZhbCwga2V5KSB7XG5cbiAgICAgIGlmIChrZXkgPT09ICdfX3Byb3RvX18nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGV0IHRhcmdldFZhbCA9IHRhcmdldFtrZXldO1xuXG4gICAgICBpZiAoaXNPYmplY3Qoc291cmNlVmFsKSkge1xuXG4gICAgICAgIGlmICghaXNPYmplY3QodGFyZ2V0VmFsKSkge1xuXG4gICAgICAgICAgLy8gb3ZlcnJpZGUgdGFyZ2V0W2tleV0gd2l0aCBvYmplY3RcbiAgICAgICAgICB0YXJnZXRWYWwgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhcmdldFtrZXldID0gbWVyZ2UodGFyZ2V0VmFsLCBzb3VyY2VWYWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2VWYWw7XG4gICAgICB9XG5cbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZXhwb3J0IHsgYXNzaWduLCBiaW5kLCBkZWJvdW5jZSwgZW5zdXJlQXJyYXksIGV2ZXJ5LCBmaWx0ZXIsIGZpbmQsIGZpbmRJbmRleCwgZmxhdHRlbiwgZm9yRWFjaCwgZ2V0LCBncm91cEJ5LCBoYXMsIGlzQXJyYXksIGlzRGVmaW5lZCwgaXNGdW5jdGlvbiwgaXNOaWwsIGlzTnVtYmVyLCBpc09iamVjdCwgaXNTdHJpbmcsIGlzVW5kZWZpbmVkLCBrZXlzLCBtYXAsIG1hdGNoUGF0dGVybiwgbWVyZ2UsIG9taXQsIHBpY2ssIHJlZHVjZSwgc2V0LCBzaXplLCBzb21lLCBzb3J0QnksIHRocm90dGxlLCB1bmlvbkJ5LCB1bmlxdWVCeSwgdmFsdWVzLCB3aXRob3V0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/min-dash/dist/index.esm.js\n");

/***/ }),

/***/ "./node_modules/min-dom/dist/index.js":
/*!********************************************!*\
  !*** ./node_modules/min-dom/dist/index.js ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assignStyle: () => (/* binding */ assign),\n/* harmony export */   attr: () => (/* binding */ attr),\n/* harmony export */   classes: () => (/* binding */ classes),\n/* harmony export */   clear: () => (/* binding */ clear),\n/* harmony export */   closest: () => (/* binding */ closest),\n/* harmony export */   delegate: () => (/* binding */ delegate),\n/* harmony export */   domify: () => (/* reexport default export from named module */ domify__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   event: () => (/* binding */ event),\n/* harmony export */   matches: () => (/* binding */ matches),\n/* harmony export */   query: () => (/* binding */ query),\n/* harmony export */   queryAll: () => (/* binding */ all),\n/* harmony export */   remove: () => (/* binding */ remove)\n/* harmony export */ });\n/* harmony import */ var min_dash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! min-dash */ \"./node_modules/min-dash/dist/index.esm.js\");\n/* harmony import */ var domify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! domify */ \"./node_modules/min-dom/node_modules/domify/index.js\");\n\n\n\nfunction _mergeNamespaces(n, m) {\n  m.forEach(function (e) {\n    e && typeof e !== 'string' && !Array.isArray(e) && Object.keys(e).forEach(function (k) {\n      if (k !== 'default' && !(k in n)) {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () { return e[k]; }\n        });\n      }\n    });\n  });\n  return Object.freeze(n);\n}\n\n/**\n * Assigns style attributes in a style-src compliant way.\n *\n * @param {Element} element\n * @param {...Object} styleSources\n *\n * @return {Element} the element\n */\nfunction assign(element, ...styleSources) {\n  const target = element.style;\n\n  (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(styleSources, function(style) {\n    if (!style) {\n      return;\n    }\n\n    (0,min_dash__WEBPACK_IMPORTED_MODULE_1__.forEach)(style, function(value, key) {\n      target[key] = value;\n    });\n  });\n\n  return element;\n}\n\n/**\n * Set attribute `name` to `val`, or get attr `name`.\n *\n * @param {Element} el\n * @param {String} name\n * @param {String} [val]\n * @api public\n */\nfunction attr(el, name, val) {\n\n  // get\n  if (arguments.length == 2) {\n    return el.getAttribute(name);\n  }\n\n  // remove\n  if (val === null) {\n    return el.removeAttribute(name);\n  }\n\n  // set\n  el.setAttribute(name, val);\n\n  return el;\n}\n\n/**\n * Taken from https://github.com/component/classes\n *\n * Without the component bits.\n */\n\n/**\n * toString reference.\n */\n\nconst toString = Object.prototype.toString;\n\n/**\n * Wrap `el` in a `ClassList`.\n *\n * @param {Element} el\n * @return {ClassList}\n * @api public\n */\n\nfunction classes(el) {\n  return new ClassList(el);\n}\n\n/**\n * Initialize a new ClassList for `el`.\n *\n * @param {Element} el\n * @api private\n */\n\nfunction ClassList(el) {\n  if (!el || !el.nodeType) {\n    throw new Error('A DOM element reference is required');\n  }\n  this.el = el;\n  this.list = el.classList;\n}\n\n/**\n * Add class `name` if not already present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.add = function(name) {\n  this.list.add(name);\n  return this;\n};\n\n/**\n * Remove class `name` when present, or\n * pass a regular expression to remove\n * any which match.\n *\n * @param {String|RegExp} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.remove = function(name) {\n  if ('[object RegExp]' == toString.call(name)) {\n    return this.removeMatching(name);\n  }\n\n  this.list.remove(name);\n  return this;\n};\n\n/**\n * Remove all classes matching `re`.\n *\n * @param {RegExp} re\n * @return {ClassList}\n * @api private\n */\n\nClassList.prototype.removeMatching = function(re) {\n  const arr = this.array();\n  for (let i = 0; i < arr.length; i++) {\n    if (re.test(arr[i])) {\n      this.remove(arr[i]);\n    }\n  }\n  return this;\n};\n\n/**\n * Toggle class `name`, can force state via `force`.\n *\n * For browsers that support classList, but do not support `force` yet,\n * the mistake will be detected and corrected.\n *\n * @param {String} name\n * @param {Boolean} force\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.toggle = function(name, force) {\n  if ('undefined' !== typeof force) {\n    if (force !== this.list.toggle(name, force)) {\n      this.list.toggle(name); // toggle again to correct\n    }\n  } else {\n    this.list.toggle(name);\n  }\n  return this;\n};\n\n/**\n * Return an array of classes.\n *\n * @return {Array}\n * @api public\n */\n\nClassList.prototype.array = function() {\n  return Array.from(this.list);\n};\n\n/**\n * Check if class `name` is present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.has =\nClassList.prototype.contains = function(name) {\n  return this.list.contains(name);\n};\n\n/**\n * Remove all children from the given element.\n */\nfunction clear(el) {\n\n  var c;\n\n  while (el.childNodes.length) {\n    c = el.childNodes[0];\n    el.removeChild(c);\n  }\n\n  return el;\n}\n\n/**\n * @param { HTMLElement } element\n * @param { String } selector\n *\n * @return { boolean }\n */\nfunction matches(element, selector) {\n  return element && typeof element.matches === 'function' && element.matches(selector);\n}\n\n/**\n * Closest\n *\n * @param {Element} el\n * @param {String} selector\n * @param {Boolean} checkYourSelf (optional)\n */\nfunction closest(element, selector, checkYourSelf) {\n  var currentElem = checkYourSelf ? element : element.parentNode;\n\n  while (currentElem && currentElem.nodeType !== document.DOCUMENT_NODE &&\n      currentElem.nodeType !== document.DOCUMENT_FRAGMENT_NODE) {\n\n    if (matches(currentElem, selector)) {\n      return currentElem;\n    }\n\n    currentElem = currentElem.parentNode;\n  }\n\n  return matches(currentElem, selector) ? currentElem : null;\n}\n\nvar componentEvent = {};\n\nvar bind$1, unbind$1, prefix;\n\nfunction detect () {\n  bind$1 = window.addEventListener ? 'addEventListener' : 'attachEvent';\n  unbind$1 = window.removeEventListener ? 'removeEventListener' : 'detachEvent';\n  prefix = bind$1 !== 'addEventListener' ? 'on' : '';\n}\n\n/**\n * Bind `el` event `type` to `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nvar bind_1 = componentEvent.bind = function(el, type, fn, capture){\n  if (!bind$1) detect();\n  el[bind$1](prefix + type, fn, capture || false);\n  return fn;\n};\n\n/**\n * Unbind `el` event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\nvar unbind_1 = componentEvent.unbind = function(el, type, fn, capture){\n  if (!unbind$1) detect();\n  el[unbind$1](prefix + type, fn, capture || false);\n  return fn;\n};\n\nvar event = /*#__PURE__*/_mergeNamespaces({\n  __proto__: null,\n  bind: bind_1,\n  default: componentEvent,\n  unbind: unbind_1\n}, [componentEvent]);\n\n/**\n * Module dependencies.\n */\n\n\n/**\n * Delegate event `type` to `selector`\n * and invoke `fn(e)`. A callback function\n * is returned which may be passed to `.unbind()`.\n *\n * @param {Element} el\n * @param {String} selector\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @return {Function}\n * @api public\n */\n\n// Some events don't bubble, so we want to bind to the capture phase instead\n// when delegating.\nvar forceCaptureEvents = [ 'focus', 'blur' ];\n\nfunction bind(el, selector, type, fn, capture) {\n  if (forceCaptureEvents.indexOf(type) !== -1) {\n    capture = true;\n  }\n\n  return event.bind(el, type, function(e) {\n    var target = e.target || e.srcElement;\n    e.delegateTarget = closest(target, selector, true);\n    if (e.delegateTarget) {\n      fn.call(el, e);\n    }\n  }, capture);\n}\n\n/**\n * Unbind event `type`'s callback `fn`.\n *\n * @param {Element} el\n * @param {String} type\n * @param {Function} fn\n * @param {Boolean} capture\n * @api public\n */\nfunction unbind(el, type, fn, capture) {\n  if (forceCaptureEvents.indexOf(type) !== -1) {\n    capture = true;\n  }\n\n  return event.unbind(el, type, fn, capture);\n}\n\nvar delegate = {\n  bind,\n  unbind\n};\n\nfunction query(selector, el) {\n  el = el || document;\n\n  return el.querySelector(selector);\n}\n\nfunction all(selector, el) {\n  el = el || document;\n\n  return el.querySelectorAll(selector);\n}\n\nfunction remove(el) {\n  el.parentNode && el.parentNode.removeChild(el);\n}\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWluLWRvbS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW1DO0FBQ1E7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxXQUFXO0FBQ3RCO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLGlEQUFPO0FBQ1Q7QUFDQTtBQUNBOztBQUVBLElBQUksaURBQU87QUFDWDtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFlBQVksY0FBYztBQUMxQixZQUFZLFNBQVM7QUFDckI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsU0FBUztBQUNwQixZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsU0FBUztBQUNwQixZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLFNBQVM7QUFDcEIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRTBIO0FBQzFIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnBtbi1qcy10b2tlbi1zaW11bGF0aW9uLy4vbm9kZV9tb2R1bGVzL21pbi1kb20vZGlzdC9pbmRleC5qcz8wNDkzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZvckVhY2ggfSBmcm9tICdtaW4tZGFzaCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGRvbWlmeSB9IGZyb20gJ2RvbWlmeSc7XG5cbmZ1bmN0aW9uIF9tZXJnZU5hbWVzcGFjZXMobiwgbSkge1xuICBtLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICBlICYmIHR5cGVvZiBlICE9PSAnc3RyaW5nJyAmJiAhQXJyYXkuaXNBcnJheShlKSAmJiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICBpZiAoayAhPT0gJ2RlZmF1bHQnICYmICEoayBpbiBuKSkge1xuICAgICAgICB2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgayk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBrLCBkLmdldCA/IGQgOiB7XG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxuLyoqXG4gKiBBc3NpZ25zIHN0eWxlIGF0dHJpYnV0ZXMgaW4gYSBzdHlsZS1zcmMgY29tcGxpYW50IHdheS5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzdHlsZVNvdXJjZXNcbiAqXG4gKiBAcmV0dXJuIHtFbGVtZW50fSB0aGUgZWxlbWVudFxuICovXG5mdW5jdGlvbiBhc3NpZ24oZWxlbWVudCwgLi4uc3R5bGVTb3VyY2VzKSB7XG4gIGNvbnN0IHRhcmdldCA9IGVsZW1lbnQuc3R5bGU7XG5cbiAgZm9yRWFjaChzdHlsZVNvdXJjZXMsIGZ1bmN0aW9uKHN0eWxlKSB7XG4gICAgaWYgKCFzdHlsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvckVhY2goc3R5bGUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiBlbGVtZW50O1xufVxuXG4vKipcbiAqIFNldCBhdHRyaWJ1dGUgYG5hbWVgIHRvIGB2YWxgLCBvciBnZXQgYXR0ciBgbmFtZWAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfSBbdmFsXVxuICogQGFwaSBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gYXR0cihlbCwgbmFtZSwgdmFsKSB7XG5cbiAgLy8gZ2V0XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDIpIHtcbiAgICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICB9XG5cbiAgLy8gcmVtb3ZlXG4gIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZWwucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9XG5cbiAgLy8gc2V0XG4gIGVsLnNldEF0dHJpYnV0ZShuYW1lLCB2YWwpO1xuXG4gIHJldHVybiBlbDtcbn1cblxuLyoqXG4gKiBUYWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9jb21wb25lbnQvY2xhc3Nlc1xuICpcbiAqIFdpdGhvdXQgdGhlIGNvbXBvbmVudCBiaXRzLlxuICovXG5cbi8qKlxuICogdG9TdHJpbmcgcmVmZXJlbmNlLlxuICovXG5cbmNvbnN0IHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLyoqXG4gKiBXcmFwIGBlbGAgaW4gYSBgQ2xhc3NMaXN0YC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGNsYXNzZXMoZWwpIHtcbiAgcmV0dXJuIG5ldyBDbGFzc0xpc3QoZWwpO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgQ2xhc3NMaXN0IGZvciBgZWxgLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIENsYXNzTGlzdChlbCkge1xuICBpZiAoIWVsIHx8ICFlbC5ub2RlVHlwZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQSBET00gZWxlbWVudCByZWZlcmVuY2UgaXMgcmVxdWlyZWQnKTtcbiAgfVxuICB0aGlzLmVsID0gZWw7XG4gIHRoaXMubGlzdCA9IGVsLmNsYXNzTGlzdDtcbn1cblxuLyoqXG4gKiBBZGQgY2xhc3MgYG5hbWVgIGlmIG5vdCBhbHJlYWR5IHByZXNlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ2xhc3NMaXN0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHRoaXMubGlzdC5hZGQobmFtZSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgY2xhc3MgYG5hbWVgIHdoZW4gcHJlc2VudCwgb3JcbiAqIHBhc3MgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gcmVtb3ZlXG4gKiBhbnkgd2hpY2ggbWF0Y2guXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBuYW1lXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24obmFtZSkge1xuICBpZiAoJ1tvYmplY3QgUmVnRXhwXScgPT0gdG9TdHJpbmcuY2FsbChuYW1lKSkge1xuICAgIHJldHVybiB0aGlzLnJlbW92ZU1hdGNoaW5nKG5hbWUpO1xuICB9XG5cbiAgdGhpcy5saXN0LnJlbW92ZShuYW1lKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgY2xhc3NlcyBtYXRjaGluZyBgcmVgLlxuICpcbiAqIEBwYXJhbSB7UmVnRXhwfSByZVxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuQ2xhc3NMaXN0LnByb3RvdHlwZS5yZW1vdmVNYXRjaGluZyA9IGZ1bmN0aW9uKHJlKSB7XG4gIGNvbnN0IGFyciA9IHRoaXMuYXJyYXkoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAocmUudGVzdChhcnJbaV0pKSB7XG4gICAgICB0aGlzLnJlbW92ZShhcnJbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogVG9nZ2xlIGNsYXNzIGBuYW1lYCwgY2FuIGZvcmNlIHN0YXRlIHZpYSBgZm9yY2VgLlxuICpcbiAqIEZvciBicm93c2VycyB0aGF0IHN1cHBvcnQgY2xhc3NMaXN0LCBidXQgZG8gbm90IHN1cHBvcnQgYGZvcmNlYCB5ZXQsXG4gKiB0aGUgbWlzdGFrZSB3aWxsIGJlIGRldGVjdGVkIGFuZCBjb3JyZWN0ZWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZm9yY2VcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ2xhc3NMaXN0LnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbihuYW1lLCBmb3JjZSkge1xuICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBmb3JjZSkge1xuICAgIGlmIChmb3JjZSAhPT0gdGhpcy5saXN0LnRvZ2dsZShuYW1lLCBmb3JjZSkpIHtcbiAgICAgIHRoaXMubGlzdC50b2dnbGUobmFtZSk7IC8vIHRvZ2dsZSBhZ2FpbiB0byBjb3JyZWN0XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMubGlzdC50b2dnbGUobmFtZSk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBvZiBjbGFzc2VzLlxuICpcbiAqIEByZXR1cm4ge0FycmF5fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5DbGFzc0xpc3QucHJvdG90eXBlLmFycmF5ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBBcnJheS5mcm9tKHRoaXMubGlzdCk7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGNsYXNzIGBuYW1lYCBpcyBwcmVzZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUuaGFzID1cbkNsYXNzTGlzdC5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLmxpc3QuY29udGFpbnMobmFtZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgY2hpbGRyZW4gZnJvbSB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gY2xlYXIoZWwpIHtcblxuICB2YXIgYztcblxuICB3aGlsZSAoZWwuY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICBjID0gZWwuY2hpbGROb2Rlc1swXTtcbiAgICBlbC5yZW1vdmVDaGlsZChjKTtcbiAgfVxuXG4gIHJldHVybiBlbDtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyBIVE1MRWxlbWVudCB9IGVsZW1lbnRcbiAqIEBwYXJhbSB7IFN0cmluZyB9IHNlbGVjdG9yXG4gKlxuICogQHJldHVybiB7IGJvb2xlYW4gfVxuICovXG5mdW5jdGlvbiBtYXRjaGVzKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gIHJldHVybiBlbGVtZW50ICYmIHR5cGVvZiBlbGVtZW50Lm1hdGNoZXMgPT09ICdmdW5jdGlvbicgJiYgZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKTtcbn1cblxuLyoqXG4gKiBDbG9zZXN0XG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGNoZWNrWW91clNlbGYgKG9wdGlvbmFsKVxuICovXG5mdW5jdGlvbiBjbG9zZXN0KGVsZW1lbnQsIHNlbGVjdG9yLCBjaGVja1lvdXJTZWxmKSB7XG4gIHZhciBjdXJyZW50RWxlbSA9IGNoZWNrWW91clNlbGYgPyBlbGVtZW50IDogZWxlbWVudC5wYXJlbnROb2RlO1xuXG4gIHdoaWxlIChjdXJyZW50RWxlbSAmJiBjdXJyZW50RWxlbS5ub2RlVHlwZSAhPT0gZG9jdW1lbnQuRE9DVU1FTlRfTk9ERSAmJlxuICAgICAgY3VycmVudEVsZW0ubm9kZVR5cGUgIT09IGRvY3VtZW50LkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUpIHtcblxuICAgIGlmIChtYXRjaGVzKGN1cnJlbnRFbGVtLCBzZWxlY3RvcikpIHtcbiAgICAgIHJldHVybiBjdXJyZW50RWxlbTtcbiAgICB9XG5cbiAgICBjdXJyZW50RWxlbSA9IGN1cnJlbnRFbGVtLnBhcmVudE5vZGU7XG4gIH1cblxuICByZXR1cm4gbWF0Y2hlcyhjdXJyZW50RWxlbSwgc2VsZWN0b3IpID8gY3VycmVudEVsZW0gOiBudWxsO1xufVxuXG52YXIgY29tcG9uZW50RXZlbnQgPSB7fTtcblxudmFyIGJpbmQkMSwgdW5iaW5kJDEsIHByZWZpeDtcblxuZnVuY3Rpb24gZGV0ZWN0ICgpIHtcbiAgYmluZCQxID0gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgPyAnYWRkRXZlbnRMaXN0ZW5lcicgOiAnYXR0YWNoRXZlbnQnO1xuICB1bmJpbmQkMSA9IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyID8gJ3JlbW92ZUV2ZW50TGlzdGVuZXInIDogJ2RldGFjaEV2ZW50JztcbiAgcHJlZml4ID0gYmluZCQxICE9PSAnYWRkRXZlbnRMaXN0ZW5lcicgPyAnb24nIDogJyc7XG59XG5cbi8qKlxuICogQmluZCBgZWxgIGV2ZW50IGB0eXBlYCB0byBgZm5gLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtCb29sZWFufSBjYXB0dXJlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxudmFyIGJpbmRfMSA9IGNvbXBvbmVudEV2ZW50LmJpbmQgPSBmdW5jdGlvbihlbCwgdHlwZSwgZm4sIGNhcHR1cmUpe1xuICBpZiAoIWJpbmQkMSkgZGV0ZWN0KCk7XG4gIGVsW2JpbmQkMV0ocHJlZml4ICsgdHlwZSwgZm4sIGNhcHR1cmUgfHwgZmFsc2UpO1xuICByZXR1cm4gZm47XG59O1xuXG4vKipcbiAqIFVuYmluZCBgZWxgIGV2ZW50IGB0eXBlYCdzIGNhbGxiYWNrIGBmbmAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGNhcHR1cmVcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG52YXIgdW5iaW5kXzEgPSBjb21wb25lbnRFdmVudC51bmJpbmQgPSBmdW5jdGlvbihlbCwgdHlwZSwgZm4sIGNhcHR1cmUpe1xuICBpZiAoIXVuYmluZCQxKSBkZXRlY3QoKTtcbiAgZWxbdW5iaW5kJDFdKHByZWZpeCArIHR5cGUsIGZuLCBjYXB0dXJlIHx8IGZhbHNlKTtcbiAgcmV0dXJuIGZuO1xufTtcblxudmFyIGV2ZW50ID0gLyojX19QVVJFX18qL19tZXJnZU5hbWVzcGFjZXMoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIGJpbmQ6IGJpbmRfMSxcbiAgZGVmYXVsdDogY29tcG9uZW50RXZlbnQsXG4gIHVuYmluZDogdW5iaW5kXzFcbn0sIFtjb21wb25lbnRFdmVudF0pO1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxuXG4vKipcbiAqIERlbGVnYXRlIGV2ZW50IGB0eXBlYCB0byBgc2VsZWN0b3JgXG4gKiBhbmQgaW52b2tlIGBmbihlKWAuIEEgY2FsbGJhY2sgZnVuY3Rpb25cbiAqIGlzIHJldHVybmVkIHdoaWNoIG1heSBiZSBwYXNzZWQgdG8gYC51bmJpbmQoKWAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gY2FwdHVyZVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbi8vIFNvbWUgZXZlbnRzIGRvbid0IGJ1YmJsZSwgc28gd2Ugd2FudCB0byBiaW5kIHRvIHRoZSBjYXB0dXJlIHBoYXNlIGluc3RlYWRcbi8vIHdoZW4gZGVsZWdhdGluZy5cbnZhciBmb3JjZUNhcHR1cmVFdmVudHMgPSBbICdmb2N1cycsICdibHVyJyBdO1xuXG5mdW5jdGlvbiBiaW5kKGVsLCBzZWxlY3RvciwgdHlwZSwgZm4sIGNhcHR1cmUpIHtcbiAgaWYgKGZvcmNlQ2FwdHVyZUV2ZW50cy5pbmRleE9mKHR5cGUpICE9PSAtMSkge1xuICAgIGNhcHR1cmUgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGV2ZW50LmJpbmQoZWwsIHR5cGUsIGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuICAgIGUuZGVsZWdhdGVUYXJnZXQgPSBjbG9zZXN0KHRhcmdldCwgc2VsZWN0b3IsIHRydWUpO1xuICAgIGlmIChlLmRlbGVnYXRlVGFyZ2V0KSB7XG4gICAgICBmbi5jYWxsKGVsLCBlKTtcbiAgICB9XG4gIH0sIGNhcHR1cmUpO1xufVxuXG4vKipcbiAqIFVuYmluZCBldmVudCBgdHlwZWAncyBjYWxsYmFjayBgZm5gLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtCb29sZWFufSBjYXB0dXJlXG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiB1bmJpbmQoZWwsIHR5cGUsIGZuLCBjYXB0dXJlKSB7XG4gIGlmIChmb3JjZUNhcHR1cmVFdmVudHMuaW5kZXhPZih0eXBlKSAhPT0gLTEpIHtcbiAgICBjYXB0dXJlID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBldmVudC51bmJpbmQoZWwsIHR5cGUsIGZuLCBjYXB0dXJlKTtcbn1cblxudmFyIGRlbGVnYXRlID0ge1xuICBiaW5kLFxuICB1bmJpbmRcbn07XG5cbmZ1bmN0aW9uIHF1ZXJ5KHNlbGVjdG9yLCBlbCkge1xuICBlbCA9IGVsIHx8IGRvY3VtZW50O1xuXG4gIHJldHVybiBlbC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbn1cblxuZnVuY3Rpb24gYWxsKHNlbGVjdG9yLCBlbCkge1xuICBlbCA9IGVsIHx8IGRvY3VtZW50O1xuXG4gIHJldHVybiBlbC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlKGVsKSB7XG4gIGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XG59XG5cbmV4cG9ydCB7IGFzc2lnbiBhcyBhc3NpZ25TdHlsZSwgYXR0ciwgY2xhc3NlcywgY2xlYXIsIGNsb3Nlc3QsIGRlbGVnYXRlLCBldmVudCwgbWF0Y2hlcywgcXVlcnksIGFsbCBhcyBxdWVyeUFsbCwgcmVtb3ZlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/min-dom/dist/index.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./lib/viewer.js");
/******/ 	
/******/ })()
;